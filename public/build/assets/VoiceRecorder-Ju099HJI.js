import{r,j as e}from"./app-DN87dkZC.js";import{T as y,M as j}from"./toggle-BiNj5O7s.js";import"./utils-Dvg7oLsK.js";import"./index-DW48STyt.js";import"./index-D4B-ssot.js";import"./index-CB5t9krD.js";import"./index-DVXO1BkA.js";function k({onAudioReady:s}){const[i,d]=r.useState(!1),[n,c]=r.useState(null),[l,m]=r.useState(null),p=async()=>{c(null);const g=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(g);m(a),a.start(),d(!0);const u=[];a.ondataavailable=t=>{u.push(t.data)},a.onstop=()=>{const t=new Blob(u,{type:"audio/mp3"});s(t);const o=new FileReader;o.onloadend=()=>{c(o.result)},o.readAsDataURL(t)}},x=()=>{l&&l.stop(),d(!1)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"md:flex items-center space-x-3 md:space-y-0 space-y-3",children:[e.jsxs(y,{onClick:i?x:p,className:"bg-gray-100 data-[state=on]:bg-red-500 data-[state=on]:text-white",children:[e.jsx(j,{}),i?"Sedang merekam":"Mulai merekam"]}),n&&e.jsx(R,{audioURL:n})]})})}const R=({audioURL:s})=>e.jsx("div",{className:"audio-player-container",children:e.jsx("div",{className:"audio-player-wrapper",children:e.jsxs("audio",{controls:!0,className:"audio-player",onPlay:()=>console.log("Audio started playing"),children:[e.jsx("source",{src:s,type:"audio/mp3"}),e.jsx("source",{src:s,type:"audio/webm"}),e.jsx("source",{src:s,type:"audio/wav"}),"Your browser does not support the audio element."]})})});export{k as default};
