import{r as o,j as e}from"./app-iOfuzUGb.js";import{T as j,M as y}from"./toggle-DaNNEDzw.js";import"./createLucideIcon-DGLUHFW_.js";import"./index-DW48STyt.js";import"./index-tqG9kcKA.js";import"./index-QihyCi18.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";function S({onAudioReady:s}){const[i,d]=o.useState(!1),[c,n]=o.useState(null),[u,m]=o.useState(null),p=async()=>{n(null);const g=await navigator.mediaDevices.getUserMedia({audio:!0}),a=new MediaRecorder(g);m(a),a.start(),d(!0);const l=[];a.ondataavailable=t=>{l.push(t.data)},a.onstop=()=>{const t=new Blob(l,{type:"audio/mp3"});s(t);const r=new FileReader;r.onloadend=()=>{n(r.result)},r.readAsDataURL(t)}},x=()=>{u&&u.stop(),d(!1)};return e.jsxs("div",{className:"md:flex items-center space-x-3 md:space-y-0 space-y-3",children:[e.jsxs(j,{onClick:i?x:p,className:"bg-gray-100 data-[state=on]:bg-red-500 data-[state=on]:text-white",children:[e.jsx(y,{}),i?"Sedang merekam":"Mulai merekam"]}),c&&e.jsx(R,{audioURL:c})]})}const R=({audioURL:s})=>e.jsx("div",{className:"audio-player-container",children:e.jsx("div",{className:"audio-player-wrapper",children:e.jsxs("audio",{controls:!0,className:"audio-player",children:[e.jsx("source",{src:s,type:"audio/mp3"}),e.jsx("source",{src:s,type:"audio/webm"}),e.jsx("source",{src:s,type:"audio/wav"}),"Your browser does not support the audio element."]})})});export{S as default};
