import{c as Ll,b as pe}from"./utils-CxteQpqs.js";import{r as R,j as St,U as _t,b as hf,c as df}from"./app-CDD4Lv-q.js";import{O as Cl,C as kl,a as ff,X as mf,T as Al,D as Ml,R as pf,b as _f,P as gf,c as El}from"./sheet-D2krheDD.js";import{P as Ol,S as vf,g as yf,a as xf}from"./Combination-D2Bk3FxL.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Ll("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=Ll("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);function wf(i){if(typeof Proxy>"u")return i;const e=new Map,n=(...r)=>i(...r);return new Proxy(n,{get:(r,a)=>a==="create"?i:(e.has(a)||e.set(a,i(a)),e.get(a))})}function Us(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const Gr=i=>Array.isArray(i);function Dl(i,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==i.length)return!1;for(let r=0;r<n;r++)if(e[r]!==i[r])return!1;return!0}function kn(i){return typeof i=="string"||Array.isArray(i)}function nu(i){const e=[{},{}];return i==null||i.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vo(i,e,n,r){if(typeof e=="function"){const[a,u]=nu(r);e=e(n!==void 0?n:i.custom,a,u)}if(typeof e=="string"&&(e=i.variants&&i.variants[e]),typeof e=="function"){const[a,u]=nu(r);e=e(n!==void 0?n:i.custom,a,u)}return e}function Ws(i,e,n){const r=i.getProps();return vo(r,e,n!==void 0?n:r.custom,i)}const yo=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xo=["initial",...yo],$n=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wi=new Set($n),je=i=>i*1e3,Ue=i=>i/1e3,bf={type:"spring",stiffness:500,damping:25,restSpeed:10},Tf=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),Pf={type:"keyframes",duration:.8},Sf={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lf=(i,{keyframes:e})=>e.length>2?Pf:wi.has(i)?i.startsWith("scale")?Tf(e[1]):bf:Sf;function wo(i,e){return i?i[e]||i.default||i:void 0}const Cf={skipAnimations:!1,useManualTiming:!1},kf=i=>i!==null;function Hs(i,{repeat:e,repeatType:n="loop"},r){const a=i.filter(kf),u=e&&n!=="loop"&&e%2===1?0:a.length-1;return!u||r===void 0?a[u]:r}const Yt=i=>i;let Kr=Yt;function Af(i){let e=new Set,n=new Set,r=!1,a=!1;const u=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){u.has(m)&&(f.schedule(m),i()),m(c)}const f={schedule:(m,_=!1,g=!1)=>{const P=g&&r?e:n;return _&&u.add(m),P.has(m)||P.add(m),m},cancel:m=>{n.delete(m),u.delete(m)},process:m=>{if(c=m,r){a=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(d),r=!1,a&&(a=!1,f.process(m))}};return f}const vs=["read","resolveKeyframes","update","preRender","render","postRender"],Mf=40;function Rl(i,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},u=()=>n=!0,c=vs.reduce((O,M)=>(O[M]=Af(u),O),{}),{read:d,resolveKeyframes:f,update:m,preRender:_,render:g,postRender:x}=c,P=()=>{const O=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(O-a.timestamp,Mf),1),a.timestamp=O,a.isProcessing=!0,d.process(a),f.process(a),m.process(a),_.process(a),g.process(a),x.process(a),a.isProcessing=!1,n&&e&&(r=!1,i(P))},A=()=>{n=!0,r=!0,a.isProcessing||i(P)};return{schedule:vs.reduce((O,M)=>{const z=c[M];return O[M]=(et,j=!1,lt=!1)=>(n||A(),z.schedule(et,j,lt)),O},{}),cancel:O=>{for(let M=0;M<vs.length;M++)c[vs[M]].cancel(O)},state:a,steps:c}}const{schedule:xt,cancel:Qe,state:$t,steps:Mr}=Rl(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0),Vl=(i,e,n)=>(((1-3*n+3*e)*i+(3*n-6*e))*i+3*e)*i,Ef=1e-7,Of=12;function Df(i,e,n,r,a){let u,c,d=0;do c=e+(n-e)/2,u=Vl(c,r,a)-i,u>0?n=c:e=c;while(Math.abs(u)>Ef&&++d<Of);return c}function Gn(i,e,n,r){if(i===e&&n===r)return Yt;const a=u=>Df(u,0,1,i,n);return u=>u===0||u===1?u:Vl(a(u),e,r)}const Il=i=>e=>e<=.5?i(2*e)/2:(2-i(2*(1-e)))/2,Bl=i=>e=>1-i(1-e),Nl=Gn(.33,1.53,.69,.99),bo=Bl(Nl),Zl=Il(bo),zl=i=>(i*=2)<1?.5*bo(i):.5*(2-Math.pow(2,-10*(i-1))),To=i=>1-Math.sin(Math.acos(i)),Fl=Bl(To),jl=Il(To),Ul=i=>/^0[^.\s]+$/u.test(i);function Rf(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||Ul(i):!0}const Wl=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),Hl=i=>e=>typeof e=="string"&&e.startsWith(i),$l=Hl("--"),Vf=Hl("var(--"),Po=i=>Vf(i)?If.test(i.split("/*")[0].trim()):!1,If=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bf=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nf(i){const e=Bf.exec(i);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function Gl(i,e,n=1){const[r,a]=Nf(i);if(!r)return;const u=window.getComputedStyle(e).getPropertyValue(r);if(u){const c=u.trim();return Wl(c)?parseFloat(c):c}return Po(a)?Gl(a,e,n+1):a}const We=(i,e,n)=>n>e?e:n<i?i:n,Yi={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},An={...Yi,transform:i=>We(0,1,i)},ys={...Yi,default:1},Kn=i=>({test:e=>typeof e=="string"&&e.endsWith(i)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${i}`}),Ke=Kn("deg"),Me=Kn("%"),Y=Kn("px"),Zf=Kn("vh"),zf=Kn("vw"),su={...Me,parse:i=>Me.parse(i)/100,transform:i=>Me.transform(i*100)},Ff=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),ru=i=>i===Yi||i===Y,ou=(i,e)=>parseFloat(i.split(", ")[e]),au=(i,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/u);if(a)return ou(a[1],e);{const u=r.match(/^matrix\((.+)\)$/u);return u?ou(u[1],i):0}},jf=new Set(["x","y","z"]),Uf=$n.filter(i=>!jf.has(i));function Wf(i){const e=[];return Uf.forEach(n=>{const r=i.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wi={width:({x:i},{paddingLeft:e="0",paddingRight:n="0"})=>i.max-i.min-parseFloat(e)-parseFloat(n),height:({y:i},{paddingTop:e="0",paddingBottom:n="0"})=>i.max-i.min-parseFloat(e)-parseFloat(n),top:(i,{top:e})=>parseFloat(e),left:(i,{left:e})=>parseFloat(e),bottom:({y:i},{top:e})=>parseFloat(e)+(i.max-i.min),right:({x:i},{left:e})=>parseFloat(e)+(i.max-i.min),x:au(4,13),y:au(5,14)};Wi.translateX=Wi.x;Wi.translateY=Wi.y;const Kl=i=>e=>e.test(i),Hf={test:i=>i==="auto",parse:i=>i},ql=[Yi,Y,Me,Ke,zf,Zf,Hf],uu=i=>ql.find(Kl(i)),gi=new Set;let qr=!1,Yr=!1;function Yl(){if(Yr){const i=Array.from(gi).filter(r=>r.needsMeasurement),e=new Set(i.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=Wf(r);a.length&&(n.set(r,a),r.render())}),i.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([u,c])=>{var d;(d=r.getValue(u))===null||d===void 0||d.set(c)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Yr=!1,qr=!1,gi.forEach(i=>i.complete()),gi.clear()}function Xl(){gi.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Yr=!0)})}function $f(){Xl(),Yl()}class So{constructor(e,n,r,a,u,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=u,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(gi.add(this),qr||(qr=!0,xt.read(Xl),xt.resolveKeyframes(Yl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;for(let u=0;u<e.length;u++)if(e[u]===null)if(u===0){const c=a==null?void 0:a.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(r&&n){const f=r.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),a&&c===void 0&&a.set(e[0])}else e[u]=e[u-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),gi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,gi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Tn=i=>Math.round(i*1e5)/1e5,Lo=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gf(i){return i==null}const Kf=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Co=(i,e)=>n=>!!(typeof n=="string"&&Kf.test(n)&&n.startsWith(i)||e&&!Gf(n)&&Object.prototype.hasOwnProperty.call(n,e)),Jl=(i,e,n)=>r=>{if(typeof r!="string")return r;const[a,u,c,d]=r.match(Lo);return{[i]:parseFloat(a),[e]:parseFloat(u),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},qf=i=>We(0,255,i),Er={...Yi,transform:i=>Math.round(qf(i))},pi={test:Co("rgb","red"),parse:Jl("red","green","blue"),transform:({red:i,green:e,blue:n,alpha:r=1})=>"rgba("+Er.transform(i)+", "+Er.transform(e)+", "+Er.transform(n)+", "+Tn(An.transform(r))+")"};function Yf(i){let e="",n="",r="",a="";return i.length>5?(e=i.substring(1,3),n=i.substring(3,5),r=i.substring(5,7),a=i.substring(7,9)):(e=i.substring(1,2),n=i.substring(2,3),r=i.substring(3,4),a=i.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Xr={test:Co("#"),parse:Yf,transform:pi.transform},Bi={test:Co("hsl","hue"),parse:Jl("hue","saturation","lightness"),transform:({hue:i,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(i)+", "+Me.transform(Tn(e))+", "+Me.transform(Tn(n))+", "+Tn(An.transform(r))+")"},Kt={test:i=>pi.test(i)||Xr.test(i)||Bi.test(i),parse:i=>pi.test(i)?pi.parse(i):Bi.test(i)?Bi.parse(i):Xr.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?pi.transform(i):Bi.transform(i)},Xf=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jf(i){var e,n;return isNaN(i)&&typeof i=="string"&&(((e=i.match(Lo))===null||e===void 0?void 0:e.length)||0)+(((n=i.match(Xf))===null||n===void 0?void 0:n.length)||0)>0}const Ql="number",tc="color",Qf="var",tm="var(",lu="${}",em=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mn(i){const e=i.toString(),n=[],r={color:[],number:[],var:[]},a=[];let u=0;const d=e.replace(em,f=>(Kt.test(f)?(r.color.push(u),a.push(tc),n.push(Kt.parse(f))):f.startsWith(tm)?(r.var.push(u),a.push(Qf),n.push(f)):(r.number.push(u),a.push(Ql),n.push(parseFloat(f))),++u,lu)).split(lu);return{values:n,split:d,indexes:r,types:a}}function ec(i){return Mn(i).values}function ic(i){const{split:e,types:n}=Mn(i),r=e.length;return a=>{let u="";for(let c=0;c<r;c++)if(u+=e[c],a[c]!==void 0){const d=n[c];d===Ql?u+=Tn(a[c]):d===tc?u+=Kt.transform(a[c]):u+=a[c]}return u}}const im=i=>typeof i=="number"?0:i;function nm(i){const e=ec(i);return ic(i)(e.map(im))}const ti={test:Jf,parse:ec,createTransformer:ic,getAnimatableNone:nm},sm=new Set(["brightness","contrast","saturate","opacity"]);function rm(i){const[e,n]=i.slice(0,-1).split("(");if(e==="drop-shadow")return i;const[r]=n.match(Lo)||[];if(!r)return i;const a=n.replace(r,"");let u=sm.has(e)?1:0;return r!==n&&(u*=100),e+"("+u+a+")"}const om=/\b([a-z-]*)\(.*?\)/gu,Jr={...ti,getAnimatableNone:i=>{const e=i.match(om);return e?e.map(rm).join(" "):i}},am={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},um={rotate:Ke,rotateX:Ke,rotateY:Ke,rotateZ:Ke,scale:ys,scaleX:ys,scaleY:ys,scaleZ:ys,skew:Ke,skewX:Ke,skewY:Ke,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:An,originX:su,originY:su,originZ:Y},cu={...Yi,transform:Math.round},ko={...am,...um,zIndex:cu,size:Y,fillOpacity:An,strokeOpacity:An,numOctaves:cu},lm={...ko,color:Kt,backgroundColor:Kt,outlineColor:Kt,fill:Kt,stroke:Kt,borderColor:Kt,borderTopColor:Kt,borderRightColor:Kt,borderBottomColor:Kt,borderLeftColor:Kt,filter:Jr,WebkitFilter:Jr},Ao=i=>lm[i];function nc(i,e){let n=Ao(i);return n!==Jr&&(n=ti),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cm=new Set(["auto","none","0"]);function hm(i,e,n){let r=0,a;for(;r<i.length&&!a;){const u=i[r];typeof u=="string"&&!cm.has(u)&&Mn(u).values.length&&(a=i[r]),r++}if(a&&n)for(const u of e)i[u]=nc(n,a)}class sc extends So{constructor(e,n,r,a,u){super(e,n,r,a,u,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),Po(m))){const _=Gl(m,n.current);_!==void 0&&(e[f]=_),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Ff.has(r)||e.length!==2)return;const[a,u]=e,c=uu(a),d=uu(u);if(c!==d)if(ru(c)&&ru(d))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)Rf(e[a])&&r.push(a);r.length&&hm(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wi[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:a}=this;if(!n||!n.current)return;const u=n.getValue(r);u&&u.jump(this.measuredOrigin,!1);const c=a.length-1,d=a[c];a[c]=Wi[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,m])=>{n.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function Mo(i){return typeof i=="function"}let ws;function dm(){ws=void 0}const Ee={now:()=>(ws===void 0&&Ee.set($t.isProcessing||Cf.useManualTiming?$t.timestamp:performance.now()),ws),set:i=>{ws=i,queueMicrotask(dm)}},hu=(i,e)=>e==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(ti.test(i)||i==="0")&&!i.startsWith("url("));function fm(i){const e=i[0];if(i.length===1)return!0;for(let n=0;n<i.length;n++)if(i[n]!==e)return!0}function mm(i,e,n,r){const a=i[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const u=i[i.length-1],c=hu(a,e),d=hu(u,e);return!c||!d?!1:fm(i)||(n==="spring"||Mo(n))&&r}const pm=40;class rc{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:u=0,repeatType:c="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ee.now(),this.options={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:u,repeatType:c,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pm?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$f(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Ee.now(),this.hasAttemptedResolve=!0;const{name:r,type:a,velocity:u,delay:c,onComplete:d,onUpdate:f,isGenerator:m}=this.options;if(!m&&!mm(e,r,a,u))if(c)this.options.duration=0;else{f==null||f(Hs(e,this.options,n)),d==null||d(),this.resolveFinishedPromise();return}const _=this.initPlayback(e,n);_!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,..._},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Hi=(i,e,n)=>{const r=e-i;return r===0?1:(n-i)/r},oc=(i,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let u=0;u<a;u++)r+=i(Hi(0,a-1,u))+", ";return`linear(${r.substring(0,r.length-2)})`};function ac(i,e){return e?i*(1e3/e):0}const _m=5;function uc(i,e,n){const r=Math.max(e-_m,0);return ac(n-i(r),e-r)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Or=.001;function gm({duration:i=Dt.duration,bounce:e=Dt.bounce,velocity:n=Dt.velocity,mass:r=Dt.mass}){let a,u,c=1-e;c=We(Dt.minDamping,Dt.maxDamping,c),i=We(Dt.minDuration,Dt.maxDuration,Ue(i)),c<1?(a=m=>{const _=m*c,g=_*i,x=_-n,P=Qr(m,c),A=Math.exp(-g);return Or-x/P*A},u=m=>{const g=m*c*i,x=g*n+n,P=Math.pow(c,2)*Math.pow(m,2)*i,A=Math.exp(-g),k=Qr(Math.pow(m,2),c);return(-a(m)+Or>0?-1:1)*((x-P)*A)/k}):(a=m=>{const _=Math.exp(-m*i),g=(m-n)*i+1;return-Or+_*g},u=m=>{const _=Math.exp(-m*i),g=(n-m)*(i*i);return _*g});const d=5/i,f=ym(a,u,d);if(i=je(i),isNaN(f))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:i};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:i}}}const vm=12;function ym(i,e,n){let r=n;for(let a=1;a<vm;a++)r=r-i(r)/e(r);return r}function Qr(i,e){return i*Math.sqrt(1-e*e)}const to=2e4;function lc(i){let e=0;const n=50;let r=i.next(e);for(;!r.done&&e<to;)e+=n,r=i.next(e);return e>=to?1/0:e}const xm=["duration","bounce"],wm=["stiffness","damping","mass"];function du(i,e){return e.some(n=>i[n]!==void 0)}function bm(i){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...i};if(!du(i,wm)&&du(i,xm))if(i.visualDuration){const n=i.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,u=2*We(.05,1,1-i.bounce)*Math.sqrt(a);e={...e,mass:Dt.mass,stiffness:a,damping:u}}else{const n=gm(i);e={...e,...n,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function cc(i=Dt.visualDuration,e=Dt.bounce){const n=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:e}:i;let{restSpeed:r,restDelta:a}=n;const u=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:u},{stiffness:f,damping:m,mass:_,duration:g,velocity:x,isResolvedFromDuration:P}=bm({...n,velocity:-Ue(n.velocity||0)}),A=x||0,k=m/(2*Math.sqrt(f*_)),N=c-u,O=Ue(Math.sqrt(f/_)),M=Math.abs(N)<5;r||(r=M?Dt.restSpeed.granular:Dt.restSpeed.default),a||(a=M?Dt.restDelta.granular:Dt.restDelta.default);let z;if(k<1){const j=Qr(O,k);z=lt=>{const Lt=Math.exp(-k*O*lt);return c-Lt*((A+k*O*N)/j*Math.sin(j*lt)+N*Math.cos(j*lt))}}else if(k===1)z=j=>c-Math.exp(-O*j)*(N+(A+O*N)*j);else{const j=O*Math.sqrt(k*k-1);z=lt=>{const Lt=Math.exp(-k*O*lt),Q=Math.min(j*lt,300);return c-Lt*((A+k*O*N)*Math.sinh(Q)+j*N*Math.cosh(Q))/j}}const et={calculatedDuration:P&&g||null,next:j=>{const lt=z(j);if(P)d.done=j>=g;else{let Lt=0;k<1&&(Lt=j===0?je(A):uc(z,j,lt));const Q=Math.abs(Lt)<=r,Ct=Math.abs(c-lt)<=a;d.done=Q&&Ct}return d.value=d.done?c:lt,d},toString:()=>{const j=Math.min(lc(et),to),lt=oc(Lt=>et.next(j*Lt).value,j,30);return j+"ms "+lt}};return et}function fu({keyframes:i,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:u=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:_}){const g=i[0],x={done:!1,value:g},P=Q=>d!==void 0&&Q<d||f!==void 0&&Q>f,A=Q=>d===void 0?f:f===void 0||Math.abs(d-Q)<Math.abs(f-Q)?d:f;let k=n*e;const N=g+k,O=c===void 0?N:c(N);O!==N&&(k=O-g);const M=Q=>-k*Math.exp(-Q/r),z=Q=>O+M(Q),et=Q=>{const Ct=M(Q),yt=z(Q);x.done=Math.abs(Ct)<=m,x.value=x.done?O:yt};let j,lt;const Lt=Q=>{P(x.value)&&(j=Q,lt=cc({keyframes:[x.value,A(x.value)],velocity:uc(z,Q,x.value),damping:a,stiffness:u,restDelta:m,restSpeed:_}))};return Lt(0),{calculatedDuration:null,next:Q=>{let Ct=!1;return!lt&&j===void 0&&(Ct=!0,et(Q),Lt(Q)),j!==void 0&&Q>=j?lt.next(Q-j):(!Ct&&et(Q),x)}}}const Tm=Gn(.42,0,1,1),Pm=Gn(0,0,.58,1),hc=Gn(.42,0,.58,1),Sm=i=>Array.isArray(i)&&typeof i[0]!="number",Eo=i=>Array.isArray(i)&&typeof i[0]=="number",mu={linear:Yt,easeIn:Tm,easeInOut:hc,easeOut:Pm,circIn:To,circInOut:jl,circOut:Fl,backIn:bo,backInOut:Zl,backOut:Nl,anticipate:zl},pu=i=>{if(Eo(i)){Kr(i.length===4);const[e,n,r,a]=i;return Gn(e,n,r,a)}else if(typeof i=="string")return Kr(mu[i]!==void 0),mu[i];return i},Lm=(i,e)=>n=>e(i(n)),Xe=(...i)=>i.reduce(Lm),Et=(i,e,n)=>i+(e-i)*n;function Dr(i,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?i+(e-i)*6*n:n<1/2?e:n<2/3?i+(e-i)*(2/3-n)*6:i}function Cm({hue:i,saturation:e,lightness:n,alpha:r}){i/=360,e/=100,n/=100;let a=0,u=0,c=0;if(!e)a=u=c=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;a=Dr(f,d,i+1/3),u=Dr(f,d,i),c=Dr(f,d,i-1/3)}return{red:Math.round(a*255),green:Math.round(u*255),blue:Math.round(c*255),alpha:r}}function Ss(i,e){return n=>n>0?e:i}const Rr=(i,e,n)=>{const r=i*i,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},km=[Xr,pi,Bi],Am=i=>km.find(e=>e.test(i));function _u(i){const e=Am(i);if(!e)return!1;let n=e.parse(i);return e===Bi&&(n=Cm(n)),n}const gu=(i,e)=>{const n=_u(i),r=_u(e);if(!n||!r)return Ss(i,e);const a={...n};return u=>(a.red=Rr(n.red,r.red,u),a.green=Rr(n.green,r.green,u),a.blue=Rr(n.blue,r.blue,u),a.alpha=Et(n.alpha,r.alpha,u),pi.transform(a))},eo=new Set(["none","hidden"]);function Mm(i,e){return eo.has(i)?n=>n<=0?i:e:n=>n>=1?e:i}function Em(i,e){return n=>Et(i,e,n)}function Oo(i){return typeof i=="number"?Em:typeof i=="string"?Po(i)?Ss:Kt.test(i)?gu:Rm:Array.isArray(i)?dc:typeof i=="object"?Kt.test(i)?gu:Om:Ss}function dc(i,e){const n=[...i],r=n.length,a=i.map((u,c)=>Oo(u)(u,e[c]));return u=>{for(let c=0;c<r;c++)n[c]=a[c](u);return n}}function Om(i,e){const n={...i,...e},r={};for(const a in n)i[a]!==void 0&&e[a]!==void 0&&(r[a]=Oo(i[a])(i[a],e[a]));return a=>{for(const u in r)n[u]=r[u](a);return n}}function Dm(i,e){var n;const r=[],a={color:0,var:0,number:0};for(let u=0;u<e.values.length;u++){const c=e.types[u],d=i.indexes[c][a[c]],f=(n=i.values[d])!==null&&n!==void 0?n:0;r[u]=f,a[c]++}return r}const Rm=(i,e)=>{const n=ti.createTransformer(e),r=Mn(i),a=Mn(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?eo.has(i)&&!a.values.length||eo.has(e)&&!r.values.length?Mm(i,e):Xe(dc(Dm(r,a),a.values),n):Ss(i,e)};function fc(i,e,n){return typeof i=="number"&&typeof e=="number"&&typeof n=="number"?Et(i,e,n):Oo(i)(i,e)}function Vm(i,e,n){const r=[],a=n||fc,u=i.length-1;for(let c=0;c<u;c++){let d=a(i[c],i[c+1]);if(e){const f=Array.isArray(e)?e[c]||Yt:e;d=Xe(f,d)}r.push(d)}return r}function Im(i,e,{clamp:n=!0,ease:r,mixer:a}={}){const u=i.length;if(Kr(u===e.length),u===1)return()=>e[0];if(u===2&&i[0]===i[1])return()=>e[1];i[0]>i[u-1]&&(i=[...i].reverse(),e=[...e].reverse());const c=Vm(e,r,a),d=c.length,f=m=>{let _=0;if(d>1)for(;_<i.length-2&&!(m<i[_+1]);_++);const g=Hi(i[_],i[_+1],m);return c[_](g)};return n?m=>f(We(i[0],i[u-1],m)):f}function Bm(i,e){const n=i[i.length-1];for(let r=1;r<=e;r++){const a=Hi(0,e,r);i.push(Et(n,1,a))}}function Nm(i){const e=[0];return Bm(e,i.length-1),e}function Zm(i,e){return i.map(n=>n*e)}function zm(i,e){return i.map(()=>e||hc).splice(0,i.length-1)}function Ls({duration:i=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=Sm(r)?r.map(pu):pu(r),u={done:!1,value:e[0]},c=Zm(n&&n.length===e.length?n:Nm(e),i),d=Im(c,e,{ease:Array.isArray(a)?a:zm(e,a)});return{calculatedDuration:i,next:f=>(u.value=d(f),u.done=f>=i,u)}}const Fm=i=>{const e=({timestamp:n})=>i(n);return{start:()=>xt.update(e,!0),stop:()=>Qe(e),now:()=>$t.isProcessing?$t.timestamp:Ee.now()}},jm={decay:fu,inertia:fu,tween:Ls,keyframes:Ls,spring:cc},Um=i=>i/100;class Do extends rc{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:a,keyframes:u}=this.options,c=(a==null?void 0:a.KeyframeResolver)||So,d=(f,m)=>this.onKeyframesResolved(f,m);this.resolver=new c(u,d,n,r,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:u,velocity:c=0}=this.options,d=Mo(n)?n:jm[n]||Ls;let f,m;d!==Ls&&typeof e[0]!="number"&&(f=Xe(Um,fc(e[0],e[1])),e=[0,100]);const _=d({...this.options,keyframes:e});u==="mirror"&&(m=d({...this.options,keyframes:[...e].reverse(),velocity:-c})),_.calculatedDuration===null&&(_.calculatedDuration=lc(_));const{calculatedDuration:g}=_,x=g+a,P=x*(r+1)-a;return{generator:_,mirroredGenerator:m,mapPercentToKeyframes:f,calculatedDuration:g,resolvedDuration:x,totalDuration:P}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:Q}=this.options;return{done:!0,value:Q[Q.length-1]}}const{finalKeyframe:a,generator:u,mirroredGenerator:c,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:m,totalDuration:_,resolvedDuration:g}=r;if(this.startTime===null)return u.next(0);const{delay:x,repeat:P,repeatType:A,repeatDelay:k,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-_/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-x*(this.speed>=0?1:-1),M=this.speed>=0?O<0:O>_;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=_);let z=this.currentTime,et=u;if(P){const Q=Math.min(this.currentTime,_)/g;let Ct=Math.floor(Q),yt=Q%1;!yt&&Q>=1&&(yt=1),yt===1&&Ct--,Ct=Math.min(Ct,P+1),!!(Ct%2)&&(A==="reverse"?(yt=1-yt,k&&(yt-=k/g)):A==="mirror"&&(et=c)),z=We(0,1,yt)*g}const j=M?{done:!1,value:f[0]}:et.next(z);d&&(j.value=d(j.value));let{done:lt}=j;!M&&m!==null&&(lt=this.speed>=0?this.currentTime>=_:this.currentTime<=0);const Lt=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return Lt&&a!==void 0&&(j.value=Hs(f,this.options,a)),N&&N(j.value),Lt&&this.finish(),j}get duration(){const{resolved:e}=this;return e?Ue(e.calculatedDuration):0}get time(){return Ue(this.currentTime)}set time(e){e=je(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ue(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Fm,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),n&&n();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Wm=new Set(["opacity","clipPath","filter","transform"]);function Ro(i){let e;return()=>(e===void 0&&(e=i()),e)}const Hm={linearEasing:void 0};function $m(i,e){const n=Ro(i);return()=>{var r;return(r=Hm[e])!==null&&r!==void 0?r:n()}}const Cs=$m(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function mc(i){return!!(typeof i=="function"&&Cs()||!i||typeof i=="string"&&(i in io||Cs())||Eo(i)||Array.isArray(i)&&i.every(mc))}const yn=([i,e,n,r])=>`cubic-bezier(${i}, ${e}, ${n}, ${r})`,io={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yn([0,.65,.55,1]),circOut:yn([.55,0,1,.45]),backIn:yn([.31,.01,.66,-.59]),backOut:yn([.33,1.53,.69,.99])};function pc(i,e){if(i)return typeof i=="function"&&Cs()?oc(i,e):Eo(i)?yn(i):Array.isArray(i)?i.map(n=>pc(n,e)||io.easeOut):io[i]}function Gm(i,e,n,{delay:r=0,duration:a=300,repeat:u=0,repeatType:c="loop",ease:d="easeInOut",times:f}={}){const m={[e]:n};f&&(m.offset=f);const _=pc(d,a);return Array.isArray(_)&&(m.easing=_),i.animate(m,{delay:r,duration:a,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:u+1,direction:c==="reverse"?"alternate":"normal"})}function vu(i,e){i.timeline=e,i.onfinish=null}const Km=Ro(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ks=10,qm=2e4;function Ym(i){return Mo(i.type)||i.type==="spring"||!mc(i.ease)}function Xm(i,e){const n=new Do({...e,keyframes:i,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:i[0]};const a=[];let u=0;for(;!r.done&&u<qm;)r=n.sample(u),a.push(r.value),u+=ks;return{times:void 0,keyframes:a,duration:u-ks,ease:"linear"}}const _c={anticipate:zl,backInOut:Zl,circInOut:jl};function Jm(i){return i in _c}class yu extends rc{constructor(e){super(e);const{name:n,motionValue:r,element:a,keyframes:u}=this.options;this.resolver=new sc(u,(c,d)=>this.onKeyframesResolved(c,d),n,r,a),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:a=300,times:u,ease:c,type:d,motionValue:f,name:m,startTime:_}=this.options;if(!(!((r=f.owner)===null||r===void 0)&&r.current))return!1;if(typeof c=="string"&&Cs()&&Jm(c)&&(c=_c[c]),Ym(this.options)){const{onComplete:x,onUpdate:P,motionValue:A,element:k,...N}=this.options,O=Xm(e,N);e=O.keyframes,e.length===1&&(e[1]=e[0]),a=O.duration,u=O.times,c=O.ease,d="keyframes"}const g=Gm(f.owner.current,m,e,{...this.options,duration:a,times:u,ease:c});return g.startTime=_??this.calcStartTime(),this.pendingTimeline?(vu(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:x}=this.options;f.set(Hs(e,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:a,times:u,type:d,ease:c,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Ue(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Ue(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=je(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Yt;const{animation:r}=n;vu(r,e)}return Yt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:a,type:u,ease:c,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:_,onComplete:g,element:x,...P}=this.options,A=new Do({...P,keyframes:r,duration:a,type:u,ease:c,times:d,isGenerator:!0}),k=je(this.time);m.setWithVelocity(A.sample(k-ks).value,A.sample(k).value,ks)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:a,repeatType:u,damping:c,type:d}=e;return Km()&&r&&Wm.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!a&&u!=="mirror"&&c!==0&&d!=="inertia"}}const Qm=Ro(()=>window.ScrollTimeline!==void 0);class tp{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(a=>Qm()&&a.attachTimeline?a.attachTimeline(e):n(a));return()=>{r.forEach((a,u)=>{a&&a(),this.animations[u].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function ep({when:i,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:u,repeatType:c,repeatDelay:d,from:f,elapsed:m,..._}){return!!Object.keys(_).length}const Vo=(i,e,n,r={},a,u)=>c=>{const d=wo(r,i)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-je(f);let _={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-m,onUpdate:x=>{e.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:i,motionValue:e,element:u?void 0:a};ep(d)||(_={..._,...Lf(i,_)}),_.duration&&(_.duration=je(_.duration)),_.repeatDelay&&(_.repeatDelay=je(_.repeatDelay)),_.from!==void 0&&(_.keyframes[0]=_.from);let g=!1;if((_.type===!1||_.duration===0&&!_.repeatDelay)&&(_.duration=0,_.delay===0&&(g=!0)),g&&!u&&e.get()!==void 0){const x=Hs(_.keyframes,d);if(x!==void 0)return xt.update(()=>{_.onUpdate(x),_.onComplete()}),new tp([])}return!u&&yu.supports(_)?new yu(_):new Do(_)},ip=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),np=i=>Gr(i)?i[i.length-1]||0:i;function Io(i,e){i.indexOf(e)===-1&&i.push(e)}function Bo(i,e){const n=i.indexOf(e);n>-1&&i.splice(n,1)}class No{constructor(){this.subscriptions=[]}add(e){return Io(this.subscriptions,e),()=>Bo(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let u=0;u<a;u++){const c=this.subscriptions[u];c&&c(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const xu=30,sp=i=>!isNaN(parseFloat(i));class rp{constructor(e,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{const u=Ee.now();this.updatedAt!==u&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ee.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=sp(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new No);const r=this.events[e].add(n);return e==="change"?()=>{r(),xt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ee.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xu)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xu);return ac(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function En(i,e){return new rp(i,e)}function op(i,e,n){i.hasValue(e)?i.getValue(e).set(n):i.addValue(e,En(n))}function ap(i,e){const n=Ws(i,e);let{transitionEnd:r={},transition:a={},...u}=n||{};u={...u,...r};for(const c in u){const d=np(u[c]);op(i,c,d)}}const Zo=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),up="framerAppearId",gc="data-"+Zo(up);function vc(i){return i.props[gc]}const qt=i=>!!(i&&i.getVelocity);function lp(i){return!!(qt(i)&&i.add)}function no(i,e){const n=i.getValue("willChange");if(lp(n))return n.add(e)}function cp({protectedKeys:i,needsAnimating:e},n){const r=i.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function yc(i,e,{delay:n=0,transitionOverride:r,type:a}={}){var u;let{transition:c=i.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(c=r);const m=[],_=a&&i.animationState&&i.animationState.getState()[a];for(const g in f){const x=i.getValue(g,(u=i.latestValues[g])!==null&&u!==void 0?u:null),P=f[g];if(P===void 0||_&&cp(_,g))continue;const A={delay:n,...wo(c||{},g)};let k=!1;if(window.MotionHandoffAnimation){const O=vc(i);if(O){const M=window.MotionHandoffAnimation(O,g,xt);M!==null&&(A.startTime=M,k=!0)}}no(i,g),x.start(Vo(g,x,P,i.shouldReduceMotion&&wi.has(g)?{type:!1}:A,i,k));const N=x.animation;N&&m.push(N)}return d&&Promise.all(m).then(()=>{xt.update(()=>{d&&ap(i,d)})}),m}function so(i,e,n={}){var r;const a=Ws(i,e,n.type==="exit"?(r=i.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:u=i.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(u=n.transitionOverride);const c=a?()=>Promise.all(yc(i,a,n)):()=>Promise.resolve(),d=i.variantChildren&&i.variantChildren.size?(m=0)=>{const{delayChildren:_=0,staggerChildren:g,staggerDirection:x}=u;return hp(i,e,_+m,g,x,n)}:()=>Promise.resolve(),{when:f}=u;if(f){const[m,_]=f==="beforeChildren"?[c,d]:[d,c];return m().then(()=>_())}else return Promise.all([c(),d(n.delay)])}function hp(i,e,n=0,r=0,a=1,u){const c=[],d=(i.variantChildren.size-1)*r,f=a===1?(m=0)=>m*r:(m=0)=>d-m*r;return Array.from(i.variantChildren).sort(dp).forEach((m,_)=>{m.notify("AnimationStart",e),c.push(so(m,e,{...u,delay:n+f(_)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(c)}function dp(i,e){return i.sortNodePosition(e)}function fp(i,e,n={}){i.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(u=>so(i,u,n));r=Promise.all(a)}else if(typeof e=="string")r=so(i,e,n);else{const a=typeof e=="function"?Ws(i,e,n.custom):e;r=Promise.all(yc(i,a,n))}return r.then(()=>{i.notify("AnimationComplete",e)})}const mp=xo.length;function xc(i){if(!i)return;if(!i.isControllingVariants){const n=i.parent?xc(i.parent)||{}:{};return i.props.initial!==void 0&&(n.initial=i.props.initial),n}const e={};for(let n=0;n<mp;n++){const r=xo[n],a=i.props[r];(kn(a)||a===!1)&&(e[r]=a)}return e}const pp=[...yo].reverse(),_p=yo.length;function gp(i){return e=>Promise.all(e.map(({animation:n,options:r})=>fp(i,n,r)))}function vp(i){let e=gp(i),n=wu(),r=!0;const a=f=>(m,_)=>{var g;const x=Ws(i,_,f==="exit"?(g=i.presenceContext)===null||g===void 0?void 0:g.custom:void 0);if(x){const{transition:P,transitionEnd:A,...k}=x;m={...m,...k,...A}}return m};function u(f){e=f(i)}function c(f){const{props:m}=i,_=xc(i.parent)||{},g=[],x=new Set;let P={},A=1/0;for(let N=0;N<_p;N++){const O=pp[N],M=n[O],z=m[O]!==void 0?m[O]:_[O],et=kn(z),j=O===f?M.isActive:null;j===!1&&(A=N);let lt=z===_[O]&&z!==m[O]&&et;if(lt&&r&&i.manuallyAnimateOnMount&&(lt=!1),M.protectedKeys={...P},!M.isActive&&j===null||!z&&!M.prevProp||Us(z)||typeof z=="boolean")continue;const Lt=yp(M.prevProp,z);let Q=Lt||O===f&&M.isActive&&!lt&&et||N>A&&et,Ct=!1;const yt=Array.isArray(z)?z:[z];let wt=yt.reduce(a(O),{});j===!1&&(wt={});const{prevResolvedValues:q={}}=M,ct={...q,...wt},mt=ht=>{Q=!0,x.has(ht)&&(Ct=!0,x.delete(ht)),M.needsAnimating[ht]=!0;const W=i.getValue(ht);W&&(W.liveStyle=!1)};for(const ht in ct){const W=wt[ht],oe=q[ht];if(P.hasOwnProperty(ht))continue;let G=!1;Gr(W)&&Gr(oe)?G=!Dl(W,oe):G=W!==oe,G?W!=null?mt(ht):x.add(ht):W!==void 0&&x.has(ht)?mt(ht):M.protectedKeys[ht]=!0}M.prevProp=z,M.prevResolvedValues=wt,M.isActive&&(P={...P,...wt}),r&&i.blockInitialAnimation&&(Q=!1),Q&&(!(lt&&Lt)||Ct)&&g.push(...yt.map(ht=>({animation:ht,options:{type:O}})))}if(x.size){const N={};x.forEach(O=>{const M=i.getBaseTarget(O),z=i.getValue(O);z&&(z.liveStyle=!0),N[O]=M??null}),g.push({animation:N})}let k=!!g.length;return r&&(m.initial===!1||m.initial===m.animate)&&!i.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(g):Promise.resolve()}function d(f,m){var _;if(n[f].isActive===m)return Promise.resolve();(_=i.variantChildren)===null||_===void 0||_.forEach(x=>{var P;return(P=x.animationState)===null||P===void 0?void 0:P.setActive(f,m)}),n[f].isActive=m;const g=c(f);for(const x in n)n[x].protectedKeys={};return g}return{animateChanges:c,setActive:d,setAnimateFunction:u,getState:()=>n,reset:()=>{n=wu(),r=!0}}}function yp(i,e){return typeof e=="string"?e!==i:Array.isArray(e)?!Dl(e,i):!1}function di(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wu(){return{animate:di(!0),whileInView:di(),whileHover:di(),whileTap:di(),whileDrag:di(),whileFocus:di(),exit:di()}}class ri{constructor(e){this.isMounted=!1,this.node=e}update(){}}class xp extends ri{constructor(e){super(e),e.animationState||(e.animationState=vp(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Us(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let wp=0;class bp extends ri{constructor(){super(...arguments),this.id=wp++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Tp={animation:{Feature:xp},exit:{Feature:bp}};function Pp(i,e,n){var r;if(i instanceof Element)return[i];if(typeof i=="string"){let a=document;const u=(r=void 0)!==null&&r!==void 0?r:a.querySelectorAll(i);return u?Array.from(u):[]}return Array.from(i)}const ve={x:!1,y:!1};function wc(){return ve.x||ve.y}function bu(i){return e=>{e.pointerType==="touch"||wc()||i(e)}}function Sp(i,e,n={}){const r=new AbortController,a={passive:!0,...n,signal:r.signal},u=bu(c=>{const{target:d}=c,f=e(c);if(!f||!d)return;const m=bu(_=>{f(_),d.removeEventListener("pointerleave",m)});d.addEventListener("pointerleave",m,a)});return Pp(i).forEach(c=>{c.addEventListener("pointerenter",u,a)}),()=>r.abort()}function Lp(i){return i==="x"||i==="y"?ve[i]?null:(ve[i]=!0,()=>{ve[i]=!1}):ve.x||ve.y?null:(ve.x=ve.y=!0,()=>{ve.x=ve.y=!1})}const bc=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1;function qn(i){return{point:{x:i.pageX,y:i.pageY}}}const Cp=i=>e=>bc(e)&&i(e,qn(e));function Fe(i,e,n,r={passive:!0}){return i.addEventListener(e,n,r),()=>i.removeEventListener(e,n)}function Je(i,e,n,r){return Fe(i,e,Cp(n),r)}const Tu=(i,e)=>Math.abs(i-e);function kp(i,e){const n=Tu(i.x,e.x),r=Tu(i.y,e.y);return Math.sqrt(n**2+r**2)}class Tc{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:u=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Ir(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,P=kp(g.offset,{x:0,y:0})>=3;if(!x&&!P)return;const{point:A}=g,{timestamp:k}=$t;this.history.push({...A,timestamp:k});const{onStart:N,onMove:O}=this.handlers;x||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,g)},this.handlePointerMove=(g,x)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Vr(x,this.transformPagePoint),xt.update(this.updatePoint,!0)},this.handlePointerUp=(g,x)=>{this.end();const{onEnd:P,onSessionEnd:A,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Ir(g.type==="pointercancel"?this.lastMoveEventInfo:Vr(x,this.transformPagePoint),this.history);this.startEvent&&P&&P(g,N),A&&A(g,N)},!bc(e))return;this.dragSnapToOrigin=u,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const c=qn(e),d=Vr(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=$t;this.history=[{...f,timestamp:m}];const{onSessionStart:_}=n;_&&_(e,Ir(d,this.history)),this.removeListeners=Xe(Je(this.contextWindow,"pointermove",this.handlePointerMove),Je(this.contextWindow,"pointerup",this.handlePointerUp),Je(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qe(this.updatePoint)}}function Vr(i,e){return e?{point:e(i.point)}:i}function Pu(i,e){return{x:i.x-e.x,y:i.y-e.y}}function Ir({point:i},e){return{point:i,delta:Pu(i,Pc(e)),offset:Pu(i,Ap(e)),velocity:Mp(e,.1)}}function Ap(i){return i[0]}function Pc(i){return i[i.length-1]}function Mp(i,e){if(i.length<2)return{x:0,y:0};let n=i.length-1,r=null;const a=Pc(i);for(;n>=0&&(r=i[n],!(a.timestamp-r.timestamp>je(e)));)n--;if(!r)return{x:0,y:0};const u=Ue(a.timestamp-r.timestamp);if(u===0)return{x:0,y:0};const c={x:(a.x-r.x)/u,y:(a.y-r.y)/u};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function Ni(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}const Sc=1e-4,Ep=1-Sc,Op=1+Sc,Lc=.01,Dp=0-Lc,Rp=0+Lc;function re(i){return i.max-i.min}function Vp(i,e,n){return Math.abs(i-e)<=n}function Su(i,e,n,r=.5){i.origin=r,i.originPoint=Et(e.min,e.max,i.origin),i.scale=re(n)/re(e),i.translate=Et(n.min,n.max,i.origin)-i.originPoint,(i.scale>=Ep&&i.scale<=Op||isNaN(i.scale))&&(i.scale=1),(i.translate>=Dp&&i.translate<=Rp||isNaN(i.translate))&&(i.translate=0)}function Pn(i,e,n,r){Su(i.x,e.x,n.x,r?r.originX:void 0),Su(i.y,e.y,n.y,r?r.originY:void 0)}function Lu(i,e,n){i.min=n.min+e.min,i.max=i.min+re(e)}function Ip(i,e,n){Lu(i.x,e.x,n.x),Lu(i.y,e.y,n.y)}function Cu(i,e,n){i.min=e.min-n.min,i.max=i.min+re(e)}function Sn(i,e,n){Cu(i.x,e.x,n.x),Cu(i.y,e.y,n.y)}function Bp(i,{min:e,max:n},r){return e!==void 0&&i<e?i=r?Et(e,i,r.min):Math.max(i,e):n!==void 0&&i>n&&(i=r?Et(n,i,r.max):Math.min(i,n)),i}function ku(i,e,n){return{min:e!==void 0?i.min+e:void 0,max:n!==void 0?i.max+n-(i.max-i.min):void 0}}function Np(i,{top:e,left:n,bottom:r,right:a}){return{x:ku(i.x,n,a),y:ku(i.y,e,r)}}function Au(i,e){let n=e.min-i.min,r=e.max-i.max;return e.max-e.min<i.max-i.min&&([n,r]=[r,n]),{min:n,max:r}}function Zp(i,e){return{x:Au(i.x,e.x),y:Au(i.y,e.y)}}function zp(i,e){let n=.5;const r=re(i),a=re(e);return a>r?n=Hi(e.min,e.max-r,i.min):r>a&&(n=Hi(i.min,i.max-a,e.min)),We(0,1,n)}function Fp(i,e){const n={};return e.min!==void 0&&(n.min=e.min-i.min),e.max!==void 0&&(n.max=e.max-i.min),n}const ro=.35;function jp(i=ro){return i===!1?i=0:i===!0&&(i=ro),{x:Mu(i,"left","right"),y:Mu(i,"top","bottom")}}function Mu(i,e,n){return{min:Eu(i,e),max:Eu(i,n)}}function Eu(i,e){return typeof i=="number"?i:i[e]||0}const Ou=()=>({translate:0,scale:1,origin:0,originPoint:0}),Zi=()=>({x:Ou(),y:Ou()}),Du=()=>({min:0,max:0}),Bt=()=>({x:Du(),y:Du()});function fe(i){return[i("x"),i("y")]}function Cc({top:i,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:i,max:r}}}function Up({x:i,y:e}){return{top:e.min,right:i.max,bottom:e.max,left:i.min}}function Wp(i,e){if(!e)return i;const n=e({x:i.left,y:i.top}),r=e({x:i.right,y:i.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Br(i){return i===void 0||i===1}function oo({scale:i,scaleX:e,scaleY:n}){return!Br(i)||!Br(e)||!Br(n)}function fi(i){return oo(i)||kc(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function kc(i){return Ru(i.x)||Ru(i.y)}function Ru(i){return i&&i!=="0%"}function As(i,e,n){const r=i-n,a=e*r;return n+a}function Vu(i,e,n,r,a){return a!==void 0&&(i=As(i,a,r)),As(i,n,r)+e}function ao(i,e=0,n=1,r,a){i.min=Vu(i.min,e,n,r,a),i.max=Vu(i.max,e,n,r,a)}function Ac(i,{x:e,y:n}){ao(i.x,e.translate,e.scale,e.originPoint),ao(i.y,n.translate,n.scale,n.originPoint)}const Iu=.999999999999,Bu=1.0000000000001;function Hp(i,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let u,c;for(let d=0;d<a;d++){u=n[d],c=u.projectionDelta;const{visualElement:f}=u.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Fi(i,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,Ac(i,c)),r&&fi(u.latestValues)&&Fi(i,u.latestValues))}e.x<Bu&&e.x>Iu&&(e.x=1),e.y<Bu&&e.y>Iu&&(e.y=1)}function zi(i,e){i.min=i.min+e,i.max=i.max+e}function Nu(i,e,n,r,a=.5){const u=Et(i.min,i.max,a);ao(i,e,n,u,r)}function Fi(i,e){Nu(i.x,e.x,e.scaleX,e.scale,e.originX),Nu(i.y,e.y,e.scaleY,e.scale,e.originY)}function Mc(i,e){return Cc(Wp(i.getBoundingClientRect(),e))}function $p(i,e,n){const r=Mc(i,n),{scroll:a}=e;return a&&(zi(r.x,a.offset.x),zi(r.y,a.offset.y)),r}const Ec=({current:i})=>i?i.ownerDocument.defaultView:null,Gp=new WeakMap;class Kp{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Bt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=_=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(qn(_).point)},u=(_,g)=>{const{drag:x,dragPropagation:P,onDragStart:A}=this.getProps();if(x&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Lp(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fe(N=>{let O=this.getAxisMotionValue(N).get()||0;if(Me.test(O)){const{projection:M}=this.visualElement;if(M&&M.layout){const z=M.layout.layoutBox[N];z&&(O=re(z)*(parseFloat(O)/100))}}this.originPoint[N]=O}),A&&xt.postRender(()=>A(_,g)),no(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},c=(_,g)=>{const{dragPropagation:x,dragDirectionLock:P,onDirectionLock:A,onDrag:k}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=g;if(P&&this.currentDirection===null){this.currentDirection=qp(N),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),k&&k(_,g)},d=(_,g)=>this.stop(_,g),f=()=>fe(_=>{var g;return this.getAnimationState(_)==="paused"&&((g=this.getAxisMotionValue(_).animation)===null||g===void 0?void 0:g.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Tc(e,{onSessionStart:a,onStart:u,onMove:c,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Ec(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:u}=this.getProps();u&&xt.postRender(()=>u(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!xs(e,a,this.currentDirection))return;const u=this.getAxisMotionValue(e);let c=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(c=Bp(c,this.constraints[e],this.elastic[e])),u.set(c)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,u=this.constraints;n&&Ni(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=Np(a.layoutBox,n):this.constraints=!1,this.elastic=jp(r),u!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&fe(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=Fp(a.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ni(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const u=$p(r,a.root,this.visualElement.getTransformPagePoint());let c=Zp(a.layout.layoutBox,u);if(n){const d=n(Up(c));this.hasMutatedConstraints=!!d,d&&(c=Cc(d))}return c}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:u,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=fe(_=>{if(!xs(_,n,this.currentDirection))return;let g=f&&f[_]||{};c&&(g={min:0,max:0});const x=a?200:1e6,P=a?40:1e7,A={type:"inertia",velocity:r?e[_]:0,bounceStiffness:x,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...u,...g};return this.startAxisValueAnimation(_,A)});return Promise.all(m).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return no(this.visualElement,e),r.start(Vo(e,r,0,n,this.visualElement,!1))}stopAnimation(){fe(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fe(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fe(n=>{const{drag:r}=this.getProps();if(!xs(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,u=this.getAxisMotionValue(n);if(a&&a.layout){const{min:c,max:d}=a.layout.layoutBox[n];u.set(e[n]-Et(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ni(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fe(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();a[c]=zp({min:f,max:f},this.constraints[c])}});const{transformTemplate:u}=this.visualElement.getProps();this.visualElement.current.style.transform=u?u({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fe(c=>{if(!xs(c,e,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Et(f,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;Gp.set(this.visualElement,this);const e=this.visualElement.current,n=Je(e,"pointerdown",f=>{const{drag:m,dragListener:_=!0}=this.getProps();m&&_&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Ni(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,u=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),xt.read(r);const c=Fe(window,"resize",()=>this.scalePositionWithinConstraints()),d=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(fe(_=>{const g=this.getAxisMotionValue(_);g&&(this.originPoint[_]+=f[_].translate,g.set(g.get()+f[_].translate))}),this.visualElement.render())});return()=>{c(),n(),u(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:u=!1,dragElastic:c=ro,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:u,dragElastic:c,dragMomentum:d}}}function xs(i,e,n){return(e===!0||e===i)&&(n===null||n===i)}function qp(i,e=10){let n=null;return Math.abs(i.y)>e?n="y":Math.abs(i.x)>e&&(n="x"),n}class Yp extends ri{constructor(e){super(e),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new Kp(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zu=i=>(e,n)=>{i&&xt.postRender(()=>i(e,n))};class Xp extends ri{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(e){this.session=new Tc(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ec(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Zu(e),onStart:Zu(n),onMove:r,onEnd:(u,c)=>{delete this.session,a&&xt.postRender(()=>a(u,c))}}}mount(){this.removePointerDownListener=Je(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zo=R.createContext(null);function Jp(){const i=R.useContext(zo);if(i===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=i,a=R.useId();R.useEffect(()=>r(a),[]);const u=R.useCallback(()=>n&&n(a),[a,n]);return!e&&n?[!1,u]:[!0]}const Oc=R.createContext({}),Dc=R.createContext({}),bs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zu(i,e){return e.max===e.min?0:i/(e.max-e.min)*100}const _n={correct:(i,e)=>{if(!e.target)return i;if(typeof i=="string")if(Y.test(i))i=parseFloat(i);else return i;const n=zu(i,e.target.x),r=zu(i,e.target.y);return`${n}% ${r}%`}},Qp={correct:(i,{treeScale:e,projectionDelta:n})=>{const r=i,a=ti.parse(i);if(a.length>5)return r;const u=ti.createTransformer(i),c=typeof a[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;a[0+c]/=d,a[1+c]/=f;const m=Et(d,f,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),u(a)}},Ms={};function t_(i){Object.assign(Ms,i)}const{schedule:Fo,cancel:Hy}=Rl(queueMicrotask,!1);class e_ extends R.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:u}=e;t_(i_),u&&(n.group&&n.group.add(u),r&&r.register&&a&&r.register(u),u.root.didUpdate(),u.addEventListener("animationComplete",()=>{this.safeToRemove()}),u.setOptions({...u.options,onExitComplete:()=>this.safeToRemove()})),bs.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:u}=this.props,c=r.projection;return c&&(c.isPresent=u,a||e.layoutDependency!==n||n===void 0?c.willUpdate():this.safeToRemove(),e.isPresent!==u&&(u?c.promote():c.relegate()||xt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Fo.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Rc(i){const[e,n]=Jp(),r=R.useContext(Oc);return St.jsx(e_,{...i,layoutGroup:r,switchLayoutGroup:R.useContext(Dc),isPresent:e,safeToRemove:n})}const i_={borderRadius:{..._n,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_n,borderTopRightRadius:_n,borderBottomLeftRadius:_n,borderBottomRightRadius:_n,boxShadow:Qp},Vc=["TopLeft","TopRight","BottomLeft","BottomRight"],n_=Vc.length,Fu=i=>typeof i=="string"?parseFloat(i):i,ju=i=>typeof i=="number"||Y.test(i);function s_(i,e,n,r,a,u){a?(i.opacity=Et(0,n.opacity!==void 0?n.opacity:1,r_(r)),i.opacityExit=Et(e.opacity!==void 0?e.opacity:1,0,o_(r))):u&&(i.opacity=Et(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let c=0;c<n_;c++){const d=`border${Vc[c]}Radius`;let f=Uu(e,d),m=Uu(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||ju(f)===ju(m)?(i[d]=Math.max(Et(Fu(f),Fu(m),r),0),(Me.test(m)||Me.test(f))&&(i[d]+="%")):i[d]=m}(e.rotate||n.rotate)&&(i.rotate=Et(e.rotate||0,n.rotate||0,r))}function Uu(i,e){return i[e]!==void 0?i[e]:i.borderRadius}const r_=Ic(0,.5,Fl),o_=Ic(.5,.95,Yt);function Ic(i,e,n){return r=>r<i?0:r>e?1:n(Hi(i,e,r))}function Wu(i,e){i.min=e.min,i.max=e.max}function de(i,e){Wu(i.x,e.x),Wu(i.y,e.y)}function Hu(i,e){i.translate=e.translate,i.scale=e.scale,i.originPoint=e.originPoint,i.origin=e.origin}function $u(i,e,n,r,a){return i-=e,i=As(i,1/n,r),a!==void 0&&(i=As(i,1/a,r)),i}function a_(i,e=0,n=1,r=.5,a,u=i,c=i){if(Me.test(e)&&(e=parseFloat(e),e=Et(c.min,c.max,e/100)-c.min),typeof e!="number")return;let d=Et(u.min,u.max,r);i===u&&(d-=e),i.min=$u(i.min,e,n,d,a),i.max=$u(i.max,e,n,d,a)}function Gu(i,e,[n,r,a],u,c){a_(i,e[n],e[r],e[a],e.scale,u,c)}const u_=["x","scaleX","originX"],l_=["y","scaleY","originY"];function Ku(i,e,n,r){Gu(i.x,e,u_,n?n.x:void 0,r?r.x:void 0),Gu(i.y,e,l_,n?n.y:void 0,r?r.y:void 0)}function qu(i){return i.translate===0&&i.scale===1}function Bc(i){return qu(i.x)&&qu(i.y)}function Yu(i,e){return i.min===e.min&&i.max===e.max}function c_(i,e){return Yu(i.x,e.x)&&Yu(i.y,e.y)}function Xu(i,e){return Math.round(i.min)===Math.round(e.min)&&Math.round(i.max)===Math.round(e.max)}function Nc(i,e){return Xu(i.x,e.x)&&Xu(i.y,e.y)}function Ju(i){return re(i.x)/re(i.y)}function Qu(i,e){return i.translate===e.translate&&i.scale===e.scale&&i.originPoint===e.originPoint}class h_{constructor(){this.members=[]}add(e){Io(this.members,e),e.scheduleRender()}remove(e){if(Bo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const u=this.members[a];if(u.isPresent!==!1){r=u;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function d_(i,e,n){let r="";const a=i.x.translate/e.x,u=i.y.translate/e.y,c=(n==null?void 0:n.z)||0;if((a||u||c)&&(r=`translate3d(${a}px, ${u}px, ${c}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:_,rotateX:g,rotateY:x,skewX:P,skewY:A}=n;m&&(r=`perspective(${m}px) ${r}`),_&&(r+=`rotate(${_}deg) `),g&&(r+=`rotateX(${g}deg) `),x&&(r+=`rotateY(${x}deg) `),P&&(r+=`skewX(${P}deg) `),A&&(r+=`skewY(${A}deg) `)}const d=i.x.scale*e.x,f=i.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const f_=(i,e)=>i.depth-e.depth;class m_{constructor(){this.children=[],this.isDirty=!1}add(e){Io(this.children,e),this.isDirty=!0}remove(e){Bo(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(f_),this.isDirty=!1,this.children.forEach(e)}}function Ts(i){const e=qt(i)?i.get():i;return ip(e)?e.toValue():e}function p_(i,e){const n=Ee.now(),r=({timestamp:a})=>{const u=a-n;u>=e&&(Qe(r),i(u-e))};return xt.read(r,!0),()=>Qe(r)}function __(i){return i instanceof SVGElement&&i.tagName!=="svg"}function g_(i,e,n){const r=qt(i)?i:En(i);return r.start(Vo("",r,e,n)),r.animation}const mi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},xn=typeof window<"u"&&window.MotionDebug!==void 0,Nr=["","X","Y","Z"],v_={visibility:"hidden"},tl=1e3;let y_=0;function Zr(i,e,n,r){const{latestValues:a}=e;a[i]&&(n[i]=a[i],e.setStaticValue(i,0),r&&(r[i]=0))}function Zc(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:e}=i.options;if(!e)return;const n=vc(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:u}=i.options;window.MotionCancelOptimisedAnimation(n,"transform",xt,!(a||u))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&Zc(r)}function zc({attachResizeListener:i,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(c={},d=e==null?void 0:e()){this.id=y_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,xn&&(mi.totalNodes=mi.resolvedTargetDeltas=mi.recalculatedProjection=0),this.nodes.forEach(b_),this.nodes.forEach(C_),this.nodes.forEach(k_),this.nodes.forEach(T_),xn&&window.MotionDebug.record(mi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new m_)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new No),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=__(c),this.instance=c;const{layoutId:f,layout:m,visualElement:_}=this.options;if(_&&!_.current&&_.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),i){let g;const x=()=>this.root.updateBlockedByResize=!1;i(c,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=p_(x,250),bs.hasAnimatedSinceResize&&(bs.hasAnimatedSinceResize=!1,this.nodes.forEach(il))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&_&&(f||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeTargetChanged:P,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||_.getDefaultTransition()||D_,{onLayoutAnimationStart:N,onLayoutAnimationComplete:O}=_.getProps(),M=!this.targetLayout||!Nc(this.targetLayout,A)||P,z=!x&&P;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||z||x&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(g,z);const et={...wo(k,"layout"),onPlay:N,onComplete:O};(_.shouldReduceMotion||this.options.layoutRoot)&&(et.delay=0,et.type=!1),this.startAnimation(et)}else x||il(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qe(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(A_),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Zc(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const g=this.path[_];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(el);return}this.isUpdating||this.nodes.forEach(S_),this.isUpdating=!1,this.nodes.forEach(L_),this.nodes.forEach(x_),this.nodes.forEach(w_),this.clearAllSnapshots();const d=Ee.now();$t.delta=We(0,1e3/60,d-$t.timestamp),$t.timestamp=d,$t.isProcessing=!0,Mr.update.process($t),Mr.preRender.process($t),Mr.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Fo.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(P_),this.sharedNodes.forEach(M_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Bt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!Bc(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,_=m!==this.prevTransformTemplateValue;c&&(d||fi(this.latestValues)||_)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),R_(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:d}=this.options;if(!d)return Bt();const f=d.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(V_))){const{scroll:_}=this.root;_&&(zi(f.x,_.offset.x),zi(f.y,_.offset.y))}return f}removeElementScroll(c){var d;const f=Bt();if(de(f,c),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let m=0;m<this.path.length;m++){const _=this.path[m],{scroll:g,options:x}=_;_!==this.root&&g&&x.layoutScroll&&(g.wasRoot&&de(f,c),zi(f.x,g.offset.x),zi(f.y,g.offset.y))}return f}applyTransform(c,d=!1){const f=Bt();de(f,c);for(let m=0;m<this.path.length;m++){const _=this.path[m];!d&&_.options.layoutScroll&&_.scroll&&_!==_.root&&Fi(f,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),fi(_.latestValues)&&Fi(f,_.latestValues)}return fi(this.latestValues)&&Fi(f,this.latestValues),f}removeTransform(c){const d=Bt();de(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!fi(m.latestValues))continue;oo(m.latestValues)&&m.updateSnapshot();const _=Bt(),g=m.measurePageBox();de(_,g),Ku(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,_)}return fi(this.latestValues)&&Ku(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const P=this.getClosestProjectingParent();P&&P.layout&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Sn(this.relativeTargetOrigin,this.layout.layoutBox,P.layout.layoutBox),de(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Bt(),this.targetWithTransforms=Bt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ip(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):de(this.target,this.layout.layoutBox),Ac(this.target,this.targetDelta)):de(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const P=this.getClosestProjectingParent();P&&!!P.resumingFrom==!!this.resumingFrom&&!P.options.layoutScroll&&P.target&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Bt(),this.relativeTargetOrigin=Bt(),Sn(this.relativeTargetOrigin,this.target,P.target),de(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}xn&&mi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||oo(this.parent.latestValues)||kc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(m=!1),m)return;const{layout:_,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||g))return;de(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,P=this.treeScale.y;Hp(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=Bt());const{target:A}=d;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Hu(this.prevProjectionDelta.x,this.projectionDelta.x),Hu(this.prevProjectionDelta.y,this.projectionDelta.y)),Pn(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==P||!Qu(this.projectionDelta.x,this.prevProjectionDelta.x)||!Qu(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A)),xn&&mi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Zi(),this.projectionDelta=Zi(),this.projectionDeltaWithTransform=Zi()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},_={...this.latestValues},g=Zi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Bt(),P=f?f.source:void 0,A=this.layout?this.layout.source:void 0,k=P!==A,N=this.getStack(),O=!N||N.members.length<=1,M=!!(k&&!O&&this.options.crossfade===!0&&!this.path.some(O_));this.animationProgress=0;let z;this.mixTargetDelta=et=>{const j=et/1e3;nl(g.x,c.x,j),nl(g.y,c.y,j),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Sn(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E_(this.relativeTarget,this.relativeTargetOrigin,x,j),z&&c_(this.relativeTarget,z)&&(this.isProjectionDirty=!1),z||(z=Bt()),de(z,this.relativeTarget)),k&&(this.animationValues=_,s_(_,m,this.latestValues,j,M,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qe(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xt.update(()=>{bs.hasAnimatedSinceResize=!0,this.currentAnimation=g_(0,tl,{...c,onUpdate:d=>{this.mixTargetDelta(d),c.onUpdate&&c.onUpdate(d)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(tl),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:_}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&Fc(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||Bt();const g=re(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+g;const x=re(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+x}de(d,f),Fi(d,_),Pn(this.projectionDeltaWithTransform,this.layoutCorrected,d,_)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new h_),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:d}=this.options;return d?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:d}=this.options;return d?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Zr("z",c,m,this.animationValues);for(let _=0;_<Nr.length;_++)Zr(`rotate${Nr[_]}`,c,m,this.animationValues),Zr(`skew${Nr[_]}`,c,m,this.animationValues);c.render();for(const _ in m)c.setStaticValue(_,m[_]),this.animationValues&&(this.animationValues[_]=m[_]);c.scheduleRender()}getProjectionStyles(c){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return v_;const m={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Ts(c==null?void 0:c.pointerEvents)||"",m.transform=_?_(this.latestValues,""):"none",m;const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Ts(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!fi(this.latestValues)&&(k.transform=_?_({},""):"none",this.hasProjected=!1),k}const x=g.animationValues||g.latestValues;this.applyTransformsToTarget(),m.transform=d_(this.projectionDeltaWithTransform,this.treeScale,x),_&&(m.transform=_(x,m.transform));const{x:P,y:A}=this.projectionDelta;m.transformOrigin=`${P.origin*100}% ${A.origin*100}% 0`,g.animationValues?m.opacity=g===this?(f=(d=x.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:m.opacity=g===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const k in Ms){if(x[k]===void 0)continue;const{correct:N,applyTo:O}=Ms[k],M=m.transform==="none"?x[k]:N(x[k],g);if(O){const z=O.length;for(let et=0;et<z;et++)m[O[et]]=M}else m[k]=M}return this.options.layoutId&&(m.pointerEvents=g===this?Ts(c==null?void 0:c.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(el),this.root.sharedNodes.clear()}}}function x_(i){i.updateLayout()}function w_(i){var e;const n=((e=i.resumeFrom)===null||e===void 0?void 0:e.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&n&&i.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=i.layout,{animationType:u}=i.options,c=n.source!==i.layout.source;u==="size"?fe(g=>{const x=c?n.measuredBox[g]:n.layoutBox[g],P=re(x);x.min=r[g].min,x.max=x.min+P}):Fc(u,n.layoutBox,r)&&fe(g=>{const x=c?n.measuredBox[g]:n.layoutBox[g],P=re(r[g]);x.max=x.min+P,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[g].max=i.relativeTarget[g].min+P)});const d=Zi();Pn(d,r,n.layoutBox);const f=Zi();c?Pn(f,i.applyTransform(a,!0),n.measuredBox):Pn(f,r,n.layoutBox);const m=!Bc(d);let _=!1;if(!i.resumeFrom){const g=i.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:x,layout:P}=g;if(x&&P){const A=Bt();Sn(A,n.layoutBox,x.layoutBox);const k=Bt();Sn(k,r,P.layoutBox),Nc(A,k)||(_=!0),g.options.layoutRoot&&(i.relativeTarget=k,i.relativeTargetOrigin=A,i.relativeParent=g)}}}i.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:_})}else if(i.isLead()){const{onExitComplete:r}=i.options;r&&r()}i.options.transition=void 0}function b_(i){xn&&mi.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function T_(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function P_(i){i.clearSnapshot()}function el(i){i.clearMeasurements()}function S_(i){i.isLayoutDirty=!1}function L_(i){const{visualElement:e}=i.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),i.resetTransform()}function il(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function C_(i){i.resolveTargetDelta()}function k_(i){i.calcProjection()}function A_(i){i.resetSkewAndRotation()}function M_(i){i.removeLeadSnapshot()}function nl(i,e,n){i.translate=Et(e.translate,0,n),i.scale=Et(e.scale,1,n),i.origin=e.origin,i.originPoint=e.originPoint}function sl(i,e,n,r){i.min=Et(e.min,n.min,r),i.max=Et(e.max,n.max,r)}function E_(i,e,n,r){sl(i.x,e.x,n.x,r),sl(i.y,e.y,n.y,r)}function O_(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const D_={duration:.45,ease:[.4,0,.1,1]},rl=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),ol=rl("applewebkit/")&&!rl("chrome/")?Math.round:Yt;function al(i){i.min=ol(i.min),i.max=ol(i.max)}function R_(i){al(i.x),al(i.y)}function Fc(i,e,n){return i==="position"||i==="preserve-aspect"&&!Vp(Ju(e),Ju(n),.2)}function V_(i){var e;return i!==i.root&&((e=i.scroll)===null||e===void 0?void 0:e.wasRoot)}const I_=zc({attachResizeListener:(i,e)=>Fe(i,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zr={current:void 0},jc=zc({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!zr.current){const i=new I_({});i.mount(window),i.setOptions({layoutScroll:!0}),zr.current=i}return zr.current},resetTransform:(i,e)=>{i.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),B_={pan:{Feature:Xp},drag:{Feature:Yp,ProjectionNode:jc,MeasureLayout:Rc}};function ul(i,e,n){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",n);const a=r[n?"onHoverStart":"onHoverEnd"];a&&xt.postRender(()=>a(e,qn(e)))}class N_ extends ri{mount(){const{current:e,props:n}=this.node;e&&(this.unmount=Sp(e,r=>(ul(this.node,r,!0),a=>ul(this.node,a,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class Z_ extends ri{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xe(Fe(this.node.current,"focus",()=>this.onFocus()),Fe(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Uc=(i,e)=>e?i===e?!0:Uc(i,e.parentElement):!1;function Fr(i,e){if(!e)return;const n=new PointerEvent("pointer"+i);e(n,qn(n))}class z_ extends ri{constructor(){super(...arguments),this.removeStartListeners=Yt,this.removeEndListeners=Yt,this.removeAccessibleListeners=Yt,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),u=Je(window,"pointerup",(d,f)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:_,globalTapTarget:g}=this.node.getProps(),x=!g&&!Uc(this.node.current,d.target)?_:m;x&&xt.update(()=>x(d,f))},{passive:!(r.onTap||r.onPointerUp)}),c=Je(window,"pointercancel",(d,f)=>this.cancelPress(d,f),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Xe(u,c),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=u=>{if(u.key!=="Enter"||this.isPressing)return;const c=d=>{d.key!=="Enter"||!this.checkPressEnd()||Fr("up",(f,m)=>{const{onTap:_}=this.node.getProps();_&&xt.postRender(()=>_(f,m))})};this.removeEndListeners(),this.removeEndListeners=Fe(this.node.current,"keyup",c),Fr("down",(d,f)=>{this.startPress(d,f)})},n=Fe(this.node.current,"keydown",e),r=()=>{this.isPressing&&Fr("cancel",(u,c)=>this.cancelPress(u,c))},a=Fe(this.node.current,"blur",r);this.removeAccessibleListeners=Xe(n,a)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&xt.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!wc()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&xt.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Je(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Fe(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Xe(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const uo=new WeakMap,jr=new WeakMap,F_=i=>{const e=uo.get(i.target);e&&e(i)},j_=i=>{i.forEach(F_)};function U_({root:i,...e}){const n=i||document;jr.has(n)||jr.set(n,{});const r=jr.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(j_,{root:i,...e})),r[a]}function W_(i,e,n){const r=U_(e);return uo.set(i,n),r.observe(i),()=>{uo.delete(i),r.unobserve(i)}}const H_={some:0,all:1};class $_ extends ri{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:u}=e,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:H_[a]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,u&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:_,onViewportLeave:g}=this.node.getProps(),x=m?_:g;x&&x(f)};return W_(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(G_(e,n))&&this.startObserver()}unmount(){}}function G_({viewport:i={}},{viewport:e={}}={}){return n=>i[n]!==e[n]}const K_={inView:{Feature:$_},tap:{Feature:z_},focus:{Feature:Z_},hover:{Feature:N_}},q_={layout:{ProjectionNode:jc,MeasureLayout:Rc}},Wc=R.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"}),$s=R.createContext({}),jo=typeof window<"u",Y_=jo?R.useLayoutEffect:R.useEffect,Hc=R.createContext({strict:!1});function X_(i,e,n,r,a){var u,c;const{visualElement:d}=R.useContext($s),f=R.useContext(Hc),m=R.useContext(zo),_=R.useContext(Wc).reducedMotion,g=R.useRef();r=r||f.renderer,!g.current&&r&&(g.current=r(i,{visualState:e,parent:d,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:_}));const x=g.current,P=R.useContext(Dc);x&&!x.projection&&a&&(x.type==="html"||x.type==="svg")&&J_(g.current,n,a,P);const A=R.useRef(!1);R.useInsertionEffect(()=>{x&&A.current&&x.update(n,m)});const k=n[gc],N=R.useRef(!!k&&!(!((u=window.MotionHandoffIsComplete)===null||u===void 0)&&u.call(window,k))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,k)));return Y_(()=>{x&&(A.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),Fo.render(x.render),N.current&&x.animationState&&x.animationState.animateChanges())}),R.useEffect(()=>{x&&(!N.current&&x.animationState&&x.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,k)}),N.current=!1))}),x}function J_(i,e,n,r){const{layoutId:a,layout:u,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m}=e;i.projection=new n(i.latestValues,e["data-framer-portal-id"]?void 0:$c(i.parent)),i.projection.setOptions({layoutId:a,layout:u,alwaysMeasureLayout:!!c||d&&Ni(d),visualElement:i,animationType:typeof u=="string"?u:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:m})}function $c(i){if(i)return i.options.allowProjection!==!1?i.projection:$c(i.parent)}function Q_(i,e,n){return R.useCallback(r=>{r&&i.mount&&i.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ni(n)&&(n.current=r))},[e])}function Gs(i){return Us(i.animate)||xo.some(e=>kn(i[e]))}function Gc(i){return!!(Gs(i)||i.variants)}function tg(i,e){if(Gs(i)){const{initial:n,animate:r}=i;return{initial:n===!1||kn(n)?n:void 0,animate:kn(r)?r:void 0}}return i.inherit!==!1?e:{}}function eg(i){const{initial:e,animate:n}=tg(i,R.useContext($s));return R.useMemo(()=>({initial:e,animate:n}),[ll(e),ll(n)])}function ll(i){return Array.isArray(i)?i.join(" "):i}const cl={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$i={};for(const i in cl)$i[i]={isEnabled:e=>cl[i].some(n=>!!e[n])};function ig(i){for(const e in i)$i[e]={...$i[e],...i[e]}}const ng=Symbol.for("motionComponentSymbol");function sg({preloadedFeatures:i,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){i&&ig(i);function u(d,f){let m;const _={...R.useContext(Wc),...d,layoutId:rg(d)},{isStatic:g}=_,x=eg(d),P=r(d,g);if(!g&&jo){og();const A=ag(_);m=A.MeasureLayout,x.visualElement=X_(a,P,_,e,A.ProjectionNode)}return St.jsxs($s.Provider,{value:x,children:[m&&x.visualElement?St.jsx(m,{visualElement:x.visualElement,..._}):null,n(a,d,Q_(P,x.visualElement,f),P,g,x.visualElement)]})}const c=R.forwardRef(u);return c[ng]=a,c}function rg({layoutId:i}){const e=R.useContext(Oc).id;return e&&i!==void 0?e+"-"+i:i}function og(i,e){R.useContext(Hc).strict}function ag(i){const{drag:e,layout:n}=$i;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(i)||n!=null&&n.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ug=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Uo(i){return typeof i!="string"||i.includes("-")?!1:!!(ug.indexOf(i)>-1||/[A-Z]/u.test(i))}function Kc(i,{style:e,vars:n},r,a){Object.assign(i.style,e,a&&a.getProjectionStyles(r));for(const u in n)i.style.setProperty(u,n[u])}const qc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Yc(i,e,n,r){Kc(i,e,void 0,r);for(const a in e.attrs)i.setAttribute(qc.has(a)?a:Zo(a),e.attrs[a])}function Xc(i,{layout:e,layoutId:n}){return wi.has(i)||i.startsWith("origin")||(e||n!==void 0)&&(!!Ms[i]||i==="opacity")}function Wo(i,e,n){var r;const{style:a}=i,u={};for(const c in a)(qt(a[c])||e.style&&qt(e.style[c])||Xc(c,i)||((r=n==null?void 0:n.getValue(c))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(u[c]=a[c]);return u}function Jc(i,e,n){const r=Wo(i,e,n);for(const a in i)if(qt(i[a])||qt(e[a])){const u=$n.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[u]=i[a]}return r}function lg(i){const e=R.useRef(null);return e.current===null&&(e.current=i()),e.current}function cg({scrapeMotionValuesFromProps:i,createRenderState:e,onMount:n},r,a,u){const c={latestValues:hg(r,a,u,i),renderState:e()};return n&&(c.mount=d=>n(r,d,c)),c}const Qc=i=>(e,n)=>{const r=R.useContext($s),a=R.useContext(zo),u=()=>cg(i,e,r,a);return n?u():lg(u)};function hg(i,e,n,r){const a={},u=r(i,{});for(const x in u)a[x]=Ts(u[x]);let{initial:c,animate:d}=i;const f=Gs(i),m=Gc(i);e&&m&&!f&&i.inherit!==!1&&(c===void 0&&(c=e.initial),d===void 0&&(d=e.animate));let _=n?n.initial===!1:!1;_=_||c===!1;const g=_?d:c;if(g&&typeof g!="boolean"&&!Us(g)){const x=Array.isArray(g)?g:[g];for(let P=0;P<x.length;P++){const A=vo(i,x[P]);if(A){const{transitionEnd:k,transition:N,...O}=A;for(const M in O){let z=O[M];if(Array.isArray(z)){const et=_?z.length-1:0;z=z[et]}z!==null&&(a[M]=z)}for(const M in k)a[M]=k[M]}}}return a}const Ho=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),th=()=>({...Ho(),attrs:{}}),eh=(i,e)=>e&&typeof i=="number"?e.transform(i):i,dg={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},fg=$n.length;function mg(i,e,n){let r="",a=!0;for(let u=0;u<fg;u++){const c=$n[u],d=i[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=eh(d,ko[c]);if(!f){a=!1;const _=dg[c]||c;r+=`${_}(${m}) `}n&&(e[c]=m)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function $o(i,e,n){const{style:r,vars:a,transformOrigin:u}=i;let c=!1,d=!1;for(const f in e){const m=e[f];if(wi.has(f)){c=!0;continue}else if($l(f)){a[f]=m;continue}else{const _=eh(m,ko[f]);f.startsWith("origin")?(d=!0,u[f]=_):r[f]=_}}if(e.transform||(c||n?r.transform=mg(e,i.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:_=0}=u;r.transformOrigin=`${f} ${m} ${_}`}}function hl(i,e,n){return typeof i=="string"?i:Y.transform(e+n*i)}function pg(i,e,n){const r=hl(e,i.x,i.width),a=hl(n,i.y,i.height);return`${r} ${a}`}const _g={offset:"stroke-dashoffset",array:"stroke-dasharray"},gg={offset:"strokeDashoffset",array:"strokeDasharray"};function vg(i,e,n=1,r=0,a=!0){i.pathLength=1;const u=a?_g:gg;i[u.offset]=Y.transform(-r);const c=Y.transform(e),d=Y.transform(n);i[u.array]=`${c} ${d}`}function Go(i,{attrX:e,attrY:n,attrScale:r,originX:a,originY:u,pathLength:c,pathSpacing:d=1,pathOffset:f=0,...m},_,g){if($o(i,m,g),_){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:x,style:P,dimensions:A}=i;x.transform&&(A&&(P.transform=x.transform),delete x.transform),A&&(a!==void 0||u!==void 0||P.transform)&&(P.transformOrigin=pg(A,a!==void 0?a:.5,u!==void 0?u:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),c!==void 0&&vg(x,c,d,f,!1)}const Ko=i=>typeof i=="string"&&i.toLowerCase()==="svg",yg={useVisualState:Qc({scrapeMotionValuesFromProps:Jc,createRenderState:th,onMount:(i,e,{renderState:n,latestValues:r})=>{xt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),xt.render(()=>{Go(n,r,Ko(e.tagName),i.transformTemplate),Yc(e,n)})}})},xg={useVisualState:Qc({scrapeMotionValuesFromProps:Wo,createRenderState:Ho})};function ih(i,e,n){for(const r in e)!qt(e[r])&&!Xc(r,n)&&(i[r]=e[r])}function wg({transformTemplate:i},e){return R.useMemo(()=>{const n=Ho();return $o(n,e,i),Object.assign({},n.vars,n.style)},[e])}function bg(i,e){const n=i.style||{},r={};return ih(r,n,i),Object.assign(r,wg(i,e)),r}function Tg(i,e){const n={},r=bg(i,e);return i.drag&&i.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(n.tabIndex=0),n.style=r,n}const Pg=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Es(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||Pg.has(i)}let nh=i=>!Es(i);function Sg(i){i&&(nh=e=>e.startsWith("on")?!Es(e):i(e))}try{Sg(require("@emotion/is-prop-valid").default)}catch{}function Lg(i,e,n){const r={};for(const a in i)a==="values"&&typeof i.values=="object"||(nh(a)||n===!0&&Es(a)||!e&&!Es(a)||i.draggable&&a.startsWith("onDrag"))&&(r[a]=i[a]);return r}function Cg(i,e,n,r){const a=R.useMemo(()=>{const u=th();return Go(u,e,Ko(r),i.transformTemplate),{...u.attrs,style:{...u.style}}},[e]);if(i.style){const u={};ih(u,i.style,i),a.style={...u,...a.style}}return a}function kg(i=!1){return(n,r,a,{latestValues:u},c)=>{const f=(Uo(n)?Cg:Tg)(r,u,c,n),m=Lg(r,typeof n=="string",i),_=n!==R.Fragment?{...m,...f,ref:a}:{},{children:g}=r,x=R.useMemo(()=>qt(g)?g.get():g,[g]);return R.createElement(n,{..._,children:x})}}function Ag(i,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...Uo(r)?yg:xg,preloadedFeatures:i,useRender:kg(a),createVisualElement:e,Component:r};return sg(c)}}const lo={current:null},sh={current:!1};function Mg(){if(sh.current=!0,!!jo)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),e=()=>lo.current=i.matches;i.addListener(e),e()}else lo.current=!1}function Eg(i,e,n){for(const r in e){const a=e[r],u=n[r];if(qt(a))i.addValue(r,a);else if(qt(u))i.addValue(r,En(a,{owner:i}));else if(u!==a)if(i.hasValue(r)){const c=i.getValue(r);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=i.getStaticValue(r);i.addValue(r,En(c!==void 0?c:a,{owner:i}))}}for(const r in n)e[r]===void 0&&i.removeValue(r);return e}const dl=new WeakMap,Og=[...ql,Kt,ti],Dg=i=>Og.find(Kl(i)),fl=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Rg{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:u,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=So,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ee.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,xt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=d,this.blockInitialAnimation=!!u,this.isControllingVariants=Gs(n),this.isVariantNode=Gc(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const P=g[x];f[x]!==void 0&&qt(P)&&P.set(f[x],!1)}}mount(e){this.current=e,dl.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),sh.current||Mg(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lo.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dl.delete(this.current),this.projection&&this.projection.unmount(),Qe(this.notifyUpdate),Qe(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=wi.has(e),a=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&xt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),u=n.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),u(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $i){const n=$i[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const u=this.features[e];u.isMounted?u.update():(u.mount(),u.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Bt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fl.length;r++){const a=fl[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const u="on"+a,c=e[u];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Eg(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=En(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(Wl(a)||Ul(a))?a=parseFloat(a):!Dg(a)&&ti.test(n)&&(a=nc(e,n)),this.setBaseTarget(e,qt(a)?a.get():a)),qt(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let a;if(typeof r=="string"||typeof r=="object"){const c=vo(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);c&&(a=c[e])}if(r&&a!==void 0)return a;const u=this.getBaseTargetFromProps(this.props,e);return u!==void 0&&!qt(u)?u:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new No),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class rh extends Rg{constructor(){super(...arguments),this.KeyframeResolver=sc}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Vg(i){return window.getComputedStyle(i)}class Ig extends rh{constructor(){super(...arguments),this.type="html",this.renderInstance=Kc}readValueFromInstance(e,n){if(wi.has(n)){const r=Ao(n);return r&&r.default||0}else{const r=Vg(e),a=($l(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Mc(e,n)}build(e,n,r){$o(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Wo(e,n,r)}}class Bg extends rh{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Bt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(wi.has(n)){const r=Ao(n);return r&&r.default||0}return n=qc.has(n)?n:Zo(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Jc(e,n,r)}build(e,n,r){Go(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,a){Yc(e,n,r,a)}mount(e){this.isSVGTag=Ko(e.tagName),super.mount(e)}}const Ng=(i,e)=>Uo(i)?new Bg(e):new Ig(e,{allowProjection:i!==R.Fragment}),Zg=Ag({...Tp,...K_,...B_,...q_},Ng),Gy=wf(Zg),Ky=pf,qy=_f,zg=gf,oh=R.forwardRef(({className:i,...e},n)=>St.jsx(Cl,{ref:n,className:pe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...e}));oh.displayName=Cl.displayName;const Fg=R.forwardRef(({className:i,children:e,...n},r)=>St.jsxs(zg,{children:[St.jsx(oh,{}),St.jsxs(kl,{ref:r,className:pe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...n,children:[e,St.jsxs(ff,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[St.jsx(mf,{className:"h-4 w-4"}),St.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fg.displayName=kl.displayName;const jg=({className:i,...e})=>St.jsx("div",{className:pe("flex flex-col space-y-1.5 text-center sm:text-left",i),...e});jg.displayName="DialogHeader";const Ug=R.forwardRef(({className:i,...e},n)=>St.jsx(Al,{ref:n,className:pe("text-lg font-semibold leading-none tracking-tight",i),...e}));Ug.displayName=Al.displayName;const Wg=R.forwardRef(({className:i,...e},n)=>St.jsx(Ml,{ref:n,className:pe("text-sm text-muted-foreground",i),...e}));Wg.displayName=Ml.displayName;var Yn=i=>i.type==="checkbox",_i=i=>i instanceof Date,Qt=i=>i==null;const ah=i=>typeof i=="object";var Nt=i=>!Qt(i)&&!Array.isArray(i)&&ah(i)&&!_i(i),uh=i=>Nt(i)&&i.target?Yn(i.target)?i.target.checked:i.target.value:i,Hg=i=>i.substring(0,i.search(/\.\d+(\.|$)/))||i,lh=(i,e)=>i.has(Hg(e)),$g=i=>{const e=i.constructor&&i.constructor.prototype;return Nt(e)&&e.hasOwnProperty("isPrototypeOf")},qo=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ie(i){let e;const n=Array.isArray(i);if(i instanceof Date)e=new Date(i);else if(i instanceof Set)e=new Set(i);else if(!(qo&&(i instanceof Blob||i instanceof FileList))&&(n||Nt(i)))if(e=n?[]:{},!n&&!$g(i))e=i;else for(const r in i)i.hasOwnProperty(r)&&(e[r]=ie(i[r]));else return i;return e}var Ks=i=>Array.isArray(i)?i.filter(Boolean):[],Rt=i=>i===void 0,I=(i,e,n)=>{if(!e||!Nt(i))return n;const r=Ks(e.split(/[,[\].]+?/)).reduce((a,u)=>Qt(a)?a:a[u],i);return Rt(r)||r===i?Rt(i[e])?n:i[e]:r},me=i=>typeof i=="boolean",Yo=i=>/^\w*$/.test(i),ch=i=>Ks(i.replace(/["|']|\]/g,"").split(/\.|\[/)),vt=(i,e,n)=>{let r=-1;const a=Yo(e)?[e]:ch(e),u=a.length,c=u-1;for(;++r<u;){const d=a[r];let f=n;if(r!==c){const m=i[d];f=Nt(m)||Array.isArray(m)?m:isNaN(+a[r+1])?{}:[]}if(d==="__proto__")return;i[d]=f,i=i[d]}return i};const Os={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ye={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ze={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hh=_t.createContext(null),qs=()=>_t.useContext(hh),Gg=i=>{const{children:e,...n}=i;return _t.createElement(hh.Provider,{value:n},e)};var dh=(i,e,n,r=!0)=>{const a={defaultValues:e._defaultValues};for(const u in i)Object.defineProperty(a,u,{get:()=>{const c=u;return e._proxyFormState[c]!==ye.all&&(e._proxyFormState[c]=!r||ye.all),n&&(n[c]=!0),i[c]}});return a},ne=i=>Nt(i)&&!Object.keys(i).length,fh=(i,e,n,r)=>{n(i);const{name:a,...u}=i;return ne(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(c=>e[c]===(!r||ye.all))},Ln=i=>Array.isArray(i)?i:[i],mh=(i,e,n)=>!i||!e||i===e||Ln(i).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function Xo(i){const e=_t.useRef(i);e.current=i,_t.useEffect(()=>{const n=!i.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[i.disabled])}function Kg(i){const e=qs(),{control:n=e.control,disabled:r,name:a,exact:u}=i||{},[c,d]=_t.useState(n._formState),f=_t.useRef(!0),m=_t.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),_=_t.useRef(a);return _.current=a,Xo({disabled:r,next:g=>f.current&&mh(_.current,g.name,u)&&fh(g,m.current,n._updateFormState)&&d({...n._formState,...g}),subject:n._subjects.state}),_t.useEffect(()=>(f.current=!0,m.current.isValid&&n._updateValid(!0),()=>{f.current=!1}),[n]),dh(c,n,m.current,!1)}var Ae=i=>typeof i=="string",ph=(i,e,n,r,a)=>Ae(i)?(r&&e.watch.add(i),I(n,i,a)):Array.isArray(i)?i.map(u=>(r&&e.watch.add(u),I(n,u))):(r&&(e.watchAll=!0),n);function qg(i){const e=qs(),{control:n=e.control,name:r,defaultValue:a,disabled:u,exact:c}=i||{},d=_t.useRef(r);d.current=r,Xo({disabled:u,subject:n._subjects.values,next:_=>{mh(d.current,_.name,c)&&m(ie(ph(d.current,n._names,_.values||n._formValues,!1,a)))}});const[f,m]=_t.useState(n._getWatch(r,a));return _t.useEffect(()=>n._removeUnmounted()),f}function Yg(i){const e=qs(),{name:n,disabled:r,control:a=e.control,shouldUnregister:u}=i,c=lh(a._names.array,n),d=qg({control:a,name:n,defaultValue:I(a._formValues,n,I(a._defaultValues,n,i.defaultValue)),exact:!0}),f=Kg({control:a,name:n,exact:!0}),m=_t.useRef(a.register(n,{...i.rules,value:d,...me(i.disabled)?{disabled:i.disabled}:{}}));return _t.useEffect(()=>{const _=a._options.shouldUnregister||u,g=(x,P)=>{const A=I(a._fields,x);A&&A._f&&(A._f.mount=P)};if(g(n,!0),_){const x=ie(I(a._options.defaultValues,n));vt(a._defaultValues,n,x),Rt(I(a._formValues,n))&&vt(a._formValues,n,x)}return()=>{(c?_&&!a._state.action:_)?a.unregister(n):g(n,!1)}},[n,a,c,u]),_t.useEffect(()=>{I(a._fields,n)&&a._updateDisabledField({disabled:r,fields:a._fields,name:n,value:I(a._fields,n)._f.value})},[r,n,a]),{field:{name:n,value:d,...me(r)||f.disabled?{disabled:f.disabled||r}:{},onChange:_t.useCallback(_=>m.current.onChange({target:{value:uh(_),name:n},type:Os.CHANGE}),[n]),onBlur:_t.useCallback(()=>m.current.onBlur({target:{value:I(a._formValues,n),name:n},type:Os.BLUR}),[n,a]),ref:_t.useCallback(_=>{const g=I(a._fields,n);g&&_&&(g._f.ref={focus:()=>_.focus(),select:()=>_.select(),setCustomValidity:x=>_.setCustomValidity(x),reportValidity:()=>_.reportValidity()})},[a._fields,n])},formState:f,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!I(f.errors,n)},isDirty:{enumerable:!0,get:()=>!!I(f.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!I(f.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!I(f.validatingFields,n)},error:{enumerable:!0,get:()=>I(f.errors,n)}})}}const Xg=i=>i.render(Yg(i));var _h=(i,e,n,r,a)=>e?{...n[i],types:{...n[i]&&n[i].types?n[i].types:{},[r]:a||!0}}:{},ml=i=>({isOnSubmit:!i||i===ye.onSubmit,isOnBlur:i===ye.onBlur,isOnChange:i===ye.onChange,isOnAll:i===ye.all,isOnTouch:i===ye.onTouched}),pl=(i,e,n)=>!n&&(e.watchAll||e.watch.has(i)||[...e.watch].some(r=>i.startsWith(r)&&/^\.\w+/.test(i.slice(r.length))));const Cn=(i,e,n,r)=>{for(const a of n||Object.keys(i)){const u=I(i,a);if(u){const{_f:c,...d}=u;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!r)return!0;if(c.ref&&e(c.ref,c.name)&&!r)return!0;if(Cn(d,e))break}else if(Nt(d)&&Cn(d,e))break}}};var Jg=(i,e,n)=>{const r=Ln(I(i,n));return vt(r,"root",e[n]),vt(i,n,r),i},Jo=i=>i.type==="file",ke=i=>typeof i=="function",Ds=i=>{if(!qo)return!1;const e=i?i.ownerDocument:0;return i instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ps=i=>Ae(i),Qo=i=>i.type==="radio",Rs=i=>i instanceof RegExp;const _l={value:!1,isValid:!1},gl={value:!0,isValid:!0};var gh=i=>{if(Array.isArray(i)){if(i.length>1){const e=i.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return i[0].checked&&!i[0].disabled?i[0].attributes&&!Rt(i[0].attributes.value)?Rt(i[0].value)||i[0].value===""?gl:{value:i[0].value,isValid:!0}:gl:_l}return _l};const vl={isValid:!1,value:null};var vh=i=>Array.isArray(i)?i.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,vl):vl;function yl(i,e,n="validate"){if(Ps(i)||Array.isArray(i)&&i.every(Ps)||me(i)&&!i)return{type:n,message:Ps(i)?i:"",ref:e}}var Vi=i=>Nt(i)&&!Rs(i)?i:{value:i,message:""},xl=async(i,e,n,r,a)=>{const{ref:u,refs:c,required:d,maxLength:f,minLength:m,min:_,max:g,pattern:x,validate:P,name:A,valueAsNumber:k,mount:N,disabled:O}=i._f,M=I(e,A);if(!N||O)return{};const z=c?c[0]:u,et=q=>{r&&z.reportValidity&&(z.setCustomValidity(me(q)?"":q||""),z.reportValidity())},j={},lt=Qo(u),Lt=Yn(u),Q=lt||Lt,Ct=(k||Jo(u))&&Rt(u.value)&&Rt(M)||Ds(u)&&u.value===""||M===""||Array.isArray(M)&&!M.length,yt=_h.bind(null,A,n,j),wt=(q,ct,mt,Ft=Ze.maxLength,bt=Ze.minLength)=>{const ht=q?ct:mt;j[A]={type:q?Ft:bt,message:ht,ref:u,...yt(q?Ft:bt,ht)}};if(a?!Array.isArray(M)||!M.length:d&&(!Q&&(Ct||Qt(M))||me(M)&&!M||Lt&&!gh(c).isValid||lt&&!vh(c).isValid)){const{value:q,message:ct}=Ps(d)?{value:!!d,message:d}:Vi(d);if(q&&(j[A]={type:Ze.required,message:ct,ref:z,...yt(Ze.required,ct)},!n))return et(ct),j}if(!Ct&&(!Qt(_)||!Qt(g))){let q,ct;const mt=Vi(g),Ft=Vi(_);if(!Qt(M)&&!isNaN(M)){const bt=u.valueAsNumber||M&&+M;Qt(mt.value)||(q=bt>mt.value),Qt(Ft.value)||(ct=bt<Ft.value)}else{const bt=u.valueAsDate||new Date(M),ht=G=>new Date(new Date().toDateString()+" "+G),W=u.type=="time",oe=u.type=="week";Ae(mt.value)&&M&&(q=W?ht(M)>ht(mt.value):oe?M>mt.value:bt>new Date(mt.value)),Ae(Ft.value)&&M&&(ct=W?ht(M)<ht(Ft.value):oe?M<Ft.value:bt<new Date(Ft.value))}if((q||ct)&&(wt(!!q,mt.message,Ft.message,Ze.max,Ze.min),!n))return et(j[A].message),j}if((f||m)&&!Ct&&(Ae(M)||a&&Array.isArray(M))){const q=Vi(f),ct=Vi(m),mt=!Qt(q.value)&&M.length>+q.value,Ft=!Qt(ct.value)&&M.length<+ct.value;if((mt||Ft)&&(wt(mt,q.message,ct.message),!n))return et(j[A].message),j}if(x&&!Ct&&Ae(M)){const{value:q,message:ct}=Vi(x);if(Rs(q)&&!M.match(q)&&(j[A]={type:Ze.pattern,message:ct,ref:u,...yt(Ze.pattern,ct)},!n))return et(ct),j}if(P){if(ke(P)){const q=await P(M,e),ct=yl(q,z);if(ct&&(j[A]={...ct,...yt(Ze.validate,ct.message)},!n))return et(ct.message),j}else if(Nt(P)){let q={};for(const ct in P){if(!ne(q)&&!n)break;const mt=yl(await P[ct](M,e),z,ct);mt&&(q={...mt,...yt(ct,mt.message)},et(mt.message),n&&(j[A]=q))}if(!ne(q)&&(j[A]={ref:z,...q},!n))return j}}return et(!0),j};function Qg(i,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)i=Rt(i)?r++:i[e[r++]];return i}function tv(i){for(const e in i)if(i.hasOwnProperty(e)&&!Rt(i[e]))return!1;return!0}function jt(i,e){const n=Array.isArray(e)?e:Yo(e)?[e]:ch(e),r=n.length===1?i:Qg(i,n),a=n.length-1,u=n[a];return r&&delete r[u],a!==0&&(Nt(r)&&ne(r)||Array.isArray(r)&&tv(r))&&jt(i,n.slice(0,-1)),i}var Ur=()=>{let i=[];return{get observers(){return i},next:a=>{for(const u of i)u.next&&u.next(a)},subscribe:a=>(i.push(a),{unsubscribe:()=>{i=i.filter(u=>u!==a)}}),unsubscribe:()=>{i=[]}}},co=i=>Qt(i)||!ah(i);function qe(i,e){if(co(i)||co(e))return i===e;if(_i(i)&&_i(e))return i.getTime()===e.getTime();const n=Object.keys(i),r=Object.keys(e);if(n.length!==r.length)return!1;for(const a of n){const u=i[a];if(!r.includes(a))return!1;if(a!=="ref"){const c=e[a];if(_i(u)&&_i(c)||Nt(u)&&Nt(c)||Array.isArray(u)&&Array.isArray(c)?!qe(u,c):u!==c)return!1}}return!0}var yh=i=>i.type==="select-multiple",ev=i=>Qo(i)||Yn(i),Wr=i=>Ds(i)&&i.isConnected,xh=i=>{for(const e in i)if(ke(i[e]))return!0;return!1};function Vs(i,e={}){const n=Array.isArray(i);if(Nt(i)||n)for(const r in i)Array.isArray(i[r])||Nt(i[r])&&!xh(i[r])?(e[r]=Array.isArray(i[r])?[]:{},Vs(i[r],e[r])):Qt(i[r])||(e[r]=!0);return e}function wh(i,e,n){const r=Array.isArray(i);if(Nt(i)||r)for(const a in i)Array.isArray(i[a])||Nt(i[a])&&!xh(i[a])?Rt(e)||co(n[a])?n[a]=Array.isArray(i[a])?Vs(i[a],[]):{...Vs(i[a])}:wh(i[a],Qt(e)?{}:e[a],n[a]):n[a]=!qe(i[a],e[a]);return n}var gn=(i,e)=>wh(i,e,Vs(e)),bh=(i,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Rt(i)?i:e?i===""?NaN:i&&+i:n&&Ae(i)?new Date(i):r?r(i):i;function Hr(i){const e=i.ref;if(!(i.refs?i.refs.every(n=>n.disabled):e.disabled))return Jo(e)?e.files:Qo(e)?vh(i.refs).value:yh(e)?[...e.selectedOptions].map(({value:n})=>n):Yn(e)?gh(i.refs).value:bh(Rt(e.value)?i.ref.value:e.value,i)}var iv=(i,e,n,r)=>{const a={};for(const u of i){const c=I(e,u);c&&vt(a,u,c._f)}return{criteriaMode:n,names:[...i],fields:a,shouldUseNativeValidation:r}},vn=i=>Rt(i)?i:Rs(i)?i.source:Nt(i)?Rs(i.value)?i.value.source:i.value:i;const wl="AsyncFunction";var nv=i=>(!i||!i.validate)&&!!(ke(i.validate)&&i.validate.constructor.name===wl||Nt(i.validate)&&Object.values(i.validate).find(e=>e.constructor.name===wl)),sv=i=>i.mount&&(i.required||i.min||i.max||i.maxLength||i.minLength||i.pattern||i.validate);function bl(i,e,n){const r=I(i,n);if(r||Yo(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const u=a.join("."),c=I(e,u),d=I(i,u);if(c&&!Array.isArray(c)&&n!==u)return{name:n};if(d&&d.type)return{name:u,error:d};a.pop()}return{name:n}}var rv=(i,e,n,r,a)=>a.isOnAll?!1:!n&&a.isOnTouch?!(e||i):(n?r.isOnBlur:a.isOnBlur)?!i:(n?r.isOnChange:a.isOnChange)?i:!0,ov=(i,e)=>!Ks(I(i,e)).length&&jt(i,e);const av={mode:ye.onSubmit,reValidateMode:ye.onChange,shouldFocusError:!0};function uv(i={}){let e={...av,...i},n={submitCount:0,isDirty:!1,isLoading:ke(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},a=Nt(e.defaultValues)||Nt(e.values)?ie(e.defaultValues||e.values)||{}:{},u=e.shouldUnregister?{}:ie(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,unMount:new Set,array:new Set,watch:new Set},f,m=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},g={values:Ur(),array:Ur(),state:Ur()},x=ml(e.mode),P=ml(e.reValidateMode),A=e.criteriaMode===ye.all,k=y=>b=>{clearTimeout(m),m=setTimeout(y,b)},N=async y=>{if(!e.disabled&&(_.isValid||y)){const b=e.resolver?ne((await Q()).errors):await yt(r,!0);b!==n.isValid&&g.state.next({isValid:b})}},O=(y,b)=>{!e.disabled&&(_.isValidating||_.validatingFields)&&((y||Array.from(d.mount)).forEach(S=>{S&&(b?vt(n.validatingFields,S,b):jt(n.validatingFields,S))}),g.state.next({validatingFields:n.validatingFields,isValidating:!ne(n.validatingFields)}))},M=(y,b=[],S,B,V=!0,D=!0)=>{if(B&&S&&!e.disabled){if(c.action=!0,D&&Array.isArray(I(r,y))){const K=S(I(r,y),B.argA,B.argB);V&&vt(r,y,K)}if(D&&Array.isArray(I(n.errors,y))){const K=S(I(n.errors,y),B.argA,B.argB);V&&vt(n.errors,y,K),ov(n.errors,y)}if(_.touchedFields&&D&&Array.isArray(I(n.touchedFields,y))){const K=S(I(n.touchedFields,y),B.argA,B.argB);V&&vt(n.touchedFields,y,K)}_.dirtyFields&&(n.dirtyFields=gn(a,u)),g.state.next({name:y,isDirty:q(y,b),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else vt(u,y,b)},z=(y,b)=>{vt(n.errors,y,b),g.state.next({errors:n.errors})},et=y=>{n.errors=y,g.state.next({errors:n.errors,isValid:!1})},j=(y,b,S,B)=>{const V=I(r,y);if(V){const D=I(u,y,Rt(S)?I(a,y):S);Rt(D)||B&&B.defaultChecked||b?vt(u,y,b?D:Hr(V._f)):Ft(y,D),c.mount&&N()}},lt=(y,b,S,B,V)=>{let D=!1,K=!1;const st={name:y};if(!e.disabled){const Ot=!!(I(r,y)&&I(r,y)._f&&I(r,y)._f.disabled);if(!S||B){_.isDirty&&(K=n.isDirty,n.isDirty=st.isDirty=q(),D=K!==st.isDirty);const Vt=Ot||qe(I(a,y),b);K=!!(!Ot&&I(n.dirtyFields,y)),Vt||Ot?jt(n.dirtyFields,y):vt(n.dirtyFields,y,!0),st.dirtyFields=n.dirtyFields,D=D||_.dirtyFields&&K!==!Vt}if(S){const Vt=I(n.touchedFields,y);Vt||(vt(n.touchedFields,y,S),st.touchedFields=n.touchedFields,D=D||_.touchedFields&&Vt!==S)}D&&V&&g.state.next(st)}return D?st:{}},Lt=(y,b,S,B)=>{const V=I(n.errors,y),D=_.isValid&&me(b)&&n.isValid!==b;if(i.delayError&&S?(f=k(()=>z(y,S)),f(i.delayError)):(clearTimeout(m),f=null,S?vt(n.errors,y,S):jt(n.errors,y)),(S?!qe(V,S):V)||!ne(B)||D){const K={...B,...D&&me(b)?{isValid:b}:{},errors:n.errors,name:y};n={...n,...K},g.state.next(K)}},Q=async y=>{O(y,!0);const b=await e.resolver(u,e.context,iv(y||d.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return O(y),b},Ct=async y=>{const{errors:b}=await Q(y);if(y)for(const S of y){const B=I(b,S);B?vt(n.errors,S,B):jt(n.errors,S)}else n.errors=b;return b},yt=async(y,b,S={valid:!0})=>{for(const B in y){const V=y[B];if(V){const{_f:D,...K}=V;if(D){const st=d.array.has(D.name),Ot=V._f&&nv(V._f);Ot&&_.validatingFields&&O([B],!0);const Vt=await xl(V,u,A,e.shouldUseNativeValidation&&!b,st);if(Ot&&_.validatingFields&&O([B]),Vt[D.name]&&(S.valid=!1,b))break;!b&&(I(Vt,D.name)?st?Jg(n.errors,Vt,D.name):vt(n.errors,D.name,Vt[D.name]):jt(n.errors,D.name))}!ne(K)&&await yt(K,b,S)}}return S.valid},wt=()=>{for(const y of d.unMount){const b=I(r,y);b&&(b._f.refs?b._f.refs.every(S=>!Wr(S)):!Wr(b._f.ref))&&at(y)}d.unMount=new Set},q=(y,b)=>!e.disabled&&(y&&b&&vt(u,y,b),!qe(Tt(),a)),ct=(y,b,S)=>ph(y,d,{...c.mount?u:Rt(b)?a:Ae(y)?{[y]:b}:b},S,b),mt=y=>Ks(I(c.mount?u:a,y,i.shouldUnregister?I(a,y,[]):[])),Ft=(y,b,S={})=>{const B=I(r,y);let V=b;if(B){const D=B._f;D&&(!D.disabled&&vt(u,y,bh(b,D)),V=Ds(D.ref)&&Qt(b)?"":b,yh(D.ref)?[...D.ref.options].forEach(K=>K.selected=V.includes(K.value)):D.refs?Yn(D.ref)?D.refs.length>1?D.refs.forEach(K=>(!K.defaultChecked||!K.disabled)&&(K.checked=Array.isArray(V)?!!V.find(st=>st===K.value):V===K.value)):D.refs[0]&&(D.refs[0].checked=!!V):D.refs.forEach(K=>K.checked=K.value===V):Jo(D.ref)?D.ref.value="":(D.ref.value=V,D.ref.type||g.values.next({name:y,values:{...u}})))}(S.shouldDirty||S.shouldTouch)&&lt(y,V,S.shouldTouch,S.shouldDirty,!0),S.shouldValidate&&G(y)},bt=(y,b,S)=>{for(const B in b){const V=b[B],D=`${y}.${B}`,K=I(r,D);(d.array.has(y)||Nt(V)||K&&!K._f)&&!_i(V)?bt(D,V,S):Ft(D,V,S)}},ht=(y,b,S={})=>{const B=I(r,y),V=d.array.has(y),D=ie(b);vt(u,y,D),V?(g.array.next({name:y,values:{...u}}),(_.isDirty||_.dirtyFields)&&S.shouldDirty&&g.state.next({name:y,dirtyFields:gn(a,u),isDirty:q(y,D)})):B&&!B._f&&!Qt(D)?bt(y,D,S):Ft(y,D,S),pl(y,d)&&g.state.next({...n}),g.values.next({name:c.mount?y:void 0,values:{...u}})},W=async y=>{c.mount=!0;const b=y.target;let S=b.name,B=!0;const V=I(r,S),D=()=>b.type?Hr(V._f):uh(y),K=st=>{B=Number.isNaN(st)||_i(st)&&isNaN(st.getTime())||qe(st,I(u,S,st))};if(V){let st,Ot;const Vt=D(),Te=y.type===Os.BLUR||y.type===Os.FOCUS_OUT,er=!sv(V._f)&&!e.resolver&&!I(n.errors,S)&&!V._f.deps||rv(Te,I(n.touchedFields,S),n.isSubmitted,P,x),Pi=pl(S,d,Te);vt(u,S,Vt),Te?(V._f.onBlur&&V._f.onBlur(y),f&&f(0)):V._f.onChange&&V._f.onChange(y);const Si=lt(S,Vt,Te,!1),ir=!ne(Si)||Pi;if(!Te&&g.values.next({name:S,type:y.type,values:{...u}}),er)return _.isValid&&(i.mode==="onBlur"?Te&&N():N()),ir&&g.state.next({name:S,...Pi?{}:Si});if(!Te&&Pi&&g.state.next({...n}),e.resolver){const{errors:Qi}=await Q([S]);if(K(Vt),B){const tn=bl(n.errors,r,S),en=bl(Qi,r,tn.name||S);st=en.error,S=en.name,Ot=ne(Qi)}}else O([S],!0),st=(await xl(V,u,A,e.shouldUseNativeValidation))[S],O([S]),K(Vt),B&&(st?Ot=!1:_.isValid&&(Ot=await yt(r,!0)));B&&(V._f.deps&&G(V._f.deps),Lt(S,Ot,st,Si))}},oe=(y,b)=>{if(I(n.errors,b)&&y.focus)return y.focus(),1},G=async(y,b={})=>{let S,B;const V=Ln(y);if(e.resolver){const D=await Ct(Rt(y)?y:V);S=ne(D),B=y?!V.some(K=>I(D,K)):S}else y?(B=(await Promise.all(V.map(async D=>{const K=I(r,D);return await yt(K&&K._f?{[D]:K}:K)}))).every(Boolean),!(!B&&!n.isValid)&&N()):B=S=await yt(r);return g.state.next({...!Ae(y)||_.isValid&&S!==n.isValid?{}:{name:y},...e.resolver||!y?{isValid:S}:{},errors:n.errors}),b.shouldFocus&&!B&&Cn(r,oe,y?V:d.mount),B},Tt=y=>{const b={...c.mount?u:a};return Rt(y)?b:Ae(y)?I(b,y):y.map(S=>I(b,S))},Wt=(y,b)=>({invalid:!!I((b||n).errors,y),isDirty:!!I((b||n).dirtyFields,y),error:I((b||n).errors,y),isValidating:!!I(n.validatingFields,y),isTouched:!!I((b||n).touchedFields,y)}),Gt=y=>{y&&Ln(y).forEach(b=>jt(n.errors,b)),g.state.next({errors:y?n.errors:{}})},kt=(y,b,S)=>{const B=(I(r,y,{_f:{}})._f||{}).ref,V=I(n.errors,y)||{},{ref:D,message:K,type:st,...Ot}=V;vt(n.errors,y,{...Ot,...b,ref:B}),g.state.next({name:y,errors:n.errors,isValid:!1}),S&&S.shouldFocus&&B&&B.focus&&B.focus()},gt=(y,b)=>ke(y)?g.values.subscribe({next:S=>y(ct(void 0,b),S)}):ct(y,b,!0),at=(y,b={})=>{for(const S of y?Ln(y):d.mount)d.mount.delete(S),d.array.delete(S),b.keepValue||(jt(r,S),jt(u,S)),!b.keepError&&jt(n.errors,S),!b.keepDirty&&jt(n.dirtyFields,S),!b.keepTouched&&jt(n.touchedFields,S),!b.keepIsValidating&&jt(n.validatingFields,S),!e.shouldUnregister&&!b.keepDefaultValue&&jt(a,S);g.values.next({values:{...u}}),g.state.next({...n,...b.keepDirty?{isDirty:q()}:{}}),!b.keepIsValid&&N()},ae=({disabled:y,name:b,field:S,fields:B,value:V})=>{if(me(y)&&c.mount||y){const D=y?void 0:Rt(V)?Hr(S?S._f:I(B,b)._f):V;vt(u,b,D),lt(b,D,!1,!1,!0)}},ue=(y,b={})=>{let S=I(r,y);const B=me(b.disabled)||me(e.disabled);return vt(r,y,{...S||{},_f:{...S&&S._f?S._f:{ref:{name:y}},name:y,mount:!0,...b}}),d.mount.add(y),S?ae({field:S,disabled:me(b.disabled)?b.disabled:e.disabled,name:y,value:b.value}):j(y,!0,b.value),{...B?{disabled:b.disabled||e.disabled}:{},...e.progressive?{required:!!b.required,min:vn(b.min),max:vn(b.max),minLength:vn(b.minLength),maxLength:vn(b.maxLength),pattern:vn(b.pattern)}:{},name:y,onChange:W,onBlur:W,ref:V=>{if(V){ue(y,b),S=I(r,y);const D=Rt(V.value)&&V.querySelectorAll&&V.querySelectorAll("input,select,textarea")[0]||V,K=ev(D),st=S._f.refs||[];if(K?st.find(Ot=>Ot===D):D===S._f.ref)return;vt(r,y,{_f:{...S._f,...K?{refs:[...st.filter(Wr),D,...Array.isArray(I(a,y))?[{}]:[]],ref:{type:D.type,name:y}}:{ref:D}}}),j(y,!1,void 0,D)}else S=I(r,y,{}),S._f&&(S._f.mount=!1),(e.shouldUnregister||b.shouldUnregister)&&!(lh(d.array,y)&&c.action)&&d.unMount.add(y)}}},Xi=()=>e.shouldFocusError&&Cn(r,oe,d.mount),Ji=y=>{me(y)&&(g.state.next({disabled:y}),Cn(r,(b,S)=>{const B=I(r,S);B&&(b.disabled=B._f.disabled||y,Array.isArray(B._f.refs)&&B._f.refs.forEach(V=>{V.disabled=B._f.disabled||y}))},0,!1))},bi=(y,b)=>async S=>{let B;if(S&&(S.preventDefault&&S.preventDefault(),S.persist&&S.persist()),e.disabled){b&&await b({...n.errors},S);return}let V=ie(u);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:D,values:K}=await Q();n.errors=D,V=K}else await yt(r);if(jt(n.errors,"root"),ne(n.errors)){g.state.next({errors:{}});try{await y(V,S)}catch(D){B=D}}else b&&await b({...n.errors},S),Xi(),setTimeout(Xi);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ne(n.errors)&&!B,submitCount:n.submitCount+1,errors:n.errors}),B)throw B},oi=(y,b={})=>{I(r,y)&&(Rt(b.defaultValue)?ht(y,ie(I(a,y))):(ht(y,b.defaultValue),vt(a,y,ie(b.defaultValue))),b.keepTouched||jt(n.touchedFields,y),b.keepDirty||(jt(n.dirtyFields,y),n.isDirty=b.defaultValue?q(y,ie(I(a,y))):q()),b.keepError||(jt(n.errors,y),_.isValid&&N()),g.state.next({...n}))},Ti=(y,b={})=>{const S=y?ie(y):a,B=ie(S),V=ne(y),D=V?a:B;if(b.keepDefaultValues||(a=S),!b.keepValues){if(b.keepDirtyValues){const K=new Set([...d.mount,...Object.keys(gn(a,u))]);for(const st of Array.from(K))I(n.dirtyFields,st)?vt(D,st,I(u,st)):ht(st,I(D,st))}else{if(qo&&Rt(y))for(const K of d.mount){const st=I(r,K);if(st&&st._f){const Ot=Array.isArray(st._f.refs)?st._f.refs[0]:st._f.ref;if(Ds(Ot)){const Vt=Ot.closest("form");if(Vt){Vt.reset();break}}}}r={}}u=i.shouldUnregister?b.keepDefaultValues?ie(a):{}:ie(D),g.array.next({values:{...D}}),g.values.next({values:{...D}})}d={mount:b.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!_.isValid||!!b.keepIsValid||!!b.keepDirtyValues,c.watch=!!i.shouldUnregister,g.state.next({submitCount:b.keepSubmitCount?n.submitCount:0,isDirty:V?!1:b.keepDirty?n.isDirty:!!(b.keepDefaultValues&&!qe(y,a)),isSubmitted:b.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:V?{}:b.keepDirtyValues?b.keepDefaultValues&&u?gn(a,u):n.dirtyFields:b.keepDefaultValues&&y?gn(a,y):b.keepDirty?n.dirtyFields:{},touchedFields:b.keepTouched?n.touchedFields:{},errors:b.keepErrors?n.errors:{},isSubmitSuccessful:b.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Jn=(y,b)=>Ti(ke(y)?y(u):y,b);return{control:{register:ue,unregister:at,getFieldState:Wt,handleSubmit:bi,setError:kt,_executeSchema:Q,_getWatch:ct,_getDirty:q,_updateValid:N,_removeUnmounted:wt,_updateFieldArray:M,_updateDisabledField:ae,_getFieldArray:mt,_reset:Ti,_resetDefaultValues:()=>ke(e.defaultValues)&&e.defaultValues().then(y=>{Jn(y,e.resetOptions),g.state.next({isLoading:!1})}),_updateFormState:y=>{n={...n,...y}},_disableForm:Ji,_subjects:g,_proxyFormState:_,_setErrors:et,get _fields(){return r},get _formValues(){return u},get _state(){return c},set _state(y){c=y},get _defaultValues(){return a},get _names(){return d},set _names(y){d=y},get _formState(){return n},set _formState(y){n=y},get _options(){return e},set _options(y){e={...e,...y}}},trigger:G,register:ue,handleSubmit:bi,watch:gt,setValue:ht,getValues:Tt,reset:Jn,resetField:oi,clearErrors:Gt,unregister:at,setError:kt,setFocus:(y,b={})=>{const S=I(r,y),B=S&&S._f;if(B){const V=B.refs?B.refs[0]:B.ref;V.focus&&(V.focus(),b.shouldSelect&&ke(V.select)&&V.select())}},getFieldState:Wt}}function Yy(i={}){const e=_t.useRef(),n=_t.useRef(),[r,a]=_t.useState({isDirty:!1,isValidating:!1,isLoading:ke(i.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1,defaultValues:ke(i.defaultValues)?void 0:i.defaultValues});e.current||(e.current={...uv(i),formState:r});const u=e.current.control;return u._options=i,Xo({subject:u._subjects.state,next:c=>{fh(c,u._proxyFormState,u._updateFormState,!0)&&a({...u._formState})}}),_t.useEffect(()=>u._disableForm(i.disabled),[u,i.disabled]),_t.useEffect(()=>{if(u._proxyFormState.isDirty){const c=u._getDirty();c!==r.isDirty&&u._subjects.state.next({isDirty:c})}},[u,r.isDirty]),_t.useEffect(()=>{i.values&&!qe(i.values,n.current)?(u._reset(i.values,u._options.resetOptions),n.current=i.values,a(c=>({...c}))):u._resetDefaultValues()},[i.values,u]),_t.useEffect(()=>{i.errors&&u._setErrors(i.errors)},[i.errors,u]),_t.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),_t.useEffect(()=>{i.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[i.shouldUnregister,u]),e.current.formState=dh(r,u),e.current}var lv="Label",Th=R.forwardRef((i,e)=>St.jsx(Ol.label,{...i,ref:e,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=i.onMouseDown)==null||a.call(i,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Th.displayName=lv;var Ph=Th;const cv=El("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Sh=R.forwardRef(({className:i,...e},n)=>St.jsx(Ph,{ref:n,className:pe(cv(),i),...e}));Sh.displayName=Ph.displayName;const Xy=Gg,Lh=R.createContext({}),Jy=({...i})=>St.jsx(Lh.Provider,{value:{name:i.name},children:St.jsx(Xg,{...i})}),Ys=()=>{const i=R.useContext(Lh),e=R.useContext(Ch),{getFieldState:n,formState:r}=qs(),a=n(i.name,r);if(!i)throw new Error("useFormField should be used within <FormField>");const{id:u}=e;return{id:u,name:i.name,formItemId:`${u}-form-item`,formDescriptionId:`${u}-form-item-description`,formMessageId:`${u}-form-item-message`,...a}},Ch=R.createContext({}),hv=R.forwardRef(({className:i,...e},n)=>{const r=R.useId();return St.jsx(Ch.Provider,{value:{id:r},children:St.jsx("div",{ref:n,className:pe("space-y-2",i),...e})})});hv.displayName="FormItem";const dv=R.forwardRef(({className:i,...e},n)=>{const{error:r,formItemId:a}=Ys();return St.jsx(Sh,{ref:n,className:pe(r&&"text-destructive",i),htmlFor:a,...e})});dv.displayName="FormLabel";const fv=R.forwardRef(({...i},e)=>{const{error:n,formItemId:r,formDescriptionId:a,formMessageId:u}=Ys();return St.jsx(vf,{ref:e,id:r,"aria-describedby":n?`${a} ${u}`:`${a}`,"aria-invalid":!!n,...i})});fv.displayName="FormControl";const mv=R.forwardRef(({className:i,...e},n)=>{const{formDescriptionId:r}=Ys();return St.jsx("p",{ref:n,id:r,className:pe("text-sm text-muted-foreground",i),...e})});mv.displayName="FormDescription";const pv=R.forwardRef(({className:i,children:e,...n},r)=>{const{error:a,formMessageId:u}=Ys(),c=a?String(a==null?void 0:a.message):e;return c?St.jsx("p",{ref:r,id:u,className:pe("text-sm font-medium text-destructive",i),...n,children:c}):null});pv.displayName="FormMessage";var ft;(function(i){i.assertEqual=a=>a;function e(a){}i.assertIs=e;function n(a){throw new Error}i.assertNever=n,i.arrayToEnum=a=>{const u={};for(const c of a)u[c]=c;return u},i.getValidEnumValues=a=>{const u=i.objectKeys(a).filter(d=>typeof a[a[d]]!="number"),c={};for(const d of u)c[d]=a[d];return i.objectValues(c)},i.objectValues=a=>i.objectKeys(a).map(function(u){return a[u]}),i.objectKeys=typeof Object.keys=="function"?a=>Object.keys(a):a=>{const u=[];for(const c in a)Object.prototype.hasOwnProperty.call(a,c)&&u.push(c);return u},i.find=(a,u)=>{for(const c of a)if(u(c))return c},i.isInteger=typeof Number.isInteger=="function"?a=>Number.isInteger(a):a=>typeof a=="number"&&isFinite(a)&&Math.floor(a)===a;function r(a,u=" | "){return a.map(c=>typeof c=="string"?`'${c}'`:c).join(u)}i.joinValues=r,i.jsonStringifyReplacer=(a,u)=>typeof u=="bigint"?u.toString():u})(ft||(ft={}));var ho;(function(i){i.mergeShapes=(e,n)=>({...e,...n})})(ho||(ho={}));const U=ft.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ye=i=>{switch(typeof i){case"undefined":return U.undefined;case"string":return U.string;case"number":return isNaN(i)?U.nan:U.number;case"boolean":return U.boolean;case"function":return U.function;case"bigint":return U.bigint;case"symbol":return U.symbol;case"object":return Array.isArray(i)?U.array:i===null?U.null:i.then&&typeof i.then=="function"&&i.catch&&typeof i.catch=="function"?U.promise:typeof Map<"u"&&i instanceof Map?U.map:typeof Set<"u"&&i instanceof Set?U.set:typeof Date<"u"&&i instanceof Date?U.date:U.object;default:return U.unknown}},E=ft.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),_v=i=>JSON.stringify(i,null,2).replace(/"([^"]+)":/g,"$1:");class se extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(u){return u.message},r={_errors:[]},a=u=>{for(const c of u.issues)if(c.code==="invalid_union")c.unionErrors.map(a);else if(c.code==="invalid_return_type")a(c.returnTypeError);else if(c.code==="invalid_arguments")a(c.argumentsError);else if(c.path.length===0)r._errors.push(n(c));else{let d=r,f=0;for(;f<c.path.length;){const m=c.path[f];f===c.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(n(c))):d[m]=d[m]||{_errors:[]},d=d[m],f++}}};return a(this),r}static assert(e){if(!(e instanceof se))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ft.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const a of this.issues)a.path.length>0?(n[a.path[0]]=n[a.path[0]]||[],n[a.path[0]].push(e(a))):r.push(e(a));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}se.create=i=>new se(i);const Gi=(i,e)=>{let n;switch(i.code){case E.invalid_type:i.received===U.undefined?n="Required":n=`Expected ${i.expected}, received ${i.received}`;break;case E.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(i.expected,ft.jsonStringifyReplacer)}`;break;case E.unrecognized_keys:n=`Unrecognized key(s) in object: ${ft.joinValues(i.keys,", ")}`;break;case E.invalid_union:n="Invalid input";break;case E.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ft.joinValues(i.options)}`;break;case E.invalid_enum_value:n=`Invalid enum value. Expected ${ft.joinValues(i.options)}, received '${i.received}'`;break;case E.invalid_arguments:n="Invalid function arguments";break;case E.invalid_return_type:n="Invalid function return type";break;case E.invalid_date:n="Invalid date";break;case E.invalid_string:typeof i.validation=="object"?"includes"in i.validation?(n=`Invalid input: must include "${i.validation.includes}"`,typeof i.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${i.validation.position}`)):"startsWith"in i.validation?n=`Invalid input: must start with "${i.validation.startsWith}"`:"endsWith"in i.validation?n=`Invalid input: must end with "${i.validation.endsWith}"`:ft.assertNever(i.validation):i.validation!=="regex"?n=`Invalid ${i.validation}`:n="Invalid";break;case E.too_small:i.type==="array"?n=`Array must contain ${i.exact?"exactly":i.inclusive?"at least":"more than"} ${i.minimum} element(s)`:i.type==="string"?n=`String must contain ${i.exact?"exactly":i.inclusive?"at least":"over"} ${i.minimum} character(s)`:i.type==="number"?n=`Number must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${i.minimum}`:i.type==="date"?n=`Date must be ${i.exact?"exactly equal to ":i.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(i.minimum))}`:n="Invalid input";break;case E.too_big:i.type==="array"?n=`Array must contain ${i.exact?"exactly":i.inclusive?"at most":"less than"} ${i.maximum} element(s)`:i.type==="string"?n=`String must contain ${i.exact?"exactly":i.inclusive?"at most":"under"} ${i.maximum} character(s)`:i.type==="number"?n=`Number must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="bigint"?n=`BigInt must be ${i.exact?"exactly":i.inclusive?"less than or equal to":"less than"} ${i.maximum}`:i.type==="date"?n=`Date must be ${i.exact?"exactly":i.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(i.maximum))}`:n="Invalid input";break;case E.custom:n="Invalid input";break;case E.invalid_intersection_types:n="Intersection results could not be merged";break;case E.not_multiple_of:n=`Number must be a multiple of ${i.multipleOf}`;break;case E.not_finite:n="Number must be finite";break;default:n=e.defaultError,ft.assertNever(i)}return{message:n}};let kh=Gi;function gv(i){kh=i}function Is(){return kh}const Bs=i=>{const{data:e,path:n,errorMaps:r,issueData:a}=i,u=[...n,...a.path||[]],c={...a,path:u};if(a.message!==void 0)return{...a,path:u,message:a.message};let d="";const f=r.filter(m=>!!m).slice().reverse();for(const m of f)d=m(c,{data:e,defaultError:d}).message;return{...a,path:u,message:d}},vv=[];function Z(i,e){const n=Is(),r=Bs({issueData:e,data:i.data,path:i.path,errorMaps:[i.common.contextualErrorMap,i.schemaErrorMap,n,n===Gi?void 0:Gi].filter(a=>!!a)});i.common.issues.push(r)}class Xt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const a of n){if(a.status==="aborted")return tt;a.status==="dirty"&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const a of n){const u=await a.key,c=await a.value;r.push({key:u,value:c})}return Xt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const a of n){const{key:u,value:c}=a;if(u.status==="aborted"||c.status==="aborted")return tt;u.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof c.value<"u"||a.alwaysSet)&&(r[u.value]=c.value)}return{status:e.value,value:r}}}const tt=Object.freeze({status:"aborted"}),ji=i=>({status:"dirty",value:i}),te=i=>({status:"valid",value:i}),fo=i=>i.status==="aborted",mo=i=>i.status==="dirty",On=i=>i.status==="valid",Dn=i=>typeof Promise<"u"&&i instanceof Promise;function Ns(i,e,n,r){if(typeof e=="function"?i!==e||!r:!e.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(i)}function Ah(i,e,n,r,a){if(typeof e=="function"?i!==e||!a:!e.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(i,n),n}var H;(function(i){i.errToObj=e=>typeof e=="string"?{message:e}:e||{},i.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(H||(H={}));var wn,bn;class De{constructor(e,n,r,a){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Tl=(i,e)=>{if(On(e))return{success:!0,data:e.value};if(!i.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new se(i.common.issues);return this._error=n,this._error}}};function nt(i){if(!i)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:a}=i;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:a}:{errorMap:(c,d)=>{var f,m;const{message:_}=i;return c.code==="invalid_enum_value"?{message:_??d.defaultError}:typeof d.data>"u"?{message:(f=_??r)!==null&&f!==void 0?f:d.defaultError}:c.code!=="invalid_type"?{message:d.defaultError}:{message:(m=_??n)!==null&&m!==void 0?m:d.defaultError}},description:a}}class ot{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Ye(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ye(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xt,ctx:{common:e.parent.common,data:e.data,parsedType:Ye(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Dn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const a={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)},u=this._parseSync({data:e,path:a.path,parent:a});return Tl(a,u)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ye(e)},a=this._parse({data:e,path:r.path,parent:r}),u=await(Dn(a)?a:Promise.resolve(a));return Tl(r,u)}refine(e,n){const r=a=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(a):n;return this._refinement((a,u)=>{const c=e(a),d=()=>u.addIssue({code:E.custom,...r(a)});return typeof Promise<"u"&&c instanceof Promise?c.then(f=>f?!0:(d(),!1)):c?!0:(d(),!1)})}refinement(e,n){return this._refinement((r,a)=>e(r)?!0:(a.addIssue(typeof n=="function"?n(r,a):n),!1))}_refinement(e){return new be({schema:this,typeName:J.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Oe.create(this,this._def)}nullable(){return si.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return we.create(this,this._def)}promise(){return qi.create(this,this._def)}or(e){return Bn.create([this,e],this._def)}and(e){return Nn.create(this,e,this._def)}transform(e){return new be({...nt(this._def),schema:this,typeName:J.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Un({...nt(this._def),innerType:this,defaultValue:n,typeName:J.ZodDefault})}brand(){return new ta({typeName:J.ZodBranded,type:this,...nt(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Wn({...nt(this._def),innerType:this,catchValue:n,typeName:J.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Xn.create(this,e)}readonly(){return Hn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const yv=/^c[^\s-]{8,}$/i,xv=/^[0-9a-z]+$/,wv=/^[0-9A-HJKMNP-TV-Z]{26}$/,bv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Tv=/^[a-z0-9_-]{21}$/i,Pv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Sv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Lv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let $r;const Cv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kv=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Av=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mh="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Mv=new RegExp(`^${Mh}$`);function Eh(i){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return i.precision?e=`${e}\\.\\d{${i.precision}}`:i.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Ev(i){return new RegExp(`^${Eh(i)}$`)}function Oh(i){let e=`${Mh}T${Eh(i)}`;const n=[];return n.push(i.local?"Z?":"Z"),i.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Ov(i,e){return!!((e==="v4"||!e)&&Cv.test(i)||(e==="v6"||!e)&&kv.test(i))}class xe extends ot{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==U.string){const u=this._getOrReturnCtx(e);return Z(u,{code:E.invalid_type,expected:U.string,received:u.parsedType}),tt}const r=new Xt;let a;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(a=this._getOrReturnCtx(e,a),Z(a,{code:E.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),r.dirty());else if(u.kind==="max")e.data.length>u.value&&(a=this._getOrReturnCtx(e,a),Z(a,{code:E.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),r.dirty());else if(u.kind==="length"){const c=e.data.length>u.value,d=e.data.length<u.value;(c||d)&&(a=this._getOrReturnCtx(e,a),c?Z(a,{code:E.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):d&&Z(a,{code:E.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),r.dirty())}else if(u.kind==="email")Sv.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"email",code:E.invalid_string,message:u.message}),r.dirty());else if(u.kind==="emoji")$r||($r=new RegExp(Lv,"u")),$r.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"emoji",code:E.invalid_string,message:u.message}),r.dirty());else if(u.kind==="uuid")bv.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"uuid",code:E.invalid_string,message:u.message}),r.dirty());else if(u.kind==="nanoid")Tv.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"nanoid",code:E.invalid_string,message:u.message}),r.dirty());else if(u.kind==="cuid")yv.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"cuid",code:E.invalid_string,message:u.message}),r.dirty());else if(u.kind==="cuid2")xv.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"cuid2",code:E.invalid_string,message:u.message}),r.dirty());else if(u.kind==="ulid")wv.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"ulid",code:E.invalid_string,message:u.message}),r.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{a=this._getOrReturnCtx(e,a),Z(a,{validation:"url",code:E.invalid_string,message:u.message}),r.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"regex",code:E.invalid_string,message:u.message}),r.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(a=this._getOrReturnCtx(e,a),Z(a,{code:E.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),r.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(a=this._getOrReturnCtx(e,a),Z(a,{code:E.invalid_string,validation:{startsWith:u.value},message:u.message}),r.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(a=this._getOrReturnCtx(e,a),Z(a,{code:E.invalid_string,validation:{endsWith:u.value},message:u.message}),r.dirty()):u.kind==="datetime"?Oh(u).test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{code:E.invalid_string,validation:"datetime",message:u.message}),r.dirty()):u.kind==="date"?Mv.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{code:E.invalid_string,validation:"date",message:u.message}),r.dirty()):u.kind==="time"?Ev(u).test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{code:E.invalid_string,validation:"time",message:u.message}),r.dirty()):u.kind==="duration"?Pv.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"duration",code:E.invalid_string,message:u.message}),r.dirty()):u.kind==="ip"?Ov(e.data,u.version)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"ip",code:E.invalid_string,message:u.message}),r.dirty()):u.kind==="base64"?Av.test(e.data)||(a=this._getOrReturnCtx(e,a),Z(a,{validation:"base64",code:E.invalid_string,message:u.message}),r.dirty()):ft.assertNever(u);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(a=>e.test(a),{validation:n,code:E.invalid_string,...H.errToObj(r)})}_addCheck(e){return new xe({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...H.errToObj(e)})}url(e){return this._addCheck({kind:"url",...H.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...H.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...H.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...H.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...H.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...H.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...H.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...H.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...H.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...H.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...H.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...H.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...H.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...H.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...H.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...H.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...H.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...H.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...H.errToObj(n)})}nonempty(e){return this.min(1,H.errToObj(e))}trim(){return new xe({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xe({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xe({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xe.create=i=>{var e;return new xe({checks:[],typeName:J.ZodString,coerce:(e=i==null?void 0:i.coerce)!==null&&e!==void 0?e:!1,...nt(i)})};function Dv(i,e){const n=(i.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,a=n>r?n:r,u=parseInt(i.toFixed(a).replace(".","")),c=parseInt(e.toFixed(a).replace(".",""));return u%c/Math.pow(10,a)}class ei extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==U.number){const u=this._getOrReturnCtx(e);return Z(u,{code:E.invalid_type,expected:U.number,received:u.parsedType}),tt}let r;const a=new Xt;for(const u of this._def.checks)u.kind==="int"?ft.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:E.invalid_type,expected:"integer",received:"float",message:u.message}),a.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:E.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),a.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:E.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),a.dirty()):u.kind==="multipleOf"?Dv(e.data,u.value)!==0&&(r=this._getOrReturnCtx(e,r),Z(r,{code:E.not_multiple_of,multipleOf:u.value,message:u.message}),a.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Z(r,{code:E.not_finite,message:u.message}),a.dirty()):ft.assertNever(u);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,H.toString(n))}gt(e,n){return this.setLimit("min",e,!1,H.toString(n))}lte(e,n){return this.setLimit("max",e,!0,H.toString(n))}lt(e,n){return this.setLimit("max",e,!1,H.toString(n))}setLimit(e,n,r,a){return new ei({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:H.toString(a)}]})}_addCheck(e){return new ei({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:H.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:H.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ft.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ei.create=i=>new ei({checks:[],typeName:J.ZodNumber,coerce:(i==null?void 0:i.coerce)||!1,...nt(i)});class ii extends ot{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==U.bigint){const u=this._getOrReturnCtx(e);return Z(u,{code:E.invalid_type,expected:U.bigint,received:u.parsedType}),tt}let r;const a=new Xt;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:E.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),a.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:E.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),a.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Z(r,{code:E.not_multiple_of,multipleOf:u.value,message:u.message}),a.dirty()):ft.assertNever(u);return{status:a.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,H.toString(n))}gt(e,n){return this.setLimit("min",e,!1,H.toString(n))}lte(e,n){return this.setLimit("max",e,!0,H.toString(n))}lt(e,n){return this.setLimit("max",e,!1,H.toString(n))}setLimit(e,n,r,a){return new ii({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:H.toString(a)}]})}_addCheck(e){return new ii({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ii.create=i=>{var e;return new ii({checks:[],typeName:J.ZodBigInt,coerce:(e=i==null?void 0:i.coerce)!==null&&e!==void 0?e:!1,...nt(i)})};class Rn extends ot{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==U.boolean){const r=this._getOrReturnCtx(e);return Z(r,{code:E.invalid_type,expected:U.boolean,received:r.parsedType}),tt}return te(e.data)}}Rn.create=i=>new Rn({typeName:J.ZodBoolean,coerce:(i==null?void 0:i.coerce)||!1,...nt(i)});class yi extends ot{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==U.date){const u=this._getOrReturnCtx(e);return Z(u,{code:E.invalid_type,expected:U.date,received:u.parsedType}),tt}if(isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return Z(u,{code:E.invalid_date}),tt}const r=new Xt;let a;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(a=this._getOrReturnCtx(e,a),Z(a,{code:E.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),r.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(a=this._getOrReturnCtx(e,a),Z(a,{code:E.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),r.dirty()):ft.assertNever(u);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yi({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:H.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:H.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}yi.create=i=>new yi({checks:[],coerce:(i==null?void 0:i.coerce)||!1,typeName:J.ZodDate,...nt(i)});class Zs extends ot{_parse(e){if(this._getType(e)!==U.symbol){const r=this._getOrReturnCtx(e);return Z(r,{code:E.invalid_type,expected:U.symbol,received:r.parsedType}),tt}return te(e.data)}}Zs.create=i=>new Zs({typeName:J.ZodSymbol,...nt(i)});class Vn extends ot{_parse(e){if(this._getType(e)!==U.undefined){const r=this._getOrReturnCtx(e);return Z(r,{code:E.invalid_type,expected:U.undefined,received:r.parsedType}),tt}return te(e.data)}}Vn.create=i=>new Vn({typeName:J.ZodUndefined,...nt(i)});class In extends ot{_parse(e){if(this._getType(e)!==U.null){const r=this._getOrReturnCtx(e);return Z(r,{code:E.invalid_type,expected:U.null,received:r.parsedType}),tt}return te(e.data)}}In.create=i=>new In({typeName:J.ZodNull,...nt(i)});class Ki extends ot{constructor(){super(...arguments),this._any=!0}_parse(e){return te(e.data)}}Ki.create=i=>new Ki({typeName:J.ZodAny,...nt(i)});class vi extends ot{constructor(){super(...arguments),this._unknown=!0}_parse(e){return te(e.data)}}vi.create=i=>new vi({typeName:J.ZodUnknown,...nt(i)});class He extends ot{_parse(e){const n=this._getOrReturnCtx(e);return Z(n,{code:E.invalid_type,expected:U.never,received:n.parsedType}),tt}}He.create=i=>new He({typeName:J.ZodNever,...nt(i)});class zs extends ot{_parse(e){if(this._getType(e)!==U.undefined){const r=this._getOrReturnCtx(e);return Z(r,{code:E.invalid_type,expected:U.void,received:r.parsedType}),tt}return te(e.data)}}zs.create=i=>new zs({typeName:J.ZodVoid,...nt(i)});class we extends ot{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),a=this._def;if(n.parsedType!==U.array)return Z(n,{code:E.invalid_type,expected:U.array,received:n.parsedType}),tt;if(a.exactLength!==null){const c=n.data.length>a.exactLength.value,d=n.data.length<a.exactLength.value;(c||d)&&(Z(n,{code:c?E.too_big:E.too_small,minimum:d?a.exactLength.value:void 0,maximum:c?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(a.minLength!==null&&n.data.length<a.minLength.value&&(Z(n,{code:E.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),a.maxLength!==null&&n.data.length>a.maxLength.value&&(Z(n,{code:E.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((c,d)=>a.type._parseAsync(new De(n,c,n.path,d)))).then(c=>Xt.mergeArray(r,c));const u=[...n.data].map((c,d)=>a.type._parseSync(new De(n,c,n.path,d)));return Xt.mergeArray(r,u)}get element(){return this._def.type}min(e,n){return new we({...this._def,minLength:{value:e,message:H.toString(n)}})}max(e,n){return new we({...this._def,maxLength:{value:e,message:H.toString(n)}})}length(e,n){return new we({...this._def,exactLength:{value:e,message:H.toString(n)}})}nonempty(e){return this.min(1,e)}}we.create=(i,e)=>new we({type:i,minLength:null,maxLength:null,exactLength:null,typeName:J.ZodArray,...nt(e)});function Ii(i){if(i instanceof Mt){const e={};for(const n in i.shape){const r=i.shape[n];e[n]=Oe.create(Ii(r))}return new Mt({...i._def,shape:()=>e})}else return i instanceof we?new we({...i._def,type:Ii(i.element)}):i instanceof Oe?Oe.create(Ii(i.unwrap())):i instanceof si?si.create(Ii(i.unwrap())):i instanceof Re?Re.create(i.items.map(e=>Ii(e))):i}class Mt extends ot{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ft.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==U.object){const m=this._getOrReturnCtx(e);return Z(m,{code:E.invalid_type,expected:U.object,received:m.parsedType}),tt}const{status:r,ctx:a}=this._processInputParams(e),{shape:u,keys:c}=this._getCached(),d=[];if(!(this._def.catchall instanceof He&&this._def.unknownKeys==="strip"))for(const m in a.data)c.includes(m)||d.push(m);const f=[];for(const m of c){const _=u[m],g=a.data[m];f.push({key:{status:"valid",value:m},value:_._parse(new De(a,g,a.path,m)),alwaysSet:m in a.data})}if(this._def.catchall instanceof He){const m=this._def.unknownKeys;if(m==="passthrough")for(const _ of d)f.push({key:{status:"valid",value:_},value:{status:"valid",value:a.data[_]}});else if(m==="strict")d.length>0&&(Z(a,{code:E.unrecognized_keys,keys:d}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const _ of d){const g=a.data[_];f.push({key:{status:"valid",value:_},value:m._parse(new De(a,g,a.path,_)),alwaysSet:_ in a.data})}}return a.common.async?Promise.resolve().then(async()=>{const m=[];for(const _ of f){const g=await _.key,x=await _.value;m.push({key:g,value:x,alwaysSet:_.alwaysSet})}return m}).then(m=>Xt.mergeObjectSync(r,m)):Xt.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return H.errToObj,new Mt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var a,u,c,d;const f=(c=(u=(a=this._def).errorMap)===null||u===void 0?void 0:u.call(a,n,r).message)!==null&&c!==void 0?c:r.defaultError;return n.code==="unrecognized_keys"?{message:(d=H.errToObj(e).message)!==null&&d!==void 0?d:f}:{message:f}}}:{}})}strip(){return new Mt({...this._def,unknownKeys:"strip"})}passthrough(){return new Mt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Mt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Mt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:J.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Mt({...this._def,catchall:e})}pick(e){const n={};return ft.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Mt({...this._def,shape:()=>n})}omit(e){const n={};return ft.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Mt({...this._def,shape:()=>n})}deepPartial(){return Ii(this)}partial(e){const n={};return ft.objectKeys(this.shape).forEach(r=>{const a=this.shape[r];e&&!e[r]?n[r]=a:n[r]=a.optional()}),new Mt({...this._def,shape:()=>n})}required(e){const n={};return ft.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let u=this.shape[r];for(;u instanceof Oe;)u=u._def.innerType;n[r]=u}}),new Mt({...this._def,shape:()=>n})}keyof(){return Dh(ft.objectKeys(this.shape))}}Mt.create=(i,e)=>new Mt({shape:()=>i,unknownKeys:"strip",catchall:He.create(),typeName:J.ZodObject,...nt(e)});Mt.strictCreate=(i,e)=>new Mt({shape:()=>i,unknownKeys:"strict",catchall:He.create(),typeName:J.ZodObject,...nt(e)});Mt.lazycreate=(i,e)=>new Mt({shape:i,unknownKeys:"strip",catchall:He.create(),typeName:J.ZodObject,...nt(e)});class Bn extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function a(u){for(const d of u)if(d.result.status==="valid")return d.result;for(const d of u)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const c=u.map(d=>new se(d.ctx.common.issues));return Z(n,{code:E.invalid_union,unionErrors:c}),tt}if(n.common.async)return Promise.all(r.map(async u=>{const c={...n,common:{...n.common,issues:[]},parent:null};return{result:await u._parseAsync({data:n.data,path:n.path,parent:c}),ctx:c}})).then(a);{let u;const c=[];for(const f of r){const m={...n,common:{...n.common,issues:[]},parent:null},_=f._parseSync({data:n.data,path:n.path,parent:m});if(_.status==="valid")return _;_.status==="dirty"&&!u&&(u={result:_,ctx:m}),m.common.issues.length&&c.push(m.common.issues)}if(u)return n.common.issues.push(...u.ctx.common.issues),u.result;const d=c.map(f=>new se(f));return Z(n,{code:E.invalid_union,unionErrors:d}),tt}}get options(){return this._def.options}}Bn.create=(i,e)=>new Bn({options:i,typeName:J.ZodUnion,...nt(e)});const ze=i=>i instanceof zn?ze(i.schema):i instanceof be?ze(i.innerType()):i instanceof Fn?[i.value]:i instanceof ni?i.options:i instanceof jn?ft.objectValues(i.enum):i instanceof Un?ze(i._def.innerType):i instanceof Vn?[void 0]:i instanceof In?[null]:i instanceof Oe?[void 0,...ze(i.unwrap())]:i instanceof si?[null,...ze(i.unwrap())]:i instanceof ta||i instanceof Hn?ze(i.unwrap()):i instanceof Wn?ze(i._def.innerType):[];class Xs extends ot{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.object)return Z(n,{code:E.invalid_type,expected:U.object,received:n.parsedType}),tt;const r=this.discriminator,a=n.data[r],u=this.optionsMap.get(a);return u?n.common.async?u._parseAsync({data:n.data,path:n.path,parent:n}):u._parseSync({data:n.data,path:n.path,parent:n}):(Z(n,{code:E.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const a=new Map;for(const u of n){const c=ze(u.shape[e]);if(!c.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const d of c){if(a.has(d))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(d)}`);a.set(d,u)}}return new Xs({typeName:J.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:a,...nt(r)})}}function po(i,e){const n=Ye(i),r=Ye(e);if(i===e)return{valid:!0,data:i};if(n===U.object&&r===U.object){const a=ft.objectKeys(e),u=ft.objectKeys(i).filter(d=>a.indexOf(d)!==-1),c={...i,...e};for(const d of u){const f=po(i[d],e[d]);if(!f.valid)return{valid:!1};c[d]=f.data}return{valid:!0,data:c}}else if(n===U.array&&r===U.array){if(i.length!==e.length)return{valid:!1};const a=[];for(let u=0;u<i.length;u++){const c=i[u],d=e[u],f=po(c,d);if(!f.valid)return{valid:!1};a.push(f.data)}return{valid:!0,data:a}}else return n===U.date&&r===U.date&&+i==+e?{valid:!0,data:i}:{valid:!1}}class Nn extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=(u,c)=>{if(fo(u)||fo(c))return tt;const d=po(u.value,c.value);return d.valid?((mo(u)||mo(c))&&n.dirty(),{status:n.value,value:d.data}):(Z(r,{code:E.invalid_intersection_types}),tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([u,c])=>a(u,c)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Nn.create=(i,e,n)=>new Nn({left:i,right:e,typeName:J.ZodIntersection,...nt(n)});class Re extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.array)return Z(r,{code:E.invalid_type,expected:U.array,received:r.parsedType}),tt;if(r.data.length<this._def.items.length)return Z(r,{code:E.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),tt;!this._def.rest&&r.data.length>this._def.items.length&&(Z(r,{code:E.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const u=[...r.data].map((c,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new De(r,c,r.path,d)):null}).filter(c=>!!c);return r.common.async?Promise.all(u).then(c=>Xt.mergeArray(n,c)):Xt.mergeArray(n,u)}get items(){return this._def.items}rest(e){return new Re({...this._def,rest:e})}}Re.create=(i,e)=>{if(!Array.isArray(i))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Re({items:i,typeName:J.ZodTuple,rest:null,...nt(e)})};class Zn extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.object)return Z(r,{code:E.invalid_type,expected:U.object,received:r.parsedType}),tt;const a=[],u=this._def.keyType,c=this._def.valueType;for(const d in r.data)a.push({key:u._parse(new De(r,d,r.path,d)),value:c._parse(new De(r,r.data[d],r.path,d)),alwaysSet:d in r.data});return r.common.async?Xt.mergeObjectAsync(n,a):Xt.mergeObjectSync(n,a)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof ot?new Zn({keyType:e,valueType:n,typeName:J.ZodRecord,...nt(r)}):new Zn({keyType:xe.create(),valueType:e,typeName:J.ZodRecord,...nt(n)})}}class Fs extends ot{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.map)return Z(r,{code:E.invalid_type,expected:U.map,received:r.parsedType}),tt;const a=this._def.keyType,u=this._def.valueType,c=[...r.data.entries()].map(([d,f],m)=>({key:a._parse(new De(r,d,r.path,[m,"key"])),value:u._parse(new De(r,f,r.path,[m,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const f of c){const m=await f.key,_=await f.value;if(m.status==="aborted"||_.status==="aborted")return tt;(m.status==="dirty"||_.status==="dirty")&&n.dirty(),d.set(m.value,_.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const f of c){const m=f.key,_=f.value;if(m.status==="aborted"||_.status==="aborted")return tt;(m.status==="dirty"||_.status==="dirty")&&n.dirty(),d.set(m.value,_.value)}return{status:n.value,value:d}}}}Fs.create=(i,e,n)=>new Fs({valueType:e,keyType:i,typeName:J.ZodMap,...nt(n)});class xi extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.set)return Z(r,{code:E.invalid_type,expected:U.set,received:r.parsedType}),tt;const a=this._def;a.minSize!==null&&r.data.size<a.minSize.value&&(Z(r,{code:E.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),n.dirty()),a.maxSize!==null&&r.data.size>a.maxSize.value&&(Z(r,{code:E.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),n.dirty());const u=this._def.valueType;function c(f){const m=new Set;for(const _ of f){if(_.status==="aborted")return tt;_.status==="dirty"&&n.dirty(),m.add(_.value)}return{status:n.value,value:m}}const d=[...r.data.values()].map((f,m)=>u._parse(new De(r,f,r.path,m)));return r.common.async?Promise.all(d).then(f=>c(f)):c(d)}min(e,n){return new xi({...this._def,minSize:{value:e,message:H.toString(n)}})}max(e,n){return new xi({...this._def,maxSize:{value:e,message:H.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}xi.create=(i,e)=>new xi({valueType:i,minSize:null,maxSize:null,typeName:J.ZodSet,...nt(e)});class Ui extends ot{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.function)return Z(n,{code:E.invalid_type,expected:U.function,received:n.parsedType}),tt;function r(d,f){return Bs({data:d,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Is(),Gi].filter(m=>!!m),issueData:{code:E.invalid_arguments,argumentsError:f}})}function a(d,f){return Bs({data:d,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Is(),Gi].filter(m=>!!m),issueData:{code:E.invalid_return_type,returnTypeError:f}})}const u={errorMap:n.common.contextualErrorMap},c=n.data;if(this._def.returns instanceof qi){const d=this;return te(async function(...f){const m=new se([]),_=await d._def.args.parseAsync(f,u).catch(P=>{throw m.addIssue(r(f,P)),m}),g=await Reflect.apply(c,this,_);return await d._def.returns._def.type.parseAsync(g,u).catch(P=>{throw m.addIssue(a(g,P)),m})})}else{const d=this;return te(function(...f){const m=d._def.args.safeParse(f,u);if(!m.success)throw new se([r(f,m.error)]);const _=Reflect.apply(c,this,m.data),g=d._def.returns.safeParse(_,u);if(!g.success)throw new se([a(_,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ui({...this._def,args:Re.create(e).rest(vi.create())})}returns(e){return new Ui({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ui({args:e||Re.create([]).rest(vi.create()),returns:n||vi.create(),typeName:J.ZodFunction,...nt(r)})}}class zn extends ot{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}zn.create=(i,e)=>new zn({getter:i,typeName:J.ZodLazy,...nt(e)});class Fn extends ot{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Z(n,{received:n.data,code:E.invalid_literal,expected:this._def.value}),tt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Fn.create=(i,e)=>new Fn({value:i,typeName:J.ZodLiteral,...nt(e)});function Dh(i,e){return new ni({values:i,typeName:J.ZodEnum,...nt(e)})}class ni extends ot{constructor(){super(...arguments),wn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Z(n,{expected:ft.joinValues(r),received:n.parsedType,code:E.invalid_type}),tt}if(Ns(this,wn)||Ah(this,wn,new Set(this._def.values)),!Ns(this,wn).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Z(n,{received:n.data,code:E.invalid_enum_value,options:r}),tt}return te(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ni.create(e,{...this._def,...n})}exclude(e,n=this._def){return ni.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}wn=new WeakMap;ni.create=Dh;class jn extends ot{constructor(){super(...arguments),bn.set(this,void 0)}_parse(e){const n=ft.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==U.string&&r.parsedType!==U.number){const a=ft.objectValues(n);return Z(r,{expected:ft.joinValues(a),received:r.parsedType,code:E.invalid_type}),tt}if(Ns(this,bn)||Ah(this,bn,new Set(ft.getValidEnumValues(this._def.values))),!Ns(this,bn).has(e.data)){const a=ft.objectValues(n);return Z(r,{received:r.data,code:E.invalid_enum_value,options:a}),tt}return te(e.data)}get enum(){return this._def.values}}bn=new WeakMap;jn.create=(i,e)=>new jn({values:i,typeName:J.ZodNativeEnum,...nt(e)});class qi extends ot{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.promise&&n.common.async===!1)return Z(n,{code:E.invalid_type,expected:U.promise,received:n.parsedType}),tt;const r=n.parsedType===U.promise?n.data:Promise.resolve(n.data);return te(r.then(a=>this._def.type.parseAsync(a,{path:n.path,errorMap:n.common.contextualErrorMap})))}}qi.create=(i,e)=>new qi({type:i,typeName:J.ZodPromise,...nt(e)});class be extends ot{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===J.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),a=this._def.effect||null,u={addIssue:c=>{Z(r,c),c.fatal?n.abort():n.dirty()},get path(){return r.path}};if(u.addIssue=u.addIssue.bind(u),a.type==="preprocess"){const c=a.transform(r.data,u);if(r.common.async)return Promise.resolve(c).then(async d=>{if(n.value==="aborted")return tt;const f=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return f.status==="aborted"?tt:f.status==="dirty"||n.value==="dirty"?ji(f.value):f});{if(n.value==="aborted")return tt;const d=this._def.schema._parseSync({data:c,path:r.path,parent:r});return d.status==="aborted"?tt:d.status==="dirty"||n.value==="dirty"?ji(d.value):d}}if(a.type==="refinement"){const c=d=>{const f=a.refinement(d,u);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?tt:(d.status==="dirty"&&n.dirty(),c(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?tt:(d.status==="dirty"&&n.dirty(),c(d.value).then(()=>({status:n.value,value:d.value}))))}if(a.type==="transform")if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!On(c))return c;const d=a.transform(c.value,u);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>On(c)?Promise.resolve(a.transform(c.value,u)).then(d=>({status:n.value,value:d})):c);ft.assertNever(a)}}be.create=(i,e,n)=>new be({schema:i,typeName:J.ZodEffects,effect:e,...nt(n)});be.createWithPreprocess=(i,e,n)=>new be({schema:e,effect:{type:"preprocess",transform:i},typeName:J.ZodEffects,...nt(n)});class Oe extends ot{_parse(e){return this._getType(e)===U.undefined?te(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Oe.create=(i,e)=>new Oe({innerType:i,typeName:J.ZodOptional,...nt(e)});class si extends ot{_parse(e){return this._getType(e)===U.null?te(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}si.create=(i,e)=>new si({innerType:i,typeName:J.ZodNullable,...nt(e)});class Un extends ot{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===U.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Un.create=(i,e)=>new Un({innerType:i,typeName:J.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nt(e)});class Wn extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Dn(a)?a.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new se(r.common.issues)},input:r.data})})):{status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new se(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Wn.create=(i,e)=>new Wn({innerType:i,typeName:J.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nt(e)});class js extends ot{_parse(e){if(this._getType(e)!==U.nan){const r=this._getOrReturnCtx(e);return Z(r,{code:E.invalid_type,expected:U.nan,received:r.parsedType}),tt}return{status:"valid",value:e.data}}}js.create=i=>new js({typeName:J.ZodNaN,...nt(i)});const Rv=Symbol("zod_brand");class ta extends ot{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Xn extends ot{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return u.status==="aborted"?tt:u.status==="dirty"?(n.dirty(),ji(u.value)):this._def.out._parseAsync({data:u.value,path:r.path,parent:r})})();{const a=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?tt:a.status==="dirty"?(n.dirty(),{status:"dirty",value:a.value}):this._def.out._parseSync({data:a.value,path:r.path,parent:r})}}static create(e,n){return new Xn({in:e,out:n,typeName:J.ZodPipeline})}}class Hn extends ot{_parse(e){const n=this._def.innerType._parse(e),r=a=>(On(a)&&(a.value=Object.freeze(a.value)),a);return Dn(n)?n.then(a=>r(a)):r(n)}unwrap(){return this._def.innerType}}Hn.create=(i,e)=>new Hn({innerType:i,typeName:J.ZodReadonly,...nt(e)});function Rh(i,e={},n){return i?Ki.create().superRefine((r,a)=>{var u,c;if(!i(r)){const d=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,f=(c=(u=d.fatal)!==null&&u!==void 0?u:n)!==null&&c!==void 0?c:!0,m=typeof d=="string"?{message:d}:d;a.addIssue({code:"custom",...m,fatal:f})}}):Ki.create()}const Vv={object:Mt.lazycreate};var J;(function(i){i.ZodString="ZodString",i.ZodNumber="ZodNumber",i.ZodNaN="ZodNaN",i.ZodBigInt="ZodBigInt",i.ZodBoolean="ZodBoolean",i.ZodDate="ZodDate",i.ZodSymbol="ZodSymbol",i.ZodUndefined="ZodUndefined",i.ZodNull="ZodNull",i.ZodAny="ZodAny",i.ZodUnknown="ZodUnknown",i.ZodNever="ZodNever",i.ZodVoid="ZodVoid",i.ZodArray="ZodArray",i.ZodObject="ZodObject",i.ZodUnion="ZodUnion",i.ZodDiscriminatedUnion="ZodDiscriminatedUnion",i.ZodIntersection="ZodIntersection",i.ZodTuple="ZodTuple",i.ZodRecord="ZodRecord",i.ZodMap="ZodMap",i.ZodSet="ZodSet",i.ZodFunction="ZodFunction",i.ZodLazy="ZodLazy",i.ZodLiteral="ZodLiteral",i.ZodEnum="ZodEnum",i.ZodEffects="ZodEffects",i.ZodNativeEnum="ZodNativeEnum",i.ZodOptional="ZodOptional",i.ZodNullable="ZodNullable",i.ZodDefault="ZodDefault",i.ZodCatch="ZodCatch",i.ZodPromise="ZodPromise",i.ZodBranded="ZodBranded",i.ZodPipeline="ZodPipeline",i.ZodReadonly="ZodReadonly"})(J||(J={}));const Iv=(i,e={message:`Input not instance of ${i.name}`})=>Rh(n=>n instanceof i,e),Vh=xe.create,Ih=ei.create,Bv=js.create,Nv=ii.create,Bh=Rn.create,Zv=yi.create,zv=Zs.create,Fv=Vn.create,jv=In.create,Uv=Ki.create,Wv=vi.create,Hv=He.create,$v=zs.create,Gv=we.create,Kv=Mt.create,qv=Mt.strictCreate,Yv=Bn.create,Xv=Xs.create,Jv=Nn.create,Qv=Re.create,ty=Zn.create,ey=Fs.create,iy=xi.create,ny=Ui.create,sy=zn.create,ry=Fn.create,oy=ni.create,ay=jn.create,uy=qi.create,Pl=be.create,ly=Oe.create,cy=si.create,hy=be.createWithPreprocess,dy=Xn.create,fy=()=>Vh().optional(),my=()=>Ih().optional(),py=()=>Bh().optional(),_y={string:i=>xe.create({...i,coerce:!0}),number:i=>ei.create({...i,coerce:!0}),boolean:i=>Rn.create({...i,coerce:!0}),bigint:i=>ii.create({...i,coerce:!0}),date:i=>yi.create({...i,coerce:!0})},gy=tt;var Qy=Object.freeze({__proto__:null,defaultErrorMap:Gi,setErrorMap:gv,getErrorMap:Is,makeIssue:Bs,EMPTY_PATH:vv,addIssueToContext:Z,ParseStatus:Xt,INVALID:tt,DIRTY:ji,OK:te,isAborted:fo,isDirty:mo,isValid:On,isAsync:Dn,get util(){return ft},get objectUtil(){return ho},ZodParsedType:U,getParsedType:Ye,ZodType:ot,datetimeRegex:Oh,ZodString:xe,ZodNumber:ei,ZodBigInt:ii,ZodBoolean:Rn,ZodDate:yi,ZodSymbol:Zs,ZodUndefined:Vn,ZodNull:In,ZodAny:Ki,ZodUnknown:vi,ZodNever:He,ZodVoid:zs,ZodArray:we,ZodObject:Mt,ZodUnion:Bn,ZodDiscriminatedUnion:Xs,ZodIntersection:Nn,ZodTuple:Re,ZodRecord:Zn,ZodMap:Fs,ZodSet:xi,ZodFunction:Ui,ZodLazy:zn,ZodLiteral:Fn,ZodEnum:ni,ZodNativeEnum:jn,ZodPromise:qi,ZodEffects:be,ZodTransformer:be,ZodOptional:Oe,ZodNullable:si,ZodDefault:Un,ZodCatch:Wn,ZodNaN:js,BRAND:Rv,ZodBranded:ta,ZodPipeline:Xn,ZodReadonly:Hn,custom:Rh,Schema:ot,ZodSchema:ot,late:Vv,get ZodFirstPartyTypeKind(){return J},coerce:_y,any:Uv,array:Gv,bigint:Nv,boolean:Bh,date:Zv,discriminatedUnion:Xv,effect:Pl,enum:oy,function:ny,instanceof:Iv,intersection:Jv,lazy:sy,literal:ry,map:ey,nan:Bv,nativeEnum:ay,never:Hv,null:jv,nullable:cy,number:Ih,object:Kv,oboolean:py,onumber:my,optional:ly,ostring:fy,pipeline:dy,preprocess:hy,promise:uy,record:ty,set:iy,strictObject:qv,string:Vh,symbol:zv,transformer:Pl,tuple:Qv,undefined:Fv,union:Yv,unknown:Wv,void:$v,NEVER:gy,ZodIssueCode:E,quotelessJson:_v,ZodError:se});const Sl=(i,e,n)=>{if(i&&"reportValidity"in i){const r=I(n,e);i.setCustomValidity(r&&r.message||""),i.reportValidity()}},Nh=(i,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Sl(r.ref,n,i):r.refs&&r.refs.forEach(a=>Sl(a,n,i))}},vy=(i,e)=>{e.shouldUseNativeValidation&&Nh(i,e);const n={};for(const r in i){const a=I(e.fields,r),u=Object.assign(i[r]||{},{ref:a&&a.ref});if(yy(e.names||Object.keys(i),r)){const c=Object.assign({},I(n,r));vt(c,"root",u),vt(n,r,c)}else vt(n,r,u)}return n},yy=(i,e)=>i.some(n=>n.startsWith(e+"."));var xy=function(i,e){for(var n={};i.length;){var r=i[0],a=r.code,u=r.message,c=r.path.join(".");if(!n[c])if("unionErrors"in r){var d=r.unionErrors[0].errors[0];n[c]={message:d.message,type:d.code}}else n[c]={message:u,type:a};if("unionErrors"in r&&r.unionErrors.forEach(function(_){return _.errors.forEach(function(g){return i.push(g)})}),e){var f=n[c].types,m=f&&f[r.code];n[c]=_h(c,e,n,a,m?[].concat(m,r.message):r.message)}i.shift()}return n},tx=function(i,e,n){return n===void 0&&(n={}),function(r,a,u){try{return Promise.resolve(function(c,d){try{var f=Promise.resolve(i[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(m){return u.shouldUseNativeValidation&&Nh({},u),{errors:{},values:n.raw?r:m}})}catch(m){return d(m)}return f&&f.then?f.then(void 0,d):f}(0,function(c){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(c))return{values:{},errors:vy(xy(c.errors,!u.shouldUseNativeValidation&&u.criteriaMode==="all"),u)};throw c}))}catch(c){return Promise.reject(c)}}};const wy=R.forwardRef(({className:i,...e},n)=>St.jsx("textarea",{className:pe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",i),ref:n,...e}));wy.displayName="Textarea";var by="Toggle",Zh=R.forwardRef((i,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:a,...u}=i,[c=!1,d]=yf({prop:n,onChange:a,defaultProp:r});return St.jsx(Ol.button,{type:"button","aria-pressed":c,"data-state":c?"on":"off","data-disabled":i.disabled?"":void 0,...u,ref:e,onClick:xf(i.onClick,()=>{i.disabled||d(!c)})})});Zh.displayName=by;var zh=Zh;const Ty=El("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),Py=R.forwardRef(({className:i,variant:e,size:n,...r},a)=>St.jsx(zh,{ref:a,className:pe(Ty({variant:e,size:n,className:i})),...r}));Py.displayName=zh.displayName;function Fh(i,e){const n=R.useRef(e);R.useEffect(function(){e!==n.current&&i.attributionControl!=null&&(n.current!=null&&i.attributionControl.removeAttribution(n.current),e!=null&&i.attributionControl.addAttribution(e)),n.current=e},[i,e])}const Sy=1;function Ly(i){return Object.freeze({__version:Sy,map:i})}function Cy(i,e){return Object.freeze({...i,...e})}const jh=R.createContext(null),Uh=jh.Provider;function ea(){const i=R.useContext(jh);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function ky(i){function e(n,r){const{instance:a,context:u}=i(n).current;return R.useImperativeHandle(r,()=>a),n.children==null?null:_t.createElement(Uh,{value:u},n.children)}return R.forwardRef(e)}function Ay(i){function e(n,r){const[a,u]=R.useState(!1),{instance:c}=i(n,u).current;R.useImperativeHandle(r,()=>c),R.useEffect(function(){a&&c.update()},[c,a,n.children]);const d=c._contentNode;return d?hf.createPortal(n.children,d):null}return R.forwardRef(e)}function My(i){function e(n,r){const{instance:a}=i(n).current;return R.useImperativeHandle(r,()=>a),null}return R.forwardRef(e)}function Wh(i,e){const n=R.useRef();R.useEffect(function(){return e!=null&&i.instance.on(e),n.current=e,function(){n.current!=null&&i.instance.off(n.current),n.current=null}},[i,e])}function ia(i,e){const n=i.pane??e.pane;return n?{...i,pane:n}:i}function Ey(i,e){return function(r,a){const u=ea(),c=i(ia(r,u),u);return Fh(u.map,r.attribution),Wh(c.current,r.eventHandlers),e(c.current,u,r,a),c}}var _o={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,e){(function(n,r){r(e)})(df,function(n){var r="1.9.4";function a(t){var s,o,l,h;for(o=1,l=arguments.length;o<l;o++){h=arguments[o];for(s in h)t[s]=h[s]}return t}var u=Object.create||function(){function t(){}return function(s){return t.prototype=s,new t}}();function c(t,s){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var l=o.call(arguments,2);return function(){return t.apply(s,l.length?l.concat(o.call(arguments)):arguments)}}var d=0;function f(t){return"_leaflet_id"in t||(t._leaflet_id=++d),t._leaflet_id}function m(t,s,o){var l,h,p,v;return v=function(){l=!1,h&&(p.apply(o,h),h=!1)},p=function(){l?h=arguments:(t.apply(o,arguments),setTimeout(v,s),l=!0)},p}function _(t,s,o){var l=s[1],h=s[0],p=l-h;return t===l&&o?t:((t-h)%p+p)%p+h}function g(){return!1}function x(t,s){if(s===!1)return t;var o=Math.pow(10,s===void 0?6:s);return Math.round(t*o)/o}function P(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function A(t){return P(t).split(/\s+/)}function k(t,s){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?u(t.options):{});for(var o in s)t.options[o]=s[o];return t.options}function N(t,s,o){var l=[];for(var h in t)l.push(encodeURIComponent(o?h.toUpperCase():h)+"="+encodeURIComponent(t[h]));return(!s||s.indexOf("?")===-1?"?":"&")+l.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function M(t,s){return t.replace(O,function(o,l){var h=s[l];if(h===void 0)throw new Error("No value provided for variable "+o);return typeof h=="function"&&(h=h(s)),h})}var z=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function et(t,s){for(var o=0;o<t.length;o++)if(t[o]===s)return o;return-1}var j="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function lt(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Lt=0;function Q(t){var s=+new Date,o=Math.max(0,16-(s-Lt));return Lt=s+o,window.setTimeout(t,o)}var Ct=window.requestAnimationFrame||lt("RequestAnimationFrame")||Q,yt=window.cancelAnimationFrame||lt("CancelAnimationFrame")||lt("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function wt(t,s,o){if(o&&Ct===Q)t.call(s);else return Ct.call(window,c(t,s))}function q(t){t&&yt.call(window,t)}var ct={__proto__:null,extend:a,create:u,bind:c,get lastId(){return d},stamp:f,throttle:m,wrapNum:_,falseFn:g,formatNum:x,trim:P,splitWords:A,setOptions:k,getParamString:N,template:M,isArray:z,indexOf:et,emptyImageUrl:j,requestFn:Ct,cancelFn:yt,requestAnimFrame:wt,cancelAnimFrame:q};function mt(){}mt.extend=function(t){var s=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=s.__super__=this.prototype,l=u(o);l.constructor=s,s.prototype=l;for(var h in this)Object.prototype.hasOwnProperty.call(this,h)&&h!=="prototype"&&h!=="__super__"&&(s[h]=this[h]);return t.statics&&a(s,t.statics),t.includes&&(Ft(t.includes),a.apply(null,[l].concat(t.includes))),a(l,t),delete l.statics,delete l.includes,l.options&&(l.options=o.options?u(o.options):{},a(l.options,t.options)),l._initHooks=[],l.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var p=0,v=l._initHooks.length;p<v;p++)l._initHooks[p].call(this)}},s},mt.include=function(t){var s=this.prototype.options;return a(this.prototype,t),t.options&&(this.prototype.options=s,this.mergeOptions(t.options)),this},mt.mergeOptions=function(t){return a(this.prototype.options,t),this},mt.addInitHook=function(t){var s=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function Ft(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=z(t)?t:[t];for(var s=0;s<t.length;s++)t[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var bt={on:function(t,s,o){if(typeof t=="object")for(var l in t)this._on(l,t[l],s);else{t=A(t);for(var h=0,p=t.length;h<p;h++)this._on(t[h],s,o)}return this},off:function(t,s,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var l in t)this._off(l,t[l],s);else{t=A(t);for(var h=arguments.length===1,p=0,v=t.length;p<v;p++)h?this._off(t[p]):this._off(t[p],s,o)}return this},_on:function(t,s,o,l){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(t,s,o)===!1){o===this&&(o=void 0);var h={fn:s,ctx:o};l&&(h.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(h)}},_off:function(t,s,o){var l,h,p;if(this._events&&(l=this._events[t],!!l)){if(arguments.length===1){if(this._firingCount)for(h=0,p=l.length;h<p;h++)l[h].fn=g;delete this._events[t];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var v=this._listens(t,s,o);if(v!==!1){var w=l[v];this._firingCount&&(w.fn=g,this._events[t]=l=l.slice()),l.splice(v,1)}}},fire:function(t,s,o){if(!this.listens(t,o))return this;var l=a({},s,{type:t,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var h=this._events[t];if(h){this._firingCount=this._firingCount+1||1;for(var p=0,v=h.length;p<v;p++){var w=h[p],T=w.fn;w.once&&this.off(t,T,w.ctx),T.call(w.ctx||this,l)}this._firingCount--}}return o&&this._propagateEvent(l),this},listens:function(t,s,o,l){typeof t!="string"&&console.warn('"string" type argument expected');var h=s;typeof s!="function"&&(l=!!s,h=void 0,o=void 0);var p=this._events&&this._events[t];if(p&&p.length&&this._listens(t,h,o)!==!1)return!0;if(l){for(var v in this._eventParents)if(this._eventParents[v].listens(t,s,o,l))return!0}return!1},_listens:function(t,s,o){if(!this._events)return!1;var l=this._events[t]||[];if(!s)return!!l.length;o===this&&(o=void 0);for(var h=0,p=l.length;h<p;h++)if(l[h].fn===s&&l[h].ctx===o)return h;return!1},once:function(t,s,o){if(typeof t=="object")for(var l in t)this._on(l,t[l],s,!0);else{t=A(t);for(var h=0,p=t.length;h<p;h++)this._on(t[h],s,o,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[f(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[f(t)],this},_propagateEvent:function(t){for(var s in this._eventParents)this._eventParents[s].fire(t.type,a({layer:t.target,propagatedFrom:t.target},t),!0)}};bt.addEventListener=bt.on,bt.removeEventListener=bt.clearAllEventListeners=bt.off,bt.addOneTimeEventListener=bt.once,bt.fireEvent=bt.fire,bt.hasEventListeners=bt.listens;var ht=mt.extend(bt);function W(t,s,o){this.x=o?Math.round(t):t,this.y=o?Math.round(s):s}var oe=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(t){return this.clone()._add(G(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(G(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new W(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new W(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=oe(this.x),this.y=oe(this.y),this},distanceTo:function(t){t=G(t);var s=t.x-this.x,o=t.y-this.y;return Math.sqrt(s*s+o*o)},equals:function(t){return t=G(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=G(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function G(t,s,o){return t instanceof W?t:z(t)?new W(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new W(t.x,t.y):new W(t,s,o)}function Tt(t,s){if(t)for(var o=s?[t,s]:t,l=0,h=o.length;l<h;l++)this.extend(o[l])}Tt.prototype={extend:function(t){var s,o;if(!t)return this;if(t instanceof W||typeof t[0]=="number"||"x"in t)s=o=G(t);else if(t=Wt(t),s=t.min,o=t.max,!s||!o)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=o.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(t){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var s,o;return typeof t[0]=="number"||t instanceof W?t=G(t):t=Wt(t),t instanceof Tt?(s=t.min,o=t.max):s=o=t,s.x>=this.min.x&&o.x<=this.max.x&&s.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=Wt(t);var s=this.min,o=this.max,l=t.min,h=t.max,p=h.x>=s.x&&l.x<=o.x,v=h.y>=s.y&&l.y<=o.y;return p&&v},overlaps:function(t){t=Wt(t);var s=this.min,o=this.max,l=t.min,h=t.max,p=h.x>s.x&&l.x<o.x,v=h.y>s.y&&l.y<o.y;return p&&v},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var s=this.min,o=this.max,l=Math.abs(s.x-o.x)*t,h=Math.abs(s.y-o.y)*t;return Wt(G(s.x-l,s.y-h),G(o.x+l,o.y+h))},equals:function(t){return t?(t=Wt(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function Wt(t,s){return!t||t instanceof Tt?t:new Tt(t,s)}function Gt(t,s){if(t)for(var o=s?[t,s]:t,l=0,h=o.length;l<h;l++)this.extend(o[l])}Gt.prototype={extend:function(t){var s=this._southWest,o=this._northEast,l,h;if(t instanceof gt)l=t,h=t;else if(t instanceof Gt){if(l=t._southWest,h=t._northEast,!l||!h)return this}else return t?this.extend(at(t)||kt(t)):this;return!s&&!o?(this._southWest=new gt(l.lat,l.lng),this._northEast=new gt(h.lat,h.lng)):(s.lat=Math.min(l.lat,s.lat),s.lng=Math.min(l.lng,s.lng),o.lat=Math.max(h.lat,o.lat),o.lng=Math.max(h.lng,o.lng)),this},pad:function(t){var s=this._southWest,o=this._northEast,l=Math.abs(s.lat-o.lat)*t,h=Math.abs(s.lng-o.lng)*t;return new Gt(new gt(s.lat-l,s.lng-h),new gt(o.lat+l,o.lng+h))},getCenter:function(){return new gt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new gt(this.getNorth(),this.getWest())},getSouthEast:function(){return new gt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof gt||"lat"in t?t=at(t):t=kt(t);var s=this._southWest,o=this._northEast,l,h;return t instanceof Gt?(l=t.getSouthWest(),h=t.getNorthEast()):l=h=t,l.lat>=s.lat&&h.lat<=o.lat&&l.lng>=s.lng&&h.lng<=o.lng},intersects:function(t){t=kt(t);var s=this._southWest,o=this._northEast,l=t.getSouthWest(),h=t.getNorthEast(),p=h.lat>=s.lat&&l.lat<=o.lat,v=h.lng>=s.lng&&l.lng<=o.lng;return p&&v},overlaps:function(t){t=kt(t);var s=this._southWest,o=this._northEast,l=t.getSouthWest(),h=t.getNorthEast(),p=h.lat>s.lat&&l.lat<o.lat,v=h.lng>s.lng&&l.lng<o.lng;return p&&v},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,s){return t?(t=kt(t),this._southWest.equals(t.getSouthWest(),s)&&this._northEast.equals(t.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function kt(t,s){return t instanceof Gt?t:new Gt(t,s)}function gt(t,s,o){if(isNaN(t)||isNaN(s))throw new Error("Invalid LatLng object: ("+t+", "+s+")");this.lat=+t,this.lng=+s,o!==void 0&&(this.alt=+o)}gt.prototype={equals:function(t,s){if(!t)return!1;t=at(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(s===void 0?1e-9:s)},toString:function(t){return"LatLng("+x(this.lat,t)+", "+x(this.lng,t)+")"},distanceTo:function(t){return ue.distance(this,at(t))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(t){var s=180*t/40075017,o=s/Math.cos(Math.PI/180*this.lat);return kt([this.lat-s,this.lng-o],[this.lat+s,this.lng+o])},clone:function(){return new gt(this.lat,this.lng,this.alt)}};function at(t,s,o){return t instanceof gt?t:z(t)&&typeof t[0]!="object"?t.length===3?new gt(t[0],t[1],t[2]):t.length===2?new gt(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new gt(t.lat,"lng"in t?t.lng:t.lon,t.alt):s===void 0?null:new gt(t,s,o)}var ae={latLngToPoint:function(t,s){var o=this.projection.project(t),l=this.scale(s);return this.transformation._transform(o,l)},pointToLatLng:function(t,s){var o=this.scale(s),l=this.transformation.untransform(t,o);return this.projection.unproject(l)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var s=this.projection.bounds,o=this.scale(t),l=this.transformation.transform(s.min,o),h=this.transformation.transform(s.max,o);return new Tt(l,h)},infinite:!1,wrapLatLng:function(t){var s=this.wrapLng?_(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?_(t.lat,this.wrapLat,!0):t.lat,l=t.alt;return new gt(o,s,l)},wrapLatLngBounds:function(t){var s=t.getCenter(),o=this.wrapLatLng(s),l=s.lat-o.lat,h=s.lng-o.lng;if(l===0&&h===0)return t;var p=t.getSouthWest(),v=t.getNorthEast(),w=new gt(p.lat-l,p.lng-h),T=new gt(v.lat-l,v.lng-h);return new Gt(w,T)}},ue=a({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(t,s){var o=Math.PI/180,l=t.lat*o,h=s.lat*o,p=Math.sin((s.lat-t.lat)*o/2),v=Math.sin((s.lng-t.lng)*o/2),w=p*p+Math.cos(l)*Math.cos(h)*v*v,T=2*Math.atan2(Math.sqrt(w),Math.sqrt(1-w));return this.R*T}}),Xi=6378137,Ji={R:Xi,MAX_LATITUDE:85.0511287798,project:function(t){var s=Math.PI/180,o=this.MAX_LATITUDE,l=Math.max(Math.min(o,t.lat),-o),h=Math.sin(l*s);return new W(this.R*t.lng*s,this.R*Math.log((1+h)/(1-h))/2)},unproject:function(t){var s=180/Math.PI;return new gt((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*s,t.x*s/this.R)},bounds:function(){var t=Xi*Math.PI;return new Tt([-t,-t],[t,t])}()};function bi(t,s,o,l){if(z(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=s,this._c=o,this._d=l}bi.prototype={transform:function(t,s){return this._transform(t.clone(),s)},_transform:function(t,s){return s=s||1,t.x=s*(this._a*t.x+this._b),t.y=s*(this._c*t.y+this._d),t},untransform:function(t,s){return s=s||1,new W((t.x/s-this._b)/this._a,(t.y/s-this._d)/this._c)}};function oi(t,s,o,l){return new bi(t,s,o,l)}var Ti=a({},ue,{code:"EPSG:3857",projection:Ji,transformation:function(){var t=.5/(Math.PI*Ji.R);return oi(t,.5,-t,.5)}()}),Jn=a({},Ti,{code:"EPSG:900913"});function Qs(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function tr(t,s){var o="",l,h,p,v,w,T;for(l=0,p=t.length;l<p;l++){for(w=t[l],h=0,v=w.length;h<v;h++)T=w[h],o+=(h?"L":"M")+T.x+" "+T.y;o+=s?$.svg?"z":"x":""}return o||"M0 0"}var Qn=document.documentElement.style,y="ActiveXObject"in window,b=y&&!document.addEventListener,S="msLaunchUri"in navigator&&!("documentMode"in document),B=Pe("webkit"),V=Pe("android"),D=Pe("android 2")||Pe("android 3"),K=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=V&&Pe("Google")&&K<537&&!("AudioNode"in window),Ot=!!window.opera,Vt=!S&&Pe("chrome"),Te=Pe("gecko")&&!B&&!Ot&&!y,er=!Vt&&Pe("safari"),Pi=Pe("phantom"),Si="OTransition"in Qn,ir=navigator.platform.indexOf("Win")===0,Qi=y&&"transition"in Qn,tn="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!D,en="MozPerspective"in Qn,$h=!window.L_DISABLE_3D&&(Qi||tn||en)&&!Si&&!Pi,nn=typeof orientation<"u"||Pe("mobile"),Gh=nn&&B,Kh=nn&&tn,ra=!window.PointerEvent&&window.MSPointerEvent,oa=!!(window.PointerEvent||ra),aa="ontouchstart"in window||!!window.TouchEvent,qh=!window.L_NO_TOUCH&&(aa||oa),Yh=nn&&Ot,Xh=nn&&Te,Jh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qh=function(){var t=!1;try{var s=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",g,s),window.removeEventListener("testPassiveEventSupport",g,s)}catch{}return t}(),td=function(){return!!document.createElement("canvas").getContext}(),nr=!!(document.createElementNS&&Qs("svg").createSVGRect),ed=!!nr&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),id=!nr&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var s=t.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),nd=navigator.platform.indexOf("Mac")===0,sd=navigator.platform.indexOf("Linux")===0;function Pe(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var $={ie:y,ielt9:b,edge:S,webkit:B,android:V,android23:D,androidStock:st,opera:Ot,chrome:Vt,gecko:Te,safari:er,phantom:Pi,opera12:Si,win:ir,ie3d:Qi,webkit3d:tn,gecko3d:en,any3d:$h,mobile:nn,mobileWebkit:Gh,mobileWebkit3d:Kh,msPointer:ra,pointer:oa,touch:qh,touchNative:aa,mobileOpera:Yh,mobileGecko:Xh,retina:Jh,passiveEvents:Qh,canvas:td,svg:nr,vml:id,inlineSvg:ed,mac:nd,linux:sd},ua=$.msPointer?"MSPointerDown":"pointerdown",la=$.msPointer?"MSPointerMove":"pointermove",ca=$.msPointer?"MSPointerUp":"pointerup",ha=$.msPointer?"MSPointerCancel":"pointercancel",sr={touchstart:ua,touchmove:la,touchend:ca,touchcancel:ha},da={touchstart:cd,touchmove:ts,touchend:ts,touchcancel:ts},Li={},fa=!1;function rd(t,s,o){return s==="touchstart"&&ld(),da[s]?(o=da[s].bind(this,o),t.addEventListener(sr[s],o,!1),o):(console.warn("wrong event specified:",s),g)}function od(t,s,o){if(!sr[s]){console.warn("wrong event specified:",s);return}t.removeEventListener(sr[s],o,!1)}function ad(t){Li[t.pointerId]=t}function ud(t){Li[t.pointerId]&&(Li[t.pointerId]=t)}function ma(t){delete Li[t.pointerId]}function ld(){fa||(document.addEventListener(ua,ad,!0),document.addEventListener(la,ud,!0),document.addEventListener(ca,ma,!0),document.addEventListener(ha,ma,!0),fa=!0)}function ts(t,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var o in Li)s.touches.push(Li[o]);s.changedTouches=[s],t(s)}}function cd(t,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Ht(s),ts(t,s)}function hd(t){var s={},o,l;for(l in t)o=t[l],s[l]=o&&o.bind?o.bind(t):o;return t=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var dd=200;function fd(t,s){t.addEventListener("dblclick",s);var o=0,l;function h(p){if(p.detail!==1){l=p.detail;return}if(!(p.pointerType==="mouse"||p.sourceCapabilities&&!p.sourceCapabilities.firesTouchEvents)){var v=ya(p);if(!(v.some(function(T){return T instanceof HTMLLabelElement&&T.attributes.for})&&!v.some(function(T){return T instanceof HTMLInputElement||T instanceof HTMLSelectElement}))){var w=Date.now();w-o<=dd?(l++,l===2&&s(hd(p))):l=1,o=w}}}return t.addEventListener("click",h),{dblclick:s,simDblclick:h}}function md(t,s){t.removeEventListener("dblclick",s.dblclick),t.removeEventListener("click",s.simDblclick)}var rr=ns(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sn=ns(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pa=sn==="webkitTransition"||sn==="OTransition"?sn+"End":"transitionend";function _a(t){return typeof t=="string"?document.getElementById(t):t}function rn(t,s){var o=t.style[s]||t.currentStyle&&t.currentStyle[s];if((!o||o==="auto")&&document.defaultView){var l=document.defaultView.getComputedStyle(t,null);o=l?l[s]:null}return o==="auto"?null:o}function pt(t,s,o){var l=document.createElement(t);return l.className=s||"",o&&o.appendChild(l),l}function At(t){var s=t.parentNode;s&&s.removeChild(t)}function es(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ci(t){var s=t.parentNode;s&&s.lastChild!==t&&s.appendChild(t)}function ki(t){var s=t.parentNode;s&&s.firstChild!==t&&s.insertBefore(t,s.firstChild)}function or(t,s){if(t.classList!==void 0)return t.classList.contains(s);var o=is(t);return o.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(o)}function rt(t,s){if(t.classList!==void 0)for(var o=A(s),l=0,h=o.length;l<h;l++)t.classList.add(o[l]);else if(!or(t,s)){var p=is(t);ar(t,(p?p+" ":"")+s)}}function It(t,s){t.classList!==void 0?t.classList.remove(s):ar(t,P((" "+is(t)+" ").replace(" "+s+" "," ")))}function ar(t,s){t.className.baseVal===void 0?t.className=s:t.className.baseVal=s}function is(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function le(t,s){"opacity"in t.style?t.style.opacity=s:"filter"in t.style&&pd(t,s)}function pd(t,s){var o=!1,l="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(l)}catch{if(s===1)return}s=Math.round(s*100),o?(o.Enabled=s!==100,o.Opacity=s):t.style.filter+=" progid:"+l+"(opacity="+s+")"}function ns(t){for(var s=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in s)return t[o];return!1}function ai(t,s,o){var l=s||new W(0,0);t.style[rr]=($.ie3d?"translate("+l.x+"px,"+l.y+"px)":"translate3d("+l.x+"px,"+l.y+"px,0)")+(o?" scale("+o+")":"")}function Zt(t,s){t._leaflet_pos=s,$.any3d?ai(t,s):(t.style.left=s.x+"px",t.style.top=s.y+"px")}function ui(t){return t._leaflet_pos||new W(0,0)}var on,an,ur;if("onselectstart"in document)on=function(){it(window,"selectstart",Ht)},an=function(){Pt(window,"selectstart",Ht)};else{var un=ns(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);on=function(){if(un){var t=document.documentElement.style;ur=t[un],t[un]="none"}},an=function(){un&&(document.documentElement.style[un]=ur,ur=void 0)}}function lr(){it(window,"dragstart",Ht)}function cr(){Pt(window,"dragstart",Ht)}var ss,hr;function dr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(rs(),ss=t,hr=t.style.outlineStyle,t.style.outlineStyle="none",it(window,"keydown",rs))}function rs(){ss&&(ss.style.outlineStyle=hr,ss=void 0,hr=void 0,Pt(window,"keydown",rs))}function ga(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function fr(t){var s=t.getBoundingClientRect();return{x:s.width/t.offsetWidth||1,y:s.height/t.offsetHeight||1,boundingClientRect:s}}var _d={__proto__:null,TRANSFORM:rr,TRANSITION:sn,TRANSITION_END:pa,get:_a,getStyle:rn,create:pt,remove:At,empty:es,toFront:Ci,toBack:ki,hasClass:or,addClass:rt,removeClass:It,setClass:ar,getClass:is,setOpacity:le,testProp:ns,setTransform:ai,setPosition:Zt,getPosition:ui,get disableTextSelection(){return on},get enableTextSelection(){return an},disableImageDrag:lr,enableImageDrag:cr,preventOutline:dr,restoreOutline:rs,getSizedParentNode:ga,getScale:fr};function it(t,s,o,l){if(s&&typeof s=="object")for(var h in s)pr(t,h,s[h],o);else{s=A(s);for(var p=0,v=s.length;p<v;p++)pr(t,s[p],o,l)}return this}var Se="_leaflet_events";function Pt(t,s,o,l){if(arguments.length===1)va(t),delete t[Se];else if(s&&typeof s=="object")for(var h in s)_r(t,h,s[h],o);else if(s=A(s),arguments.length===2)va(t,function(w){return et(s,w)!==-1});else for(var p=0,v=s.length;p<v;p++)_r(t,s[p],o,l);return this}function va(t,s){for(var o in t[Se]){var l=o.split(/\d/)[0];(!s||s(l))&&_r(t,l,null,null,o)}}var mr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function pr(t,s,o,l){var h=s+f(o)+(l?"_"+f(l):"");if(t[Se]&&t[Se][h])return this;var p=function(w){return o.call(l||t,w||window.event)},v=p;!$.touchNative&&$.pointer&&s.indexOf("touch")===0?p=rd(t,s,p):$.touch&&s==="dblclick"?p=fd(t,p):"addEventListener"in t?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?t.addEventListener(mr[s]||s,p,$.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(p=function(w){w=w||window.event,vr(t,w)&&v(w)},t.addEventListener(mr[s],p,!1)):t.addEventListener(s,v,!1):t.attachEvent("on"+s,p),t[Se]=t[Se]||{},t[Se][h]=p}function _r(t,s,o,l,h){h=h||s+f(o)+(l?"_"+f(l):"");var p=t[Se]&&t[Se][h];if(!p)return this;!$.touchNative&&$.pointer&&s.indexOf("touch")===0?od(t,s,p):$.touch&&s==="dblclick"?md(t,p):"removeEventListener"in t?t.removeEventListener(mr[s]||s,p,!1):t.detachEvent("on"+s,p),t[Se][h]=null}function li(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function gr(t){return pr(t,"wheel",li),this}function ln(t){return it(t,"mousedown touchstart dblclick contextmenu",li),t._leaflet_disable_click=!0,this}function Ht(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ci(t){return Ht(t),li(t),this}function ya(t){if(t.composedPath)return t.composedPath();for(var s=[],o=t.target;o;)s.push(o),o=o.parentNode;return s}function xa(t,s){if(!s)return new W(t.clientX,t.clientY);var o=fr(s),l=o.boundingClientRect;return new W((t.clientX-l.left)/o.x-s.clientLeft,(t.clientY-l.top)/o.y-s.clientTop)}var gd=$.linux&&$.chrome?window.devicePixelRatio:$.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wa(t){return $.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/gd:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function vr(t,s){var o=s.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var vd={__proto__:null,on:it,off:Pt,stopPropagation:li,disableScrollPropagation:gr,disableClickPropagation:ln,preventDefault:Ht,stop:ci,getPropagationPath:ya,getMousePosition:xa,getWheelDelta:wa,isExternalTarget:vr,addListener:it,removeListener:Pt},ba=ht.extend({run:function(t,s,o,l){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(l||.5,.2),this._startPos=ui(t),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=wt(this._animate,this),this._step()},_step:function(t){var s=+new Date-this._startTime,o=this._duration*1e3;s<o?this._runFrame(this._easeOut(s/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,s){var o=this._startPos.add(this._offset.multiplyBy(t));s&&o._round(),Zt(this._el,o),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),dt=ht.extend({options:{crs:Ti,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,s){s=k(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(at(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=sn&&$.any3d&&!$.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),it(this._proxy,pa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,s,o){if(s=s===void 0?this._zoom:this._limitZoom(s),t=this._limitCenter(at(t),s,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=a({animate:o.animate},o.zoom),o.pan=a({animate:o.animate,duration:o.duration},o.pan));var l=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,s,o.zoom):this._tryAnimatedPan(t,o.pan);if(l)return clearTimeout(this._sizeTimer),this}return this._resetView(t,s,o.pan&&o.pan.noMoveStart),this},setZoom:function(t,s){return this._loaded?this.setView(this.getCenter(),t,{zoom:s}):(this._zoom=t,this)},zoomIn:function(t,s){return t=t||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,s)},zoomOut:function(t,s){return t=t||($.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,s)},setZoomAround:function(t,s,o){var l=this.getZoomScale(s),h=this.getSize().divideBy(2),p=t instanceof W?t:this.latLngToContainerPoint(t),v=p.subtract(h).multiplyBy(1-1/l),w=this.containerPointToLatLng(h.add(v));return this.setView(w,s,{zoom:o})},_getBoundsCenterZoom:function(t,s){s=s||{},t=t.getBounds?t.getBounds():kt(t);var o=G(s.paddingTopLeft||s.padding||[0,0]),l=G(s.paddingBottomRight||s.padding||[0,0]),h=this.getBoundsZoom(t,!1,o.add(l));if(h=typeof s.maxZoom=="number"?Math.min(s.maxZoom,h):h,h===1/0)return{center:t.getCenter(),zoom:h};var p=l.subtract(o).divideBy(2),v=this.project(t.getSouthWest(),h),w=this.project(t.getNorthEast(),h),T=this.unproject(v.add(w).divideBy(2).add(p),h);return{center:T,zoom:h}},fitBounds:function(t,s){if(t=kt(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,s);return this.setView(o.center,o.zoom,s)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,s){return this.setView(t,this._zoom,{pan:s})},panBy:function(t,s){if(t=G(t).round(),s=s||{},!t.x&&!t.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ba,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){rt(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,s.duration||.25,s.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,s,o){if(o=o||{},o.animate===!1||!$.any3d)return this.setView(t,s,o);this._stop();var l=this.project(this.getCenter()),h=this.project(t),p=this.getSize(),v=this._zoom;t=at(t),s=s===void 0?v:s;var w=Math.max(p.x,p.y),T=w*this.getZoomScale(v,s),C=h.distanceTo(l)||1,F=1.42,X=F*F;function ut(zt){var gs=zt?-1:1,af=zt?T:w,uf=T*T-w*w+gs*X*X*C*C,lf=2*af*X*C,Ar=uf/lf,iu=Math.sqrt(Ar*Ar+1)-Ar,cf=iu<1e-9?-18:Math.log(iu);return cf}function Jt(zt){return(Math.exp(zt)-Math.exp(-zt))/2}function Ut(zt){return(Math.exp(zt)+Math.exp(-zt))/2}function he(zt){return Jt(zt)/Ut(zt)}var ee=ut(0);function Ri(zt){return w*(Ut(ee)/Ut(ee+F*zt))}function nf(zt){return w*(Ut(ee)*he(ee+F*zt)-Jt(ee))/X}function sf(zt){return 1-Math.pow(1-zt,1.5)}var rf=Date.now(),tu=(ut(1)-ee)/F,of=o.duration?1e3*o.duration:1e3*tu*.8;function eu(){var zt=(Date.now()-rf)/of,gs=sf(zt)*tu;zt<=1?(this._flyToFrame=wt(eu,this),this._move(this.unproject(l.add(h.subtract(l).multiplyBy(nf(gs)/C)),v),this.getScaleZoom(w/Ri(gs),v),{flyTo:!0})):this._move(t,s)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),eu.call(this),this},flyToBounds:function(t,s){var o=this._getBoundsCenterZoom(t,s);return this.flyTo(o.center,o.zoom,s)},setMaxBounds:function(t){return t=kt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var s=this.options.minZoom;return this.options.minZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var s=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,s){this._enforcingBounds=!0;var o=this.getCenter(),l=this._limitCenter(o,this._zoom,kt(t));return o.equals(l)||this.panTo(l,s),this._enforcingBounds=!1,this},panInside:function(t,s){s=s||{};var o=G(s.paddingTopLeft||s.padding||[0,0]),l=G(s.paddingBottomRight||s.padding||[0,0]),h=this.project(this.getCenter()),p=this.project(t),v=this.getPixelBounds(),w=Wt([v.min.add(o),v.max.subtract(l)]),T=w.getSize();if(!w.contains(p)){this._enforcingBounds=!0;var C=p.subtract(w.getCenter()),F=w.extend(p).getSize().subtract(T);h.x+=C.x<0?-F.x:F.x,h.y+=C.y<0?-F.y:F.y,this.panTo(this.unproject(h),s),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=a({animate:!1,pan:!0},t===!0?{animate:!0}:t);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),l=s.divideBy(2).round(),h=o.divideBy(2).round(),p=l.subtract(h);return!p.x&&!p.y?this:(t.animate&&t.pan?this.panBy(p):(t.pan&&this._rawPanBy(p),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=a({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=c(this._handleGeolocationResponse,this),o=c(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,o,t):navigator.geolocation.getCurrentPosition(s,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var s=t.code,o=t.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=t.coords.latitude,o=t.coords.longitude,l=new gt(s,o),h=l.toBounds(t.coords.accuracy*2),p=this._locateOptions;if(p.setView){var v=this.getBoundsZoom(h);this.setView(l,p.maxZoom?Math.min(v,p.maxZoom):v)}var w={latlng:l,bounds:h,timestamp:t.timestamp};for(var T in t.coords)typeof t.coords[T]=="number"&&(w[T]=t.coords[T]);this.fire("locationfound",w)}},addHandler:function(t,s){if(!s)return this;var o=this[t]=new s(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),At(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)At(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,s){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),l=pt("div",o,s||this._mapPane);return t&&(this._panes[t]=l),l},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),s=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new Gt(s,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,s,o){t=kt(t),o=G(o||[0,0]);var l=this.getZoom()||0,h=this.getMinZoom(),p=this.getMaxZoom(),v=t.getNorthWest(),w=t.getSouthEast(),T=this.getSize().subtract(o),C=Wt(this.project(w,l),this.project(v,l)).getSize(),F=$.any3d?this.options.zoomSnap:1,X=T.x/C.x,ut=T.y/C.y,Jt=s?Math.max(X,ut):Math.min(X,ut);return l=this.getScaleZoom(Jt,l),F&&(l=Math.round(l/(F/100))*(F/100),l=s?Math.ceil(l/F)*F:Math.floor(l/F)*F),Math.max(h,Math.min(p,l))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,s){var o=this._getTopLeftPoint(t,s);return new Tt(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,s){var o=this.options.crs;return s=s===void 0?this._zoom:s,o.scale(t)/o.scale(s)},getScaleZoom:function(t,s){var o=this.options.crs;s=s===void 0?this._zoom:s;var l=o.zoom(t*o.scale(s));return isNaN(l)?1/0:l},project:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(at(t),s)},unproject:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(G(t),s)},layerPointToLatLng:function(t){var s=G(t).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(t){var s=this.project(at(t))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(at(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(kt(t))},distance:function(t,s){return this.options.crs.distance(at(t),at(s))},containerPointToLayerPoint:function(t){return G(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return G(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var s=this.containerPointToLayerPoint(G(t));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(at(t)))},mouseEventToContainerPoint:function(t){return xa(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var s=this._container=_a(t);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");it(s,"scroll",this._onScroll,this),this._containerId=f(s)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&$.any3d,rt(t,"leaflet-container"+($.touch?" leaflet-touch":"")+($.retina?" leaflet-retina":"")+($.ielt9?" leaflet-oldie":"")+($.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=rn(t,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Zt(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(rt(t.markerPane,"leaflet-zoom-hide"),rt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,s,o){Zt(this._mapPane,new W(0,0));var l=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var h=this._zoom!==s;this._moveStart(h,o)._move(t,s)._moveEnd(h),this.fire("viewreset"),l&&this.fire("load")},_moveStart:function(t,s){return t&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(t,s,o,l){s===void 0&&(s=this._zoom);var h=this._zoom!==s;return this._zoom=s,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),l?o&&o.pinch&&this.fire("zoom",o):((h||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){Zt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[f(this._container)]=this;var s=t?Pt:it;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),$.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=wt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,s){for(var o=[],l,h=s==="mouseout"||s==="mouseover",p=t.target||t.srcElement,v=!1;p;){if(l=this._targets[f(p)],l&&(s==="click"||s==="preclick")&&this._draggableMoved(l)){v=!0;break}if(l&&l.listens(s,!0)&&(h&&!vr(p,t)||(o.push(l),h))||p===this._container)break;p=p.parentNode}return!o.length&&!v&&!h&&this.listens(s,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var s=t.target||t.srcElement;if(!(!this._loaded||s._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(s))){var o=t.type;o==="mousedown"&&dr(s),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,s,o){if(t.type==="click"){var l=a({},t);l.type="preclick",this._fireDOMEvent(l,l.type,o)}var h=this._findEventTargets(t,s);if(o){for(var p=[],v=0;v<o.length;v++)o[v].listens(s,!0)&&p.push(o[v]);h=p.concat(h)}if(h.length){s==="contextmenu"&&Ht(t);var w=h[0],T={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var C=w.getLatLng&&(!w._radius||w._radius<=10);T.containerPoint=C?this.latLngToContainerPoint(w.getLatLng()):this.mouseEventToContainerPoint(t),T.layerPoint=this.containerPointToLayerPoint(T.containerPoint),T.latlng=C?w.getLatLng():this.layerPointToLatLng(T.layerPoint)}for(v=0;v<h.length;v++)if(h[v].fire(s,T,!0),T.originalEvent._stopped||h[v].options.bubblingMouseEvents===!1&&et(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,s=this._handlers.length;t<s;t++)this._handlers[t].disable()},whenReady:function(t,s){return this._loaded?t.call(s||this,{target:this}):this.on("load",t,s),this},_getMapPanePos:function(){return ui(this._mapPane)||new W(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,s){var o=t&&s!==void 0?this._getNewPixelOrigin(t,s):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,s){var o=this.getSize()._divideBy(2);return this.project(t,s)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,s,o){var l=this._getNewPixelOrigin(o,s);return this.project(t,s)._subtract(l)},_latLngBoundsToNewLayerBounds:function(t,s,o){var l=this._getNewPixelOrigin(o,s);return Wt([this.project(t.getSouthWest(),s)._subtract(l),this.project(t.getNorthWest(),s)._subtract(l),this.project(t.getSouthEast(),s)._subtract(l),this.project(t.getNorthEast(),s)._subtract(l)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,s,o){if(!o)return t;var l=this.project(t,s),h=this.getSize().divideBy(2),p=new Tt(l.subtract(h),l.add(h)),v=this._getBoundsOffset(p,o,s);return Math.abs(v.x)<=1&&Math.abs(v.y)<=1?t:this.unproject(l.add(v),s)},_limitOffset:function(t,s){if(!s)return t;var o=this.getPixelBounds(),l=new Tt(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(l,s))},_getBoundsOffset:function(t,s,o){var l=Wt(this.project(s.getNorthEast(),o),this.project(s.getSouthWest(),o)),h=l.min.subtract(t.min),p=l.max.subtract(t.max),v=this._rebound(h.x,-p.x),w=this._rebound(h.y,-p.y);return new W(v,w)},_rebound:function(t,s){return t+s>0?Math.round(t-s)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(s))},_limitZoom:function(t){var s=this.getMinZoom(),o=this.getMaxZoom(),l=$.any3d?this.options.zoomSnap:1;return l&&(t=Math.round(t/l)*l),Math.max(s,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){It(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,s){var o=this._getCenterOffset(t)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,s),!0)},_createAnimProxy:function(){var t=this._proxy=pt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(s){var o=rr,l=this._proxy.style[o];ai(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),l===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){At(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),s=this.getZoom();ai(this._proxy,this.project(t,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,s,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var l=this.getZoomScale(s),h=this._getCenterOffset(t)._divideBy(1-1/l);return o.animate!==!0&&!this.getSize().contains(h)?!1:(wt(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(t,s,!0)},this),!0)},_animateZoom:function(t,s,o,l){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=s,rt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:s,noUpdate:l}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&It(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function yd(t,s){return new dt(t,s)}var _e=mt.extend({options:{position:"topright"},initialize:function(t){k(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var s=this._map;return s&&s.removeControl(this),this.options.position=t,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var s=this._container=this.onAdd(t),o=this.getPosition(),l=t._controlCorners[o];return rt(s,"leaflet-control"),o.indexOf("bottom")!==-1?l.insertBefore(s,l.firstChild):l.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(At(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),cn=function(t){return new _e(t)};dt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},s="leaflet-",o=this._controlContainer=pt("div",s+"control-container",this._container);function l(h,p){var v=s+h+" "+s+p;t[h+p]=pt("div",v,o)}l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)At(this._controlCorners[t]);At(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ta=_e.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,s,o,l){return o<l?-1:l<o?1:0}},initialize:function(t,s,o){k(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var l in t)this._addLayer(t[l],l);for(l in s)this._addLayer(s[l],l,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return _e.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,s){return this._addLayer(t,s),this._map?this._update():this},addOverlay:function(t,s){return this._addLayer(t,s,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var s=this._getLayer(f(t));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){rt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(rt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):It(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return It(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",s=this._container=pt("div",t),o=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ln(s),gr(s);var l=this._section=pt("section",t+"-list");o&&(this._map.on("click",this.collapse,this),it(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var h=this._layersLink=pt("a",t+"-toggle",s);h.href="#",h.title="Layers",h.setAttribute("role","button"),it(h,{keydown:function(p){p.keyCode===13&&this._expandSafely()},click:function(p){Ht(p),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=pt("div",t+"-base",l),this._separator=pt("div",t+"-separator",l),this._overlaysList=pt("div",t+"-overlays",l),s.appendChild(l)},_getLayer:function(t){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&f(this._layers[s].layer)===t)return this._layers[s]},_addLayer:function(t,s,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:s,overlay:o}),this.options.sortLayers&&this._layers.sort(c(function(l,h){return this.options.sortFunction(l.layer,h.layer,l.name,h.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;es(this._baseLayersList),es(this._overlaysList),this._layerControlInputs=[];var t,s,o,l,h=0;for(o=0;o<this._layers.length;o++)l=this._layers[o],this._addItem(l),s=s||l.overlay,t=t||!l.overlay,h+=l.overlay?0:1;return this.options.hideSingleBase&&(t=t&&h>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=s&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var s=this._getLayer(f(t.target)),o=s.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,s)},_createRadioElement:function(t,s){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(s?' checked="checked"':"")+"/>",l=document.createElement("div");return l.innerHTML=o,l.firstChild},_addItem:function(t){var s=document.createElement("label"),o=this._map.hasLayer(t.layer),l;t.overlay?(l=document.createElement("input"),l.type="checkbox",l.className="leaflet-control-layers-selector",l.defaultChecked=o):l=this._createRadioElement("leaflet-base-layers_"+f(this),o),this._layerControlInputs.push(l),l.layerId=f(t.layer),it(l,"click",this._onInputClick,this);var h=document.createElement("span");h.innerHTML=" "+t.name;var p=document.createElement("span");s.appendChild(p),p.appendChild(l),p.appendChild(h);var v=t.overlay?this._overlaysList:this._baseLayersList;return v.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,s,o,l=[],h=[];this._handlingClick=!0;for(var p=t.length-1;p>=0;p--)s=t[p],o=this._getLayer(s.layerId).layer,s.checked?l.push(o):s.checked||h.push(o);for(p=0;p<h.length;p++)this._map.hasLayer(h[p])&&this._map.removeLayer(h[p]);for(p=0;p<l.length;p++)this._map.hasLayer(l[p])||this._map.addLayer(l[p]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,s,o,l=this._map.getZoom(),h=t.length-1;h>=0;h--)s=t[h],o=this._getLayer(s.layerId).layer,s.disabled=o.options.minZoom!==void 0&&l<o.options.minZoom||o.options.maxZoom!==void 0&&l>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,it(t,"click",Ht),this.expand();var s=this;setTimeout(function(){Pt(t,"click",Ht),s._preventClick=!1})}}),xd=function(t,s,o){return new Ta(t,s,o)},yr=_e.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var s="leaflet-control-zoom",o=pt("div",s+" leaflet-bar"),l=this.options;return this._zoomInButton=this._createButton(l.zoomInText,l.zoomInTitle,s+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(l.zoomOutText,l.zoomOutTitle,s+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,s,o,l,h){var p=pt("a",o,l);return p.innerHTML=t,p.href="#",p.title=s,p.setAttribute("role","button"),p.setAttribute("aria-label",s),ln(p),it(p,"click",ci),it(p,"click",h,this),it(p,"click",this._refocusOnMap,this),p},_updateDisabled:function(){var t=this._map,s="leaflet-disabled";It(this._zoomInButton,s),It(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(rt(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(rt(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});dt.mergeOptions({zoomControl:!0}),dt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yr,this.addControl(this.zoomControl))});var wd=function(t){return new yr(t)},Pa=_e.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var s="leaflet-control-scale",o=pt("div",s),l=this.options;return this._addScales(l,s+"-line",o),t.on(l.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,s,o){t.metric&&(this._mScale=pt("div",s,o)),t.imperial&&(this._iScale=pt("div",s,o))},_update:function(){var t=this._map,s=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,s]),t.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var s=this._getRoundNum(t),o=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,o,s/t)},_updateImperial:function(t){var s=t*3.2808399,o,l,h;s>5280?(o=s/5280,l=this._getRoundNum(o),this._updateScale(this._iScale,l+" mi",l/o)):(h=this._getRoundNum(s),this._updateScale(this._iScale,h+" ft",h/s))},_updateScale:function(t,s,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=s},_getRoundNum:function(t){var s=Math.pow(10,(Math.floor(t)+"").length-1),o=t/s;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,s*o}}),bd=function(t){return new Pa(t)},Td='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',xr=_e.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+($.inlineSvg?Td+" ":"")+"Leaflet</a>"},initialize:function(t){k(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=pt("div","leaflet-control-attribution"),ln(this._container);for(var s in t._layers)t._layers[s].getAttribution&&this.addAttribution(t._layers[s].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var s in this._attributions)this._attributions[s]&&t.push(s);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});dt.mergeOptions({attributionControl:!0}),dt.addInitHook(function(){this.options.attributionControl&&new xr().addTo(this)});var Pd=function(t){return new xr(t)};_e.Layers=Ta,_e.Zoom=yr,_e.Scale=Pa,_e.Attribution=xr,cn.layers=xd,cn.zoom=wd,cn.scale=bd,cn.attribution=Pd;var Le=mt.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Le.addTo=function(t,s){return t.addHandler(s,this),this};var Sd={Events:bt},Sa=$.touch?"touchstart mousedown":"mousedown",$e=ht.extend({options:{clickTolerance:3},initialize:function(t,s,o,l){k(this,l),this._element=t,this._dragStartTarget=s||t,this._preventOutline=o},enable:function(){this._enabled||(it(this._dragStartTarget,Sa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&($e._dragging===this&&this.finishDrag(!0),Pt(this._dragStartTarget,Sa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!or(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){$e._dragging===this&&this.finishDrag();return}if(!($e._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&($e._dragging=this,this._preventOutline&&dr(this._element),lr(),on(),!this._moving)){this.fire("down");var s=t.touches?t.touches[0]:t,o=ga(this._element);this._startPoint=new W(s.clientX,s.clientY),this._startPos=ui(this._element),this._parentScale=fr(o);var l=t.type==="mousedown";it(document,l?"mousemove":"touchmove",this._onMove,this),it(document,l?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var s=t.touches&&t.touches.length===1?t.touches[0]:t,o=new W(s.clientX,s.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,Ht(t),this._moved||(this.fire("dragstart"),this._moved=!0,rt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),rt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),Zt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){It(document.body,"leaflet-dragging"),this._lastTarget&&(It(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Pt(document,"mousemove touchmove",this._onMove,this),Pt(document,"mouseup touchend touchcancel",this._onUp,this),cr(),an();var s=this._moved&&this._moving;this._moving=!1,$e._dragging=!1,s&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function La(t,s,o){var l,h=[1,4,2,8],p,v,w,T,C,F,X,ut;for(p=0,F=t.length;p<F;p++)t[p]._code=hi(t[p],s);for(w=0;w<4;w++){for(X=h[w],l=[],p=0,F=t.length,v=F-1;p<F;v=p++)T=t[p],C=t[v],T._code&X?C._code&X||(ut=os(C,T,X,s,o),ut._code=hi(ut,s),l.push(ut)):(C._code&X&&(ut=os(C,T,X,s,o),ut._code=hi(ut,s),l.push(ut)),l.push(T));t=l}return t}function Ca(t,s){var o,l,h,p,v,w,T,C,F;if(!t||t.length===0)throw new Error("latlngs not passed");ce(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var X=at([0,0]),ut=kt(t),Jt=ut.getNorthWest().distanceTo(ut.getSouthWest())*ut.getNorthEast().distanceTo(ut.getNorthWest());Jt<1700&&(X=wr(t));var Ut=t.length,he=[];for(o=0;o<Ut;o++){var ee=at(t[o]);he.push(s.project(at([ee.lat-X.lat,ee.lng-X.lng])))}for(w=T=C=0,o=0,l=Ut-1;o<Ut;l=o++)h=he[o],p=he[l],v=h.y*p.x-p.y*h.x,T+=(h.x+p.x)*v,C+=(h.y+p.y)*v,w+=v*3;w===0?F=he[0]:F=[T/w,C/w];var Ri=s.unproject(G(F));return at([Ri.lat+X.lat,Ri.lng+X.lng])}function wr(t){for(var s=0,o=0,l=0,h=0;h<t.length;h++){var p=at(t[h]);s+=p.lat,o+=p.lng,l++}return at([s/l,o/l])}var Ld={__proto__:null,clipPolygon:La,polygonCenter:Ca,centroid:wr};function ka(t,s){if(!s||!t.length)return t.slice();var o=s*s;return t=Ad(t,o),t=kd(t,o),t}function Aa(t,s,o){return Math.sqrt(hn(t,s,o,!0))}function Cd(t,s,o){return hn(t,s,o)}function kd(t,s){var o=t.length,l=typeof Uint8Array<"u"?Uint8Array:Array,h=new l(o);h[0]=h[o-1]=1,br(t,h,s,0,o-1);var p,v=[];for(p=0;p<o;p++)h[p]&&v.push(t[p]);return v}function br(t,s,o,l,h){var p=0,v,w,T;for(w=l+1;w<=h-1;w++)T=hn(t[w],t[l],t[h],!0),T>p&&(v=w,p=T);p>o&&(s[v]=1,br(t,s,o,l,v),br(t,s,o,v,h))}function Ad(t,s){for(var o=[t[0]],l=1,h=0,p=t.length;l<p;l++)Md(t[l],t[h])>s&&(o.push(t[l]),h=l);return h<p-1&&o.push(t[p-1]),o}var Ma;function Ea(t,s,o,l,h){var p=l?Ma:hi(t,o),v=hi(s,o),w,T,C;for(Ma=v;;){if(!(p|v))return[t,s];if(p&v)return!1;w=p||v,T=os(t,s,w,o,h),C=hi(T,o),w===p?(t=T,p=C):(s=T,v=C)}}function os(t,s,o,l,h){var p=s.x-t.x,v=s.y-t.y,w=l.min,T=l.max,C,F;return o&8?(C=t.x+p*(T.y-t.y)/v,F=T.y):o&4?(C=t.x+p*(w.y-t.y)/v,F=w.y):o&2?(C=T.x,F=t.y+v*(T.x-t.x)/p):o&1&&(C=w.x,F=t.y+v*(w.x-t.x)/p),new W(C,F,h)}function hi(t,s){var o=0;return t.x<s.min.x?o|=1:t.x>s.max.x&&(o|=2),t.y<s.min.y?o|=4:t.y>s.max.y&&(o|=8),o}function Md(t,s){var o=s.x-t.x,l=s.y-t.y;return o*o+l*l}function hn(t,s,o,l){var h=s.x,p=s.y,v=o.x-h,w=o.y-p,T=v*v+w*w,C;return T>0&&(C=((t.x-h)*v+(t.y-p)*w)/T,C>1?(h=o.x,p=o.y):C>0&&(h+=v*C,p+=w*C)),v=t.x-h,w=t.y-p,l?v*v+w*w:new W(h,p)}function ce(t){return!z(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Oa(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ce(t)}function Da(t,s){var o,l,h,p,v,w,T,C;if(!t||t.length===0)throw new Error("latlngs not passed");ce(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var F=at([0,0]),X=kt(t),ut=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());ut<1700&&(F=wr(t));var Jt=t.length,Ut=[];for(o=0;o<Jt;o++){var he=at(t[o]);Ut.push(s.project(at([he.lat-F.lat,he.lng-F.lng])))}for(o=0,l=0;o<Jt-1;o++)l+=Ut[o].distanceTo(Ut[o+1])/2;if(l===0)C=Ut[0];else for(o=0,p=0;o<Jt-1;o++)if(v=Ut[o],w=Ut[o+1],h=v.distanceTo(w),p+=h,p>l){T=(p-l)/h,C=[w.x-T*(w.x-v.x),w.y-T*(w.y-v.y)];break}var ee=s.unproject(G(C));return at([ee.lat+F.lat,ee.lng+F.lng])}var Ed={__proto__:null,simplify:ka,pointToSegmentDistance:Aa,closestPointOnSegment:Cd,clipSegment:Ea,_getEdgeIntersection:os,_getBitCode:hi,_sqClosestPointOnSegment:hn,isFlat:ce,_flat:Oa,polylineCenter:Da},Tr={project:function(t){return new W(t.lng,t.lat)},unproject:function(t){return new gt(t.y,t.x)},bounds:new Tt([-180,-90],[180,90])},Pr={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Tt([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var s=Math.PI/180,o=this.R,l=t.lat*s,h=this.R_MINOR/o,p=Math.sqrt(1-h*h),v=p*Math.sin(l),w=Math.tan(Math.PI/4-l/2)/Math.pow((1-v)/(1+v),p/2);return l=-o*Math.log(Math.max(w,1e-10)),new W(t.lng*s*o,l)},unproject:function(t){for(var s=180/Math.PI,o=this.R,l=this.R_MINOR/o,h=Math.sqrt(1-l*l),p=Math.exp(-t.y/o),v=Math.PI/2-2*Math.atan(p),w=0,T=.1,C;w<15&&Math.abs(T)>1e-7;w++)C=h*Math.sin(v),C=Math.pow((1-C)/(1+C),h/2),T=Math.PI/2-2*Math.atan(p*C)-v,v+=T;return new gt(v*s,t.x*s/o)}},Od={__proto__:null,LonLat:Tr,Mercator:Pr,SphericalMercator:Ji},Dd=a({},ue,{code:"EPSG:3395",projection:Pr,transformation:function(){var t=.5/(Math.PI*Pr.R);return oi(t,.5,-t,.5)}()}),Ra=a({},ue,{code:"EPSG:4326",projection:Tr,transformation:oi(1/180,1,-1/180,.5)}),Rd=a({},ae,{projection:Tr,transformation:oi(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var o=s.lng-t.lng,l=s.lat-t.lat;return Math.sqrt(o*o+l*l)},infinite:!0});ae.Earth=ue,ae.EPSG3395=Dd,ae.EPSG3857=Ti,ae.EPSG900913=Jn,ae.EPSG4326=Ra,ae.Simple=Rd;var ge=ht.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[f(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[f(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var s=t.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var o=this.getEvents();s.on(o,this),this.once("remove",function(){s.off(o,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});dt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var s=f(t);return this._layers[s]?this:(this._layers[s]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var s=f(t);return this._layers[s]?(this._loaded&&t.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return f(t)in this._layers},eachLayer:function(t,s){for(var o in this._layers)t.call(s,this._layers[o]);return this},_addLayers:function(t){t=t?z(t)?t:[t]:[];for(var s=0,o=t.length;s<o;s++)this.addLayer(t[s])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[f(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var s=f(t);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,s=-1/0,o=this._getZoomSpan();for(var l in this._zoomBoundLayers){var h=this._zoomBoundLayers[l].options;t=h.minZoom===void 0?t:Math.min(t,h.minZoom),s=h.maxZoom===void 0?s:Math.max(s,h.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ai=ge.extend({initialize:function(t,s){k(this,s),this._layers={};var o,l;if(t)for(o=0,l=t.length;o<l;o++)this.addLayer(t[o])},addLayer:function(t){var s=this.getLayerId(t);return this._layers[s]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var s=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(t){var s=typeof t=="number"?t:this.getLayerId(t);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var s=Array.prototype.slice.call(arguments,1),o,l;for(o in this._layers)l=this._layers[o],l[t]&&l[t].apply(l,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,s){for(var o in this._layers)t.call(s,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return f(t)}}),Vd=function(t,s){return new Ai(t,s)},Ve=Ai.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ai.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ai.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Gt;for(var s in this._layers){var o=this._layers[s];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),Id=function(t,s){return new Ve(t,s)},Mi=mt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){k(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,s){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var l=this._createImg(o,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(l,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),l},_setIconStyles:function(t,s){var o=this.options,l=o[s+"Size"];typeof l=="number"&&(l=[l,l]);var h=G(l),p=G(s==="shadow"&&o.shadowAnchor||o.iconAnchor||h&&h.divideBy(2,!0));t.className="leaflet-marker-"+s+" "+(o.className||""),p&&(t.style.marginLeft=-p.x+"px",t.style.marginTop=-p.y+"px"),h&&(t.style.width=h.x+"px",t.style.height=h.y+"px")},_createImg:function(t,s){return s=s||document.createElement("img"),s.src=t,s},_getIconUrl:function(t){return $.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Bd(t){return new Mi(t)}var dn=Mi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof dn.imagePath!="string"&&(dn.imagePath=this._detectIconPath()),(this.options.imagePath||dn.imagePath)+Mi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var s=function(o,l,h){var p=l.exec(o);return p&&p[h]};return t=s(t,/^url\((['"])?(.+)\1\)$/,2),t&&s(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=pt("div","leaflet-default-icon-path",document.body),s=rn(t,"background-image")||rn(t,"backgroundImage");if(document.body.removeChild(t),s=this._stripUrl(s),s)return s;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Va=Le.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new $e(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),rt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&It(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var s=this._marker,o=s._map,l=this._marker.options.autoPanSpeed,h=this._marker.options.autoPanPadding,p=ui(s._icon),v=o.getPixelBounds(),w=o.getPixelOrigin(),T=Wt(v.min._subtract(w).add(h),v.max._subtract(w).subtract(h));if(!T.contains(p)){var C=G((Math.max(T.max.x,p.x)-T.max.x)/(v.max.x-T.max.x)-(Math.min(T.min.x,p.x)-T.min.x)/(v.min.x-T.min.x),(Math.max(T.max.y,p.y)-T.max.y)/(v.max.y-T.max.y)-(Math.min(T.min.y,p.y)-T.min.y)/(v.min.y-T.min.y)).multiplyBy(l);o.panBy(C,{animate:!1}),this._draggable._newPos._add(C),this._draggable._startPos._add(C),Zt(s._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=wt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=wt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var s=this._marker,o=s._shadow,l=ui(s._icon),h=s._map.layerPointToLatLng(l);o&&Zt(o,l),s._latlng=h,t.latlng=h,t.oldLatLng=this._oldLatLng,s.fire("move",t).fire("drag",t)},_onDragEnd:function(t){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),as=ge.extend({options:{icon:new dn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,s){k(this,s),this._latlng=at(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var s=this._latlng;return this._latlng=at(t),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),l=!1;o!==this._icon&&(this._icon&&this._removeIcon(),l=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),rt(o,s),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&it(o,"focus",this._panOnFocus,this);var h=t.icon.createShadow(this._shadow),p=!1;h!==this._shadow&&(this._removeShadow(),p=!0),h&&(rt(h,s),h.alt=""),this._shadow=h,t.opacity<1&&this._updateOpacity(),l&&this.getPane().appendChild(this._icon),this._initInteraction(),h&&p&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Pt(this._icon,"focus",this._panOnFocus,this),At(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&At(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&Zt(this._icon,t),this._shadow&&Zt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(rt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Va)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Va(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&le(this._icon,t),this._shadow&&le(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var s=this.options.icon.options,o=s.iconSize?G(s.iconSize):G(0,0),l=s.iconAnchor?G(s.iconAnchor):G(0,0);t.panInside(this._latlng,{paddingTopLeft:l,paddingBottomRight:o.subtract(l)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Nd(t,s){return new as(t,s)}var Ge=ge.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return k(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),us=Ge.extend({options:{fill:!0,radius:10},initialize:function(t,s){k(this,s),this._latlng=at(t),this._radius=this.options.radius},setLatLng:function(t){var s=this._latlng;return this._latlng=at(t),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var s=t&&t.radius||this._radius;return Ge.prototype.setStyle.call(this,t),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,s=this._radiusY||t,o=this._clickTolerance(),l=[t+o,s+o];this._pxBounds=new Tt(this._point.subtract(l),this._point.add(l))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zd(t,s){return new us(t,s)}var Sr=us.extend({initialize:function(t,s,o){if(typeof s=="number"&&(s=a({},o,{radius:s})),k(this,s),this._latlng=at(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Gt(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ge.prototype.setStyle,_project:function(){var t=this._latlng.lng,s=this._latlng.lat,o=this._map,l=o.options.crs;if(l.distance===ue.distance){var h=Math.PI/180,p=this._mRadius/ue.R/h,v=o.project([s+p,t]),w=o.project([s-p,t]),T=v.add(w).divideBy(2),C=o.unproject(T).lat,F=Math.acos((Math.cos(p*h)-Math.sin(s*h)*Math.sin(C*h))/(Math.cos(s*h)*Math.cos(C*h)))/h;(isNaN(F)||F===0)&&(F=p/Math.cos(Math.PI/180*s)),this._point=T.subtract(o.getPixelOrigin()),this._radius=isNaN(F)?0:T.x-o.project([C,t-F]).x,this._radiusY=T.y-v.y}else{var X=l.unproject(l.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(X).x}this._updateBounds()}});function zd(t,s,o){return new Sr(t,s,o)}var Ie=Ge.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,s){k(this,s),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var s=1/0,o=null,l=hn,h,p,v=0,w=this._parts.length;v<w;v++)for(var T=this._parts[v],C=1,F=T.length;C<F;C++){h=T[C-1],p=T[C];var X=l(t,h,p,!0);X<s&&(s=X,o=l(t,h,p))}return o&&(o.distance=Math.sqrt(s)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Da(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,s){return s=s||this._defaultShape(),t=at(t),s.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Gt,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return ce(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var s=[],o=ce(t),l=0,h=t.length;l<h;l++)o?(s[l]=at(t[l]),this._bounds.extend(s[l])):s[l]=this._convertLatLngs(t[l]);return s},_project:function(){var t=new Tt;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),s=new W(t,t);this._rawPxBounds&&(this._pxBounds=new Tt([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(t,s,o){var l=t[0]instanceof gt,h=t.length,p,v;if(l){for(v=[],p=0;p<h;p++)v[p]=this._map.latLngToLayerPoint(t[p]),o.extend(v[p]);s.push(v)}else for(p=0;p<h;p++)this._projectLatlngs(t[p],s,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,o,l,h,p,v,w,T;for(o=0,h=0,p=this._rings.length;o<p;o++)for(T=this._rings[o],l=0,v=T.length;l<v-1;l++)w=Ea(T[l],T[l+1],t,l,!0),w&&(s[h]=s[h]||[],s[h].push(w[0]),(w[1]!==T[l+1]||l===v-2)&&(s[h].push(w[1]),h++))}},_simplifyPoints:function(){for(var t=this._parts,s=this.options.smoothFactor,o=0,l=t.length;o<l;o++)t[o]=ka(t[o],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,s){var o,l,h,p,v,w,T=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,p=this._parts.length;o<p;o++)for(w=this._parts[o],l=0,v=w.length,h=v-1;l<v;h=l++)if(!(!s&&l===0)&&Aa(t,w[h],w[l])<=T)return!0;return!1}});function Fd(t,s){return new Ie(t,s)}Ie._flat=Oa;var Ei=Ie.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ca(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var s=Ie.prototype._convertLatLngs.call(this,t),o=s.length;return o>=2&&s[0]instanceof gt&&s[0].equals(s[o-1])&&s.pop(),s},_setLatLngs:function(t){Ie.prototype._setLatLngs.call(this,t),ce(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ce(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,s=this.options.weight,o=new W(s,s);if(t=new Tt(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var l=0,h=this._rings.length,p;l<h;l++)p=La(this._rings[l],t,!0),p.length&&this._parts.push(p)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s=!1,o,l,h,p,v,w,T,C;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(p=0,T=this._parts.length;p<T;p++)for(o=this._parts[p],v=0,C=o.length,w=C-1;v<C;w=v++)l=o[v],h=o[w],l.y>t.y!=h.y>t.y&&t.x<(h.x-l.x)*(t.y-l.y)/(h.y-l.y)+l.x&&(s=!s);return s||Ie.prototype._containsPoint.call(this,t,!0)}});function jd(t,s){return new Ei(t,s)}var Be=Ve.extend({initialize:function(t,s){k(this,s),this._layers={},t&&this.addData(t)},addData:function(t){var s=z(t)?t:t.features,o,l,h;if(s){for(o=0,l=s.length;o<l;o++)h=s[o],(h.geometries||h.geometry||h.features||h.coordinates)&&this.addData(h);return this}var p=this.options;if(p.filter&&!p.filter(t))return this;var v=ls(t,p);return v?(v.feature=ds(t),v.defaultOptions=v.options,this.resetStyle(v),p.onEachFeature&&p.onEachFeature(t,v),this.addLayer(v)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=a({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(s){this._setLayerStyle(s,t)},this)},_setLayerStyle:function(t,s){t.setStyle&&(typeof s=="function"&&(s=s(t.feature)),t.setStyle(s))}});function ls(t,s){var o=t.type==="Feature"?t.geometry:t,l=o?o.coordinates:null,h=[],p=s&&s.pointToLayer,v=s&&s.coordsToLatLng||Lr,w,T,C,F;if(!l&&!o)return null;switch(o.type){case"Point":return w=v(l),Ia(p,t,w,s);case"MultiPoint":for(C=0,F=l.length;C<F;C++)w=v(l[C]),h.push(Ia(p,t,w,s));return new Ve(h);case"LineString":case"MultiLineString":return T=cs(l,o.type==="LineString"?0:1,v),new Ie(T,s);case"Polygon":case"MultiPolygon":return T=cs(l,o.type==="Polygon"?1:2,v),new Ei(T,s);case"GeometryCollection":for(C=0,F=o.geometries.length;C<F;C++){var X=ls({geometry:o.geometries[C],type:"Feature",properties:t.properties},s);X&&h.push(X)}return new Ve(h);case"FeatureCollection":for(C=0,F=o.features.length;C<F;C++){var ut=ls(o.features[C],s);ut&&h.push(ut)}return new Ve(h);default:throw new Error("Invalid GeoJSON object.")}}function Ia(t,s,o,l){return t?t(s,o):new as(o,l&&l.markersInheritOptions&&l)}function Lr(t){return new gt(t[1],t[0],t[2])}function cs(t,s,o){for(var l=[],h=0,p=t.length,v;h<p;h++)v=s?cs(t[h],s-1,o):(o||Lr)(t[h]),l.push(v);return l}function Cr(t,s){return t=at(t),t.alt!==void 0?[x(t.lng,s),x(t.lat,s),x(t.alt,s)]:[x(t.lng,s),x(t.lat,s)]}function hs(t,s,o,l){for(var h=[],p=0,v=t.length;p<v;p++)h.push(s?hs(t[p],ce(t[p])?0:s-1,o,l):Cr(t[p],l));return!s&&o&&h.length>0&&h.push(h[0].slice()),h}function Oi(t,s){return t.feature?a({},t.feature,{geometry:s}):ds(s)}function ds(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var kr={toGeoJSON:function(t){return Oi(this,{type:"Point",coordinates:Cr(this.getLatLng(),t)})}};as.include(kr),Sr.include(kr),us.include(kr),Ie.include({toGeoJSON:function(t){var s=!ce(this._latlngs),o=hs(this._latlngs,s?1:0,!1,t);return Oi(this,{type:(s?"Multi":"")+"LineString",coordinates:o})}}),Ei.include({toGeoJSON:function(t){var s=!ce(this._latlngs),o=s&&!ce(this._latlngs[0]),l=hs(this._latlngs,o?2:s?1:0,!0,t);return s||(l=[l]),Oi(this,{type:(o?"Multi":"")+"Polygon",coordinates:l})}}),Ai.include({toMultiPoint:function(t){var s=[];return this.eachLayer(function(o){s.push(o.toGeoJSON(t).geometry.coordinates)}),Oi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(t){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(t);var o=s==="GeometryCollection",l=[];return this.eachLayer(function(h){if(h.toGeoJSON){var p=h.toGeoJSON(t);if(o)l.push(p.geometry);else{var v=ds(p);v.type==="FeatureCollection"?l.push.apply(l,v.features):l.push(v)}}}),o?Oi(this,{geometries:l,type:"GeometryCollection"}):{type:"FeatureCollection",features:l}}});function Ba(t,s){return new Be(t,s)}var Ud=Ba,fs=ge.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,s,o){this._url=t,this._bounds=kt(s),k(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(rt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){At(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ci(this._image),this},bringToBack:function(){return this._map&&ki(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=kt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",s=this._image=t?this._url:pt("img");if(rt(s,"leaflet-image-layer"),this._zoomAnimated&&rt(s,"leaflet-zoom-animated"),this.options.className&&rt(s,this.options.className),s.onselectstart=g,s.onmousemove=g,s.onload=c(this.fire,this,"load"),s.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(t){var s=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ai(this._image,o,s)},_reset:function(){var t=this._image,s=new Tt(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=s.getSize();Zt(t,s.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){le(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Wd=function(t,s,o){return new fs(t,s,o)},Na=fs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",s=this._image=t?this._url:pt("video");if(rt(s,"leaflet-image-layer"),this._zoomAnimated&&rt(s,"leaflet-zoom-animated"),this.options.className&&rt(s,this.options.className),s.onselectstart=g,s.onmousemove=g,s.onloadeddata=c(this.fire,this,"load"),t){for(var o=s.getElementsByTagName("source"),l=[],h=0;h<o.length;h++)l.push(o[h].src);this._url=o.length>0?l:[s.src];return}z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var p=0;p<this._url.length;p++){var v=pt("source");v.src=this._url[p],s.appendChild(v)}}});function Hd(t,s,o){return new Na(t,s,o)}var Za=fs.extend({_initImage:function(){var t=this._image=this._url;rt(t,"leaflet-image-layer"),this._zoomAnimated&&rt(t,"leaflet-zoom-animated"),this.options.className&&rt(t,this.options.className),t.onselectstart=g,t.onmousemove=g}});function $d(t,s,o){return new Za(t,s,o)}var Ce=ge.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,s){t&&(t instanceof gt||z(t))?(this._latlng=at(t),k(this,s)):(k(this,t),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&le(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&le(this._container,1),this.bringToFront(),this.options.interactive&&(rt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(le(this._container,0),this._removeTimeout=setTimeout(c(At,void 0,this._container),200)):At(this._container),this.options.interactive&&(It(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=at(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ci(this._container),this},bringToBack:function(){return this._map&&ki(this._container),this},_prepareOpen:function(t){var s=this._source;if(!s._map)return!1;if(s instanceof Ve){s=null;var o=this._source._layers;for(var l in o)if(o[l]._map){s=o[l];break}if(!s)return!1;this._source=s}if(!t)if(s.getCenter)t=s.getCenter();else if(s.getLatLng)t=s.getLatLng();else if(s.getBounds)t=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")t.innerHTML=s;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),s=G(this.options.offset),o=this._getAnchor();this._zoomAnimated?Zt(this._container,t.add(o)):s=s.add(t).add(o);var l=this._containerBottom=-s.y,h=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=l+"px",this._container.style.left=h+"px"}},_getAnchor:function(){return[0,0]}});dt.include({_initOverlay:function(t,s,o,l){var h=s;return h instanceof t||(h=new t(l).setContent(s)),o&&h.setLatLng(o),h}}),ge.include({_initOverlay:function(t,s,o,l){var h=o;return h instanceof t?(k(h,l),h._source=this):(h=s&&!l?s:new t(l,this),h.setContent(o)),h}});var ms=Ce.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Ce.prototype.openOn.call(this,t)},onAdd:function(t){Ce.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ge||this._source.on("preclick",li))},onRemove:function(t){Ce.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ge||this._source.off("preclick",li))},getEvents:function(){var t=Ce.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",s=this._container=pt("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=pt("div",t+"-content-wrapper",s);if(this._contentNode=pt("div",t+"-content",o),ln(s),gr(this._contentNode),it(s,"contextmenu",li),this._tipContainer=pt("div",t+"-tip-container",s),this._tip=pt("div",t+"-tip",this._tipContainer),this.options.closeButton){var l=this._closeButton=pt("a",t+"-close-button",s);l.setAttribute("role","button"),l.setAttribute("aria-label","Close popup"),l.href="#close",l.innerHTML='<span aria-hidden="true">&#215;</span>',it(l,"click",function(h){Ht(h),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,s=t.style;s.width="",s.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),s.width=o+1+"px",s.whiteSpace="",s.height="";var l=t.offsetHeight,h=this.options.maxHeight,p="leaflet-popup-scrolled";h&&l>h?(s.height=h+"px",rt(t,p)):It(t,p),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();Zt(this._container,s.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,s=parseInt(rn(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+s,l=this._containerWidth,h=new W(this._containerLeft,-o-this._containerBottom);h._add(ui(this._container));var p=t.layerPointToContainerPoint(h),v=G(this.options.autoPanPadding),w=G(this.options.autoPanPaddingTopLeft||v),T=G(this.options.autoPanPaddingBottomRight||v),C=t.getSize(),F=0,X=0;p.x+l+T.x>C.x&&(F=p.x+l-C.x+T.x),p.x-F-w.x<0&&(F=p.x-w.x),p.y+o+T.y>C.y&&(X=p.y+o-C.y+T.y),p.y-X-w.y<0&&(X=p.y-w.y),(F||X)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([F,X]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gd=function(t,s){return new ms(t,s)};dt.mergeOptions({closePopupOnClick:!0}),dt.include({openPopup:function(t,s,o){return this._initOverlay(ms,t,s,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),ge.include({bindPopup:function(t,s){return this._popup=this._initOverlay(ms,this._popup,t,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Ve||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){ci(t);var s=t.layer||t.target;if(this._popup._source===s&&!(s instanceof Ge)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=s,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ps=Ce.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Ce.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Ce.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Ce.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",s=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=pt("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+f(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var s,o,l=this._map,h=this._container,p=l.latLngToContainerPoint(l.getCenter()),v=l.layerPointToContainerPoint(t),w=this.options.direction,T=h.offsetWidth,C=h.offsetHeight,F=G(this.options.offset),X=this._getAnchor();w==="top"?(s=T/2,o=C):w==="bottom"?(s=T/2,o=0):w==="center"?(s=T/2,o=C/2):w==="right"?(s=0,o=C/2):w==="left"?(s=T,o=C/2):v.x<p.x?(w="right",s=0,o=C/2):(w="left",s=T+(F.x+X.x)*2,o=C/2),t=t.subtract(G(s,o,!0)).add(F).add(X),It(h,"leaflet-tooltip-right"),It(h,"leaflet-tooltip-left"),It(h,"leaflet-tooltip-top"),It(h,"leaflet-tooltip-bottom"),rt(h,"leaflet-tooltip-"+w),Zt(h,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&le(this._container,t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(s)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Kd=function(t,s){return new ps(t,s)};dt.include({openTooltip:function(t,s,o){return this._initOverlay(ps,t,s,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),ge.include({bindTooltip:function(t,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ps,this._tooltip,t,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var s=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[s](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Ve||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&(it(s,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),it(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var s=t.latlng,o,l;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),l=this._map.containerPointToLayerPoint(o),s=this._map.layerPointToLatLng(l)),this._tooltip.setLatLng(s)}});var za=Mi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var s=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(es(s),s.appendChild(o.html)):s.innerHTML=o.html!==!1?o.html:"",o.bgPos){var l=G(o.bgPos);s.style.backgroundPosition=-l.x+"px "+-l.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function qd(t){return new za(t)}Mi.Default=dn;var fn=ge.extend({options:{tileSize:256,opacity:1,updateWhenIdle:$.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){k(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),At(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ci(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ki(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof W?t:new W(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var s=this.getPane().children,o=-t(-1/0,1/0),l=0,h=s.length,p;l<h;l++)p=s[l].style.zIndex,s[l]!==this._container&&p&&(o=t(o,+p));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!$.ielt9){le(this._container,this.options.opacity);var t=+new Date,s=!1,o=!1;for(var l in this._tiles){var h=this._tiles[l];if(!(!h.current||!h.loaded)){var p=Math.min(1,(t-h.loaded)/200);le(h.el,p),p<1?s=!0:(h.active?o=!0:this._onOpaqueTile(h),h.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),s&&(q(this._fadeFrame),this._fadeFrame=wt(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=pt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,s=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=s-Math.abs(t-o),this._onUpdateLevel(o)):(At(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var l=this._levels[t],h=this._map;return l||(l=this._levels[t]={},l.el=pt("div","leaflet-tile-container leaflet-zoom-animated",this._container),l.el.style.zIndex=s,l.origin=h.project(h.unproject(h.getPixelOrigin()),t).round(),l.zoom=t,this._setZoomTransform(l,h.getCenter(),h.getZoom()),g(l.el.offsetWidth),this._onCreateLevel(l)),this._level=l,l}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var t,s,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)s=this._tiles[t],s.retain=s.current;for(t in this._tiles)if(s=this._tiles[t],s.current&&!s.active){var l=s.coords;this._retainParent(l.x,l.y,l.z,l.z-5)||this._retainChildren(l.x,l.y,l.z,l.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var s in this._tiles)this._tiles[s].coords.z===t&&this._removeTile(s)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)At(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,s,o,l){var h=Math.floor(t/2),p=Math.floor(s/2),v=o-1,w=new W(+h,+p);w.z=+v;var T=this._tileCoordsToKey(w),C=this._tiles[T];return C&&C.active?(C.retain=!0,!0):(C&&C.loaded&&(C.retain=!0),v>l?this._retainParent(h,p,v,l):!1)},_retainChildren:function(t,s,o,l){for(var h=2*t;h<2*t+2;h++)for(var p=2*s;p<2*s+2;p++){var v=new W(h,p);v.z=o+1;var w=this._tileCoordsToKey(v),T=this._tiles[w];if(T&&T.active){T.retain=!0;continue}else T&&T.loaded&&(T.retain=!0);o+1<l&&this._retainChildren(h,p,o+1,l)}},_resetView:function(t){var s=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var s=this.options;return s.minNativeZoom!==void 0&&t<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<t?s.maxNativeZoom:t},_setView:function(t,s,o,l){var h=Math.round(s);this.options.maxZoom!==void 0&&h>this.options.maxZoom||this.options.minZoom!==void 0&&h<this.options.minZoom?h=void 0:h=this._clampZoom(h);var p=this.options.updateWhenZooming&&h!==this._tileZoom;(!l||p)&&(this._tileZoom=h,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),h!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,s)},_setZoomTransforms:function(t,s){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,s)},_setZoomTransform:function(t,s,o){var l=this._map.getZoomScale(o,t.zoom),h=t.origin.multiplyBy(l).subtract(this._map._getNewPixelOrigin(s,o)).round();$.any3d?ai(t.el,h,l):Zt(t.el,h)},_resetGrid:function(){var t=this._map,s=t.options.crs,o=this._tileSize=this.getTileSize(),l=this._tileZoom,h=this._map.getPixelWorldBounds(this._tileZoom);h&&(this._globalTileRange=this._pxBoundsToTileRange(h)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,s.wrapLng[0]],l).x/o.x),Math.ceil(t.project([0,s.wrapLng[1]],l).x/o.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([s.wrapLat[0],0],l).y/o.x),Math.ceil(t.project([s.wrapLat[1],0],l).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var s=this._map,o=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),l=s.getZoomScale(o,this._tileZoom),h=s.project(t,this._tileZoom).floor(),p=s.getSize().divideBy(l*2);return new Tt(h.subtract(p),h.add(p))},_update:function(t){var s=this._map;if(s){var o=this._clampZoom(s.getZoom());if(t===void 0&&(t=s.getCenter()),this._tileZoom!==void 0){var l=this._getTiledPixelBounds(t),h=this._pxBoundsToTileRange(l),p=h.getCenter(),v=[],w=this.options.keepBuffer,T=new Tt(h.getBottomLeft().subtract([w,-w]),h.getTopRight().add([w,-w]));if(!(isFinite(h.min.x)&&isFinite(h.min.y)&&isFinite(h.max.x)&&isFinite(h.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var C in this._tiles){var F=this._tiles[C].coords;(F.z!==this._tileZoom||!T.contains(new W(F.x,F.y)))&&(this._tiles[C].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var X=h.min.y;X<=h.max.y;X++)for(var ut=h.min.x;ut<=h.max.x;ut++){var Jt=new W(ut,X);if(Jt.z=this._tileZoom,!!this._isValidTile(Jt)){var Ut=this._tiles[this._tileCoordsToKey(Jt)];Ut?Ut.current=!0:v.push(Jt)}}if(v.sort(function(ee,Ri){return ee.distanceTo(p)-Ri.distanceTo(p)}),v.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var he=document.createDocumentFragment();for(ut=0;ut<v.length;ut++)this._addTile(v[ut],he);this._level.el.appendChild(he)}}}},_isValidTile:function(t){var s=this._map.options.crs;if(!s.infinite){var o=this._globalTileRange;if(!s.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!s.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var l=this._tileCoordsToBounds(t);return kt(this.options.bounds).overlaps(l)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var s=this._map,o=this.getTileSize(),l=t.scaleBy(o),h=l.add(o),p=s.unproject(l,t.z),v=s.unproject(h,t.z);return[p,v]},_tileCoordsToBounds:function(t){var s=this._tileCoordsToNwSe(t),o=new Gt(s[0],s[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var s=t.split(":"),o=new W(+s[0],+s[1]);return o.z=+s[2],o},_removeTile:function(t){var s=this._tiles[t];s&&(At(s.el),delete this._tiles[t],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){rt(t,"leaflet-tile");var s=this.getTileSize();t.style.width=s.x+"px",t.style.height=s.y+"px",t.onselectstart=g,t.onmousemove=g,$.ielt9&&this.options.opacity<1&&le(t,this.options.opacity)},_addTile:function(t,s){var o=this._getTilePos(t),l=this._tileCoordsToKey(t),h=this.createTile(this._wrapCoords(t),c(this._tileReady,this,t));this._initTile(h),this.createTile.length<2&&wt(c(this._tileReady,this,t,null,h)),Zt(h,o),this._tiles[l]={el:h,coords:t,current:!0},s.appendChild(h),this.fire("tileloadstart",{tile:h,coords:t})},_tileReady:function(t,s,o){s&&this.fire("tileerror",{error:s,tile:o,coords:t});var l=this._tileCoordsToKey(t);o=this._tiles[l],o&&(o.loaded=+new Date,this._map._fadeAnimated?(le(o.el,0),q(this._fadeFrame),this._fadeFrame=wt(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),s||(rt(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),$.ielt9||!this._map._fadeAnimated?wt(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var s=new W(this._wrapX?_(t.x,this._wrapX):t.x,this._wrapY?_(t.y,this._wrapY):t.y);return s.z=t.z,s},_pxBoundsToTileRange:function(t){var s=this.getTileSize();return new Tt(t.min.unscaleBy(s).floor(),t.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Yd(t){return new fn(t)}var Di=fn.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,s){this._url=t,s=k(this,s),s.detectRetina&&$.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,s){return this._url===t&&s===void 0&&(s=!0),this._url=t,s||this.redraw(),this},createTile:function(t,s){var o=document.createElement("img");return it(o,"load",c(this._tileOnLoad,this,s,o)),it(o,"error",c(this._tileOnError,this,s,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(t),o},getTileUrl:function(t){var s={r:$.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(s.y=o),s["-y"]=o}return M(this._url,a(s,this.options))},_tileOnLoad:function(t,s){$.ielt9?setTimeout(c(t,this,null,s),0):t(null,s)},_tileOnError:function(t,s,o){var l=this.options.errorTileUrl;l&&s.getAttribute("src")!==l&&(s.src=l),t(o,s)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,s=this.options.maxZoom,o=this.options.zoomReverse,l=this.options.zoomOffset;return o&&(t=s-t),t+l},_getSubdomain:function(t){var s=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var t,s;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(s=this._tiles[t].el,s.onload=g,s.onerror=g,!s.complete)){s.src=j;var o=this._tiles[t].coords;At(s),delete this._tiles[t],this.fire("tileabort",{tile:s,coords:o})}},_removeTile:function(t){var s=this._tiles[t];if(s)return s.el.setAttribute("src",j),fn.prototype._removeTile.call(this,t)},_tileReady:function(t,s,o){if(!(!this._map||o&&o.getAttribute("src")===j))return fn.prototype._tileReady.call(this,t,s,o)}});function Fa(t,s){return new Di(t,s)}var ja=Di.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,s){this._url=t;var o=a({},this.defaultWmsParams);for(var l in s)l in this.options||(o[l]=s[l]);s=k(this,s);var h=s.detectRetina&&$.retina?2:1,p=this.getTileSize();o.width=p.x*h,o.height=p.y*h,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Di.prototype.onAdd.call(this,t)},getTileUrl:function(t){var s=this._tileCoordsToNwSe(t),o=this._crs,l=Wt(o.project(s[0]),o.project(s[1])),h=l.min,p=l.max,v=(this._wmsVersion>=1.3&&this._crs===Ra?[h.y,h.x,p.y,p.x]:[h.x,h.y,p.x,p.y]).join(","),w=Di.prototype.getTileUrl.call(this,t);return w+N(this.wmsParams,w,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+v},setParams:function(t,s){return a(this.wmsParams,t),s||this.redraw(),this}});function Xd(t,s){return new ja(t,s)}Di.WMS=ja,Fa.wms=Xd;var Ne=ge.extend({options:{padding:.1},initialize:function(t){k(this,t),f(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),rt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,s){var o=this._map.getZoomScale(s,this._zoom),l=this._map.getSize().multiplyBy(.5+this.options.padding),h=this._map.project(this._center,s),p=l.multiplyBy(-o).add(h).subtract(this._map._getNewPixelOrigin(t,s));$.any3d?ai(this._container,p,o):Zt(this._container,p)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,s=this._map.getSize(),o=this._map.containerPointToLayerPoint(s.multiplyBy(-t)).round();this._bounds=new Tt(o,o.add(s.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ua=Ne.extend({options:{tolerance:0},getEvents:function(){var t=Ne.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ne.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");it(t,"mousemove",this._onMouseMove,this),it(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),it(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,At(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var s in this._layers)t=this._layers[s],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ne.prototype._update.call(this);var t=this._bounds,s=this._container,o=t.getSize(),l=$.retina?2:1;Zt(s,t.min),s.width=l*o.x,s.height=l*o.y,s.style.width=o.x+"px",s.style.height=o.y+"px",$.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Ne.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[f(t)]=t;var s=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var s=t._order,o=s.next,l=s.prev;o?o.prev=l:this._drawLast=l,l?l.next=o:this._drawFirst=o,delete t._order,delete this._layers[f(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var s=t.options.dashArray.split(/[, ]+/),o=[],l,h;for(h=0;h<s.length;h++){if(l=Number(s[h]),isNaN(l))return;o.push(l)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||wt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var s=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Tt,this._redrawBounds.extend(t._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(t._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var s=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,s=this._redrawBounds;if(this._ctx.save(),s){var o=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var l=this._drawFirst;l;l=l.next)t=l.layer,(!s||t._pxBounds&&t._pxBounds.intersects(s))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,s){if(this._drawing){var o,l,h,p,v=t._parts,w=v.length,T=this._ctx;if(w){for(T.beginPath(),o=0;o<w;o++){for(l=0,h=v[o].length;l<h;l++)p=v[o][l],T[l?"lineTo":"moveTo"](p.x,p.y);s&&T.closePath()}this._fillStroke(T,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var s=t._point,o=this._ctx,l=Math.max(Math.round(t._radius),1),h=(Math.max(Math.round(t._radiusY),1)||l)/l;h!==1&&(o.save(),o.scale(1,h)),o.beginPath(),o.arc(s.x,s.y/h,l,0,Math.PI*2,!1),h!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,s){var o=s.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(s.options&&s.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var s=this._map.mouseEventToLayerPoint(t),o,l,h=this._drawFirst;h;h=h.next)o=h.layer,o.options.interactive&&o._containsPoint(s)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(l=o);this._fireEvent(l?[l]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,s)}},_handleMouseOut:function(t){var s=this._hoveredLayer;s&&(It(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,s){if(!this._mouseHoverThrottled){for(var o,l,h=this._drawFirst;h;h=h.next)o=h.layer,o.options.interactive&&o._containsPoint(s)&&(l=o);l!==this._hoveredLayer&&(this._handleMouseOut(t),l&&(rt(this._container,"leaflet-interactive"),this._fireEvent([l],t,"mouseover"),this._hoveredLayer=l)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,s,o){this._map._fireDOMEvent(s,o||s.type,t)},_bringToFront:function(t){var s=t._order;if(s){var o=s.next,l=s.prev;if(o)o.prev=l;else return;l?l.next=o:o&&(this._drawFirst=o),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(t)}},_bringToBack:function(t){var s=t._order;if(s){var o=s.next,l=s.prev;if(l)l.next=o;else return;o?o.prev=l:l&&(this._drawLast=l),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)}}});function Wa(t){return $.canvas?new Ua(t):null}var mn=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Jd={_initContainer:function(){this._container=pt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ne.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var s=t._container=mn("shape");rt(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",t._path=mn("path"),s.appendChild(t._path),this._updateStyle(t),this._layers[f(t)]=t},_addPath:function(t){var s=t._container;this._container.appendChild(s),t.options.interactive&&t.addInteractiveTarget(s)},_removePath:function(t){var s=t._container;At(s),t.removeInteractiveTarget(s),delete this._layers[f(t)]},_updateStyle:function(t){var s=t._stroke,o=t._fill,l=t.options,h=t._container;h.stroked=!!l.stroke,h.filled=!!l.fill,l.stroke?(s||(s=t._stroke=mn("stroke")),h.appendChild(s),s.weight=l.weight+"px",s.color=l.color,s.opacity=l.opacity,l.dashArray?s.dashStyle=z(l.dashArray)?l.dashArray.join(" "):l.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=l.lineCap.replace("butt","flat"),s.joinstyle=l.lineJoin):s&&(h.removeChild(s),t._stroke=null),l.fill?(o||(o=t._fill=mn("fill")),h.appendChild(o),o.color=l.fillColor||l.color,o.opacity=l.fillOpacity):o&&(h.removeChild(o),t._fill=null)},_updateCircle:function(t){var s=t._point.round(),o=Math.round(t._radius),l=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+s.x+","+s.y+" "+o+","+l+" 0,"+65535*360)},_setPath:function(t,s){t._path.v=s},_bringToFront:function(t){Ci(t._container)},_bringToBack:function(t){ki(t._container)}},_s=$.vml?mn:Qs,pn=Ne.extend({_initContainer:function(){this._container=_s("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=_s("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){At(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ne.prototype._update.call(this);var t=this._bounds,s=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,o.setAttribute("width",s.x),o.setAttribute("height",s.y)),Zt(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(t){var s=t._path=_s("path");t.options.className&&rt(s,t.options.className),t.options.interactive&&rt(s,"leaflet-interactive"),this._updateStyle(t),this._layers[f(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){At(t._path),t.removeInteractiveTarget(t._path),delete this._layers[f(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var s=t._path,o=t.options;s&&(o.stroke?(s.setAttribute("stroke",o.color),s.setAttribute("stroke-opacity",o.opacity),s.setAttribute("stroke-width",o.weight),s.setAttribute("stroke-linecap",o.lineCap),s.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?s.setAttribute("stroke-dasharray",o.dashArray):s.removeAttribute("stroke-dasharray"),o.dashOffset?s.setAttribute("stroke-dashoffset",o.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),o.fill?(s.setAttribute("fill",o.fillColor||o.color),s.setAttribute("fill-opacity",o.fillOpacity),s.setAttribute("fill-rule",o.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(t,s){this._setPath(t,tr(t._parts,s))},_updateCircle:function(t){var s=t._point,o=Math.max(Math.round(t._radius),1),l=Math.max(Math.round(t._radiusY),1)||o,h="a"+o+","+l+" 0 1,0 ",p=t._empty()?"M0 0":"M"+(s.x-o)+","+s.y+h+o*2+",0 "+h+-o*2+",0 ";this._setPath(t,p)},_setPath:function(t,s){t._path.setAttribute("d",s)},_bringToFront:function(t){Ci(t._path)},_bringToBack:function(t){ki(t._path)}});$.vml&&pn.include(Jd);function Ha(t){return $.svg||$.vml?new pn(t):null}dt.include({getRenderer:function(t){var s=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var s=this._paneRenderers[t];return s===void 0&&(s=this._createRenderer({pane:t}),this._paneRenderers[t]=s),s},_createRenderer:function(t){return this.options.preferCanvas&&Wa(t)||Ha(t)}});var $a=Ei.extend({initialize:function(t,s){Ei.prototype.initialize.call(this,this._boundsToLatLngs(t),s)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=kt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Qd(t,s){return new $a(t,s)}pn.create=_s,pn.pointsToPath=tr,Be.geometryToLayer=ls,Be.coordsToLatLng=Lr,Be.coordsToLatLngs=cs,Be.latLngToCoords=Cr,Be.latLngsToCoords=hs,Be.getFeature=Oi,Be.asFeature=ds,dt.mergeOptions({boxZoom:!0});var Ga=Le.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){it(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){At(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),on(),lr(),this._startPoint=this._map.mouseEventToContainerPoint(t),it(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=pt("div","leaflet-zoom-box",this._container),rt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var s=new Tt(this._point,this._startPoint),o=s.getSize();Zt(this._box,s.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(At(this._box),It(this._container,"leaflet-crosshair")),an(),cr(),Pt(document,{contextmenu:ci,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var s=new Gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});dt.addInitHook("addHandler","boxZoom",Ga),dt.mergeOptions({doubleClickZoom:!0});var Ka=Le.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var s=this._map,o=s.getZoom(),l=s.options.zoomDelta,h=t.originalEvent.shiftKey?o-l:o+l;s.options.doubleClickZoom==="center"?s.setZoom(h):s.setZoomAround(t.containerPoint,h)}});dt.addInitHook("addHandler","doubleClickZoom",Ka),dt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var qa=Le.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new $e(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}rt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){It(this._map._container,"leaflet-grab"),It(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=kt(this._map.options.maxBounds);this._offsetLimit=Wt(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var s=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(s),this._prunePositions(s)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,s){return t-(t-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;t.x<s.min.x&&(t.x=this._viscousLimit(t.x,s.min.x)),t.y<s.min.y&&(t.y=this._viscousLimit(t.y,s.min.y)),t.x>s.max.x&&(t.x=this._viscousLimit(t.x,s.max.x)),t.y>s.max.y&&(t.y=this._viscousLimit(t.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,s=Math.round(t/2),o=this._initialWorldOffset,l=this._draggable._newPos.x,h=(l-s+o)%t+s-o,p=(l+s+o)%t-s-o,v=Math.abs(h+o)<Math.abs(p+o)?h:p;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=v},_onDragEnd:function(t){var s=this._map,o=s.options,l=!o.inertia||t.noInertia||this._times.length<2;if(s.fire("dragend",t),l)s.fire("moveend");else{this._prunePositions(+new Date);var h=this._lastPos.subtract(this._positions[0]),p=(this._lastTime-this._times[0])/1e3,v=o.easeLinearity,w=h.multiplyBy(v/p),T=w.distanceTo([0,0]),C=Math.min(o.inertiaMaxSpeed,T),F=w.multiplyBy(C/T),X=C/(o.inertiaDeceleration*v),ut=F.multiplyBy(-X/2).round();!ut.x&&!ut.y?s.fire("moveend"):(ut=s._limitOffset(ut,s.options.maxBounds),wt(function(){s.panBy(ut,{duration:X,easeLinearity:v,noMoveStart:!0,animate:!0})}))}}});dt.addInitHook("addHandler","dragging",qa),dt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ya=Le.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),it(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,s=document.documentElement,o=t.scrollTop||s.scrollTop,l=t.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(l,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s=this._panKeys={},o=this.keyCodes,l,h;for(l=0,h=o.left.length;l<h;l++)s[o.left[l]]=[-1*t,0];for(l=0,h=o.right.length;l<h;l++)s[o.right[l]]=[t,0];for(l=0,h=o.down.length;l<h;l++)s[o.down[l]]=[0,t];for(l=0,h=o.up.length;l<h;l++)s[o.up[l]]=[0,-1*t]},_setZoomDelta:function(t){var s=this._zoomKeys={},o=this.keyCodes,l,h;for(l=0,h=o.zoomIn.length;l<h;l++)s[o.zoomIn[l]]=t;for(l=0,h=o.zoomOut.length;l<h;l++)s[o.zoomOut[l]]=-t},_addHooks:function(){it(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s=t.keyCode,o=this._map,l;if(s in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(l=this._panKeys[s],t.shiftKey&&(l=G(l).multiplyBy(3)),o.options.maxBounds&&(l=o._limitOffset(G(l),o.options.maxBounds)),o.options.worldCopyJump){var h=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(l)));o.panTo(h)}else o.panBy(l)}else if(s in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;ci(t)}}});dt.addInitHook("addHandler","keyboard",Ya),dt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Xa=Le.extend({addHooks:function(){it(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var s=wa(t),o=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var l=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),l),ci(t)},_performZoom:function(){var t=this._map,s=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var l=this._delta/(this._map.options.wheelPxPerZoomLevel*4),h=4*Math.log(2/(1+Math.exp(-Math.abs(l))))/Math.LN2,p=o?Math.ceil(h/o)*o:h,v=t._limitZoom(s+(this._delta>0?p:-p))-s;this._delta=0,this._startTime=null,v&&(t.options.scrollWheelZoom==="center"?t.setZoom(s+v):t.setZoomAround(this._lastMousePos,s+v))}});dt.addInitHook("addHandler","scrollWheelZoom",Xa);var tf=600;dt.mergeOptions({tapHold:$.touchNative&&$.safari&&$.mobile,tapTolerance:15});var Ja=Le.extend({addHooks:function(){it(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var s=t.touches[0];this._startPos=this._newPos=new W(s.clientX,s.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(it(document,"touchend",Ht),it(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),tf),it(document,"touchend touchcancel contextmenu",this._cancel,this),it(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Pt(document,"touchend",Ht),Pt(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Pt(document,"touchend touchcancel contextmenu",this._cancel,this),Pt(document,"touchmove",this._onMove,this)},_onMove:function(t){var s=t.touches[0];this._newPos=new W(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,s){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});o._simulated=!0,s.target.dispatchEvent(o)}});dt.addInitHook("addHandler","tapHold",Ja),dt.mergeOptions({touchZoom:$.touch,bounceAtZoomLimits:!0});var Qa=Le.extend({addHooks:function(){rt(this._map._container,"leaflet-touch-zoom"),it(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){It(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var s=this._map;if(!(!t.touches||t.touches.length!==2||s._animatingZoom||this._zooming)){var o=s.mouseEventToContainerPoint(t.touches[0]),l=s.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(o.add(l)._divideBy(2))),this._startDist=o.distanceTo(l),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),it(document,"touchmove",this._onTouchMove,this),it(document,"touchend touchcancel",this._onTouchEnd,this),Ht(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var s=this._map,o=s.mouseEventToContainerPoint(t.touches[0]),l=s.mouseEventToContainerPoint(t.touches[1]),h=o.distanceTo(l)/this._startDist;if(this._zoom=s.getScaleZoom(h,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&h<1||this._zoom>s.getMaxZoom()&&h>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,h===1)return}else{var p=o._add(l)._divideBy(2)._subtract(this._centerPoint);if(h===1&&p.x===0&&p.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(p),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var v=c(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=wt(v,this,!0),Ht(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),Pt(document,"touchmove",this._onTouchMove,this),Pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});dt.addInitHook("addHandler","touchZoom",Qa),dt.BoxZoom=Ga,dt.DoubleClickZoom=Ka,dt.Drag=qa,dt.Keyboard=Ya,dt.ScrollWheelZoom=Xa,dt.TapHold=Ja,dt.TouchZoom=Qa,n.Bounds=Tt,n.Browser=$,n.CRS=ae,n.Canvas=Ua,n.Circle=Sr,n.CircleMarker=us,n.Class=mt,n.Control=_e,n.DivIcon=za,n.DivOverlay=Ce,n.DomEvent=vd,n.DomUtil=_d,n.Draggable=$e,n.Evented=ht,n.FeatureGroup=Ve,n.GeoJSON=Be,n.GridLayer=fn,n.Handler=Le,n.Icon=Mi,n.ImageOverlay=fs,n.LatLng=gt,n.LatLngBounds=Gt,n.Layer=ge,n.LayerGroup=Ai,n.LineUtil=Ed,n.Map=dt,n.Marker=as,n.Mixin=Sd,n.Path=Ge,n.Point=W,n.PolyUtil=Ld,n.Polygon=Ei,n.Polyline=Ie,n.Popup=ms,n.PosAnimation=ba,n.Projection=Od,n.Rectangle=$a,n.Renderer=Ne,n.SVG=pn,n.SVGOverlay=Za,n.TileLayer=Di,n.Tooltip=ps,n.Transformation=bi,n.Util=ct,n.VideoOverlay=Na,n.bind=c,n.bounds=Wt,n.canvas=Wa,n.circle=zd,n.circleMarker=Zd,n.control=cn,n.divIcon=qd,n.extend=a,n.featureGroup=Id,n.geoJSON=Ba,n.geoJson=Ud,n.gridLayer=Yd,n.icon=Bd,n.imageOverlay=Wd,n.latLng=at,n.latLngBounds=kt,n.layerGroup=Vd,n.map=yd,n.marker=Nd,n.point=G,n.polygon=jd,n.polyline=Fd,n.popup=Gd,n.rectangle=Qd,n.setOptions=k,n.stamp=f,n.svg=Ha,n.svgOverlay=$d,n.tileLayer=Fa,n.tooltip=Kd,n.transformation=oi,n.version=r,n.videoOverlay=Hd;var ef=window.L;n.noConflict=function(){return window.L=ef,this},window.L=n})})(_o,_o.exports);var Js=_o.exports;function na(i,e,n){return Object.freeze({instance:i,context:e,container:n})}function sa(i,e){return e==null?function(r,a){const u=R.useRef();return u.current||(u.current=i(r,a)),u}:function(r,a){const u=R.useRef();u.current||(u.current=i(r,a));const c=R.useRef(r),{instance:d}=u.current;return R.useEffect(function(){c.current!==r&&(e(d,r,c.current),c.current=r)},[d,r,a]),u}}function Oy(i,e){R.useEffect(function(){return(e.layerContainer??e.map).addLayer(i.instance),function(){var u;(u=e.layerContainer)==null||u.removeLayer(i.instance),e.map.removeLayer(i.instance)}},[e,i])}function Hh(i){return function(n){const r=ea(),a=i(ia(n,r),r);return Fh(r.map,n.attribution),Wh(a.current,n.eventHandlers),Oy(a.current,r),a}}function Dy(i,e){const n=sa(i,e),r=Hh(n);return ky(r)}function Ry(i,e){const n=sa(i),r=Ey(n,e);return Ay(r)}function Vy(i,e){const n=sa(i,e),r=Hh(n);return My(r)}function Iy(i,e,n){const{opacity:r,zIndex:a}=e;r!=null&&r!==n.opacity&&i.setOpacity(r),a!=null&&a!==n.zIndex&&i.setZIndex(a)}function By(){return ea().map}function ex(i,e){const n=By();return R.useEffect(function(){return n.on(i,e),function(){n.off(i,e)}},[n,i,e]),n}function go(){return go=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},go.apply(this,arguments)}function Ny({bounds:i,boundsOptions:e,center:n,children:r,className:a,id:u,placeholder:c,style:d,whenReady:f,zoom:m,..._},g){const[x]=R.useState({className:a,id:u,style:d}),[P,A]=R.useState(null);R.useImperativeHandle(g,()=>(P==null?void 0:P.map)??null,[P]);const k=R.useCallback(O=>{if(O!==null&&P===null){const M=new Js.Map(O,_);n!=null&&m!=null?M.setView(n,m):i!=null&&M.fitBounds(i,e),f!=null&&M.whenReady(f),A(Ly(M))}},[]);R.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const N=P?_t.createElement(Uh,{value:P},r):c??null;return _t.createElement("div",go({},x,{ref:k}),N)}const ix=R.forwardRef(Ny),nx=Dy(function({position:e,...n},r){const a=new Js.Marker(e,n);return na(a,Cy(r,{overlayContainer:a}))},function(e,n,r){n.position!==r.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==r.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==r.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==r.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==r.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),sx=Ry(function(e,n){const r=new Js.Popup(e,n.overlayContainer);return na(r,n)},function(e,n,{position:r},a){R.useEffect(function(){const{instance:c}=e;function d(m){m.popup===c&&(c.update(),a(!0))}function f(m){m.popup===c&&a(!1)}return n.map.on({popupopen:d,popupclose:f}),n.overlayContainer==null?(r!=null&&c.setLatLng(r),c.openOn(n.map)):n.overlayContainer.bindPopup(c),function(){var _;n.map.off({popupopen:d,popupclose:f}),(_=n.overlayContainer)==null||_.unbindPopup(),n.map.removeLayer(c)}},[e,n,a,r])}),rx=Vy(function({url:e,...n},r){const a=new Js.TileLayer(e,ia(n,r));return na(a,r)},function(e,n,r){Iy(e,n,r);const{url:a}=n;a!=null&&a!==r.url&&e.setUrl(a)});export{Uy as C,Ky as D,Xy as F,Oc as L,Wy as M,sx as P,wy as T,qy as a,Fg as b,jg as c,Ug as d,Wg as e,Jy as f,hv as g,dv as h,fv as i,pv as j,mv as k,Py as l,Gy as m,ix as n,rx as o,nx as p,ex as q,Wc as r,lg as s,tx as t,Yy as u,zo as v,Y_ as w,Qy as z};
